"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["57250"],{438732:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>r,default:()=>u,assets:()=>o,toc:()=>d,frontMatter:()=>s});var i=JSON.parse('{"id":"WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u94FE\u5F0F\u64CD\u4F5C","title":"HTTPClient-\u94FE\u5F0F\u64CD\u4F5C","description":"\u94FE\u5F0F\u64CD\u4F5C","source":"@site/versioned_docs/version-1.16.x/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u94FE\u5F0F\u64CD\u4F5C.md","sourceDirName":"WEB\u670D\u52A1\u5F00\u53D1/HTTPClient","slug":"/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u94FE\u5F0F\u64CD\u4F5C","permalink":"/1.16.x/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u94FE\u5F0F\u64CD\u4F5C","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-1.16.x/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u94FE\u5F0F\u64CD\u4F5C.md","tags":[],"version":"1.16.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":0,"frontMatter":{"title":"HTTPClient-\u94FE\u5F0F\u64CD\u4F5C","sidebar_position":0,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"HTTPClient","permalink":"/1.16.x/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/"},"next":{"title":"HTTPClient-\u57FA\u672C\u4F7F\u7528","permalink":"/1.16.x/WEB\u670D\u52A1\u5F00\u53D1/HTTPClient/HTTPClient-\u57FA\u672C\u4F7F\u7528"}}'),l=t("785893"),c=t("250065");let s={title:"HTTPClient-\u94FE\u5F0F\u64CD\u4F5C",sidebar_position:0,hide_title:!0},r=void 0,o={},d=[{value:"\u94FE\u5F0F\u64CD\u4F5C",id:"\u94FE\u5F0F\u64CD\u4F5C",level:2},{value:"\u4F7F\u7528\u793A\u4F8B",id:"\u4F7F\u7528\u793A\u4F8B",level:2},{value:"\u793A\u4F8B1\uFF0C\u8BF7\u6C42\u8D85\u65F6\u63A7\u5236",id:"\u793A\u4F8B1\u8BF7\u6C42\u8D85\u65F6\u63A7\u5236",level:3},{value:"\u793A\u4F8B2\uFF0C\u81EA\u5B9A\u4E49 <code>Cookie</code>",id:"\u793A\u4F8B2\u81EA\u5B9A\u4E49-cookie",level:3},{value:"\u793A\u4F8B3\uFF0C\u81EA\u5B9A\u4E49 <code>Header</code>",id:"\u793A\u4F8B3\u81EA\u5B9A\u4E49-header",level:3},{value:"\u793A\u4F8B4\uFF0C\u63D0\u4EA4 <code>Json</code> \u8BF7\u6C42",id:"\u793A\u4F8B4\u63D0\u4EA4-json-\u8BF7\u6C42",level:3},{value:"\u793A\u4F8B5\uFF0C\u63D0\u4EA4 <code>Xml</code> \u8BF7\u6C42",id:"\u793A\u4F8B5\u63D0\u4EA4-xml-\u8BF7\u6C42",level:3}];function a(e){let n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,c.a)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.h2,{id:"\u94FE\u5F0F\u64CD\u4F5C",children:"\u94FE\u5F0F\u64CD\u4F5C"}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"GoFrame"})," \u6846\u67B6\u7684\u5BA2\u6237\u7AEF\u652F\u6301\u4FBF\u6377\u7684\u94FE\u5F0F\u64CD\u4F5C\uFF0C\u5E38\u7528\u65B9\u6CD5\u5982\u4E0B\uFF1A"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"func (c *Client) Ctx(ctx context.Context) *Client\nfunc (c *Client) Timeout(t time.Duration) *Client\nfunc (c *Client) Cookie(m map[string]string) *Client\nfunc (c *Client) Header(m map[string]string) *Client\nfunc (c *Client) HeaderRaw(headers string) *Client\nfunc (c *Client) ContentType(contentType string) *Client\nfunc (c *Client) ContentJson() *Client\nfunc (c *Client) ContentXml() *Client\nfunc (c *Client) BasicAuth(user, pass string) *Client\nfunc (c *Client) Retry(retryCount int, retryInterval time.Duration) *Client\nfunc (c *Client) Prefix(prefix string) *Client\nfunc (c *Client) Proxy(proxyURL string) *Client\nfunc (c *Client) RedirectLimit(redirectLimit int) *Client\nfunc (c *Client) Dump(dump ...bool) *Client\nfunc (c *Client) Use(handlers ...HandlerFunc) *Client\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u7B80\u8981\u8BF4\u660E\uFF1A"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Timeout"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u8BF7\u6C42\u8D85\u65F6\u65F6\u95F4\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Ctx"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u8BF7\u6C42\u7684\u4E0A\u4E0B\u6587\u5BF9\u8C61 ",(0,l.jsx)(n.code,{children:"context.Context"}),"\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Cookie"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u8BF7\u6C42\u7684\u81EA\u5B9A\u4E49 ",(0,l.jsx)(n.code,{children:"Cookie"})," \u4FE1\u606F\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Header*"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u8BF7\u6C42\u7684\u81EA\u5B9A\u4E49 ",(0,l.jsx)(n.code,{children:"Header"})," \u4FE1\u606F\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Content*"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u8BF7\u6C42\u7684 ",(0,l.jsx)(n.code,{children:"Content-Type"})," \u4FE1\u606F\uFF0C\u5E76\u4E14\u652F\u6301\u6839\u636E\u8BE5\u4FE1\u606F\u81EA\u52A8\u68C0\u67E5\u63D0\u4EA4\u53C2\u6570\u5E76\u81EA\u52A8\u7F16\u7801\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"BasicAuth"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E ",(0,l.jsx)(n.code,{children:"HTTP Basic Auth"})," \u6821\u9A8C\u4FE1\u606F\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Retry"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u8BF7\u6C42\u5931\u8D25\u65F6\u91CD\u8FDE\u6B21\u6570\u548C\u91CD\u8FDE\u95F4\u9694\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"Proxy"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6Ehttp\u8BBF\u95EE\u4EE3\u7406\u3002"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"RedirectLimit"})," \u65B9\u6CD5\u7528\u4E8E\u9650\u5236\u91CD\u5B9A\u5411\u8DF3\u8F6C\u6B21\u6570\u3002"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u4F7F\u7528\u793A\u4F8B",children:"\u4F7F\u7528\u793A\u4F8B"}),"\n",(0,l.jsx)(n.h3,{id:"\u793A\u4F8B1\u8BF7\u6C42\u8D85\u65F6\u63A7\u5236",children:"\u793A\u4F8B1\uFF0C\u8BF7\u6C42\u8D85\u65F6\u63A7\u5236"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().Timeout(3*time.Second).GetContent("http://user.svc/v1/user/info/1")\n\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().Timeout(10*time.Second).PostContent("http://order.svc/v1/order/create", g.Map{\n    "uid"         : 1,\n    "sku_id"      : 10000,\n    "amount"      : 19.99,\n    "create_time" : "2020-03-26 12:00:00",\n})\n\n'})}),"\n",(0,l.jsxs)(n.h3,{id:"\u793A\u4F8B2\u81EA\u5B9A\u4E49-cookie",children:["\u793A\u4F8B2\uFF0C\u81EA\u5B9A\u4E49 ",(0,l.jsx)(n.code,{children:"Cookie"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().Cookie("sessionid", "MNV5432PIY76").GetContent("http://user.svc/v1/user/info/1")\n\n'})}),"\n",(0,l.jsxs)(n.h3,{id:"\u793A\u4F8B3\u81EA\u5B9A\u4E49-header",children:["\u793A\u4F8B3\uFF0C\u81EA\u5B9A\u4E49 ",(0,l.jsx)(n.code,{children:"Header"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().Header("Trace-Id", "XVF654RT98UJNMN641V06Y").GetContent("http://user.svc/v1/user/info/1")\n\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().HeaderRaw(`\nReferer: https://goframe.org/\nUser-Agent: MyTesyClient\n`).GetContent("http://user.svc/v1/user/info")\n\n'})}),"\n",(0,l.jsxs)(n.h3,{id:"\u793A\u4F8B4\u63D0\u4EA4-json-\u8BF7\u6C42",children:["\u793A\u4F8B4\uFF0C\u63D0\u4EA4 ",(0,l.jsx)(n.code,{children:"Json"})," \u8BF7\u6C42"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().ContentJson().PostContent("http://order.svc/v1/order/create", g.Map{\n    "uid"         : 1,\n    "sku_id"      : 10000,\n    "amount"      : 19.99,\n    "create_time" : "2020-03-26 12:00:00",\n})\n\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8BE5\u8BF7\u6C42\u5C06\u4F1A\u5C06 ",(0,l.jsx)(n.code,{children:"Content-Type"})," \u8BBE\u7F6E\u4E3A ",(0,l.jsx)(n.code,{children:"application/json"}),"\uFF0C\u5E76\u4E14\u5C06\u63D0\u4EA4\u53C2\u6570\u81EA\u52A8\u7F16\u7801\u4E3A ",(0,l.jsx)(n.code,{children:"Json"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-json",children:'{"uid":1,"sku_id":10000,"amount":19.99,"create_time":"2020-03-26 12:00:00"}\n\n'})}),"\n",(0,l.jsxs)(n.h3,{id:"\u793A\u4F8B5\u63D0\u4EA4-xml-\u8BF7\u6C42",children:["\u793A\u4F8B5\uFF0C\u63D0\u4EA4 ",(0,l.jsx)(n.code,{children:"Xml"})," \u8BF7\u6C42"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'g.Client().ContentXml().PostContent("http://order.svc/v1/order/create", g.Map{\n    "uid"         : 1,\n    "sku_id"      : 10000,\n    "amount"      : 19.99,\n    "create_time" : "2020-03-26 12:00:00",\n})\n\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u8BE5\u8BF7\u6C42\u5C06\u4F1A\u5C06 ",(0,l.jsx)(n.code,{children:"Content-Type"})," \u8BBE\u7F6E\u4E3A ",(0,l.jsx)(n.code,{children:"application/xml"}),"\uFF0C\u5E76\u4E14\u5C06\u63D0\u4EA4\u53C2\u6570\u81EA\u52A8\u7F16\u7801\u4E3A ",(0,l.jsx)(n.code,{children:"Xml"}),":"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-xml",children:"<doc><amount>19.99</amount><create_time>2020-03-26 12:00:00</create_time><sku_id>10000</sku_id><uid>1</uid></doc>\n\n"})})]})}function u(e={}){let{wrapper:n}={...(0,c.a)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return r},a:function(){return s}});var i=t(667294);let l={},c=i.createContext(l);function s(e){let n=i.useContext(c);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:s(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);