"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["91692"],{985491:function(e,n,c){c.r(n),c.d(n,{metadata:()=>t,contentTitle:()=>s,default:()=>o,assets:()=>d,toc:()=>a,frontMatter:()=>l});var t=JSON.parse('{"id":"\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD","title":"\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD","description":"\u4EE5\u4E0B\u5E38\u7528\u65B9\u6CD5\u5217\u8868\uFF0C\u6587\u6863\u66F4\u65B0\u53EF\u80FD\u6EDE\u540E\u4E8E\u4EE3\u7801\u65B0\u7279\u6027\uFF0C\u66F4\u591A\u7684\u65B9\u6CD5\u53CA\u793A\u4F8B\u8BF7\u53C2\u8003\u4EE3\u7801\u6587\u6863\uFF1A https://pkg.go.dev/github.com/gogf/gf/v2/os/gcache","source":"@site/versioned_docs/version-2.6.x/\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD.md","sourceDirName":"\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406","slug":"/\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD","permalink":"/2.6.x/\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.6.x/\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD.md","tags":[],"version":"2.6.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":3,"frontMatter":{"title":"\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD","sidebar_position":3,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"\u7F13\u5B58\u7BA1\u7406-Redis\u7F13\u5B58","permalink":"/2.6.x/\u6838\u5FC3\u7EC4\u4EF6/\u7F13\u5B58\u7BA1\u7406/\u7F13\u5B58\u7BA1\u7406-Redis\u7F13\u5B58"},"next":{"title":"\u6A21\u677F\u5F15\u64CE","permalink":"/2.6.x/\u6838\u5FC3\u7EC4\u4EF6/\u6A21\u677F\u5F15\u64CE/"}}'),r=c("785893"),i=c("250065");let l={title:"\u7F13\u5B58\u7BA1\u7406-\u65B9\u6CD5\u4ECB\u7ECD",sidebar_position:3,hide_title:!0},s=void 0,d={},a=[{value:"<code>Set</code>",id:"set",level:2},{value:"<code>SetAdapter</code>",id:"setadapter",level:2},{value:"<code>SetIfNotExist</code>",id:"setifnotexist",level:2},{value:"<code>SetMap</code>",id:"setmap",level:2},{value:"<code>Size</code>",id:"size",level:2},{value:"<code>Update</code>",id:"update",level:2},{value:"<code>UpdateExpire</code>",id:"updateexpire",level:2},{value:"<code>Values</code>",id:"values",level:2},{value:"<code>Close</code>",id:"close",level:2},{value:"<code>Contains</code>",id:"contains",level:2},{value:"<code>Data</code>",id:"data",level:2},{value:"<code>Get</code>",id:"get",level:2},{value:"<code>GetExpire</code>",id:"getexpire",level:2},{value:"<code>GetOrSet</code>",id:"getorset",level:2},{value:"<code>GetOrSetFunc</code>",id:"getorsetfunc",level:2},{value:"<code>GetOrSetFuncLock</code>",id:"getorsetfunclock",level:2},{value:"<code>Keys</code>",id:"keys",level:2},{value:"<code>KeyStrings</code>",id:"keystrings",level:2},{value:"<code>Remove</code>",id:"remove",level:2},{value:"<code>Removes</code>",id:"removes",level:2},{value:"<code>Clear</code>",id:"clear",level:2},{value:"<code>MustGet</code>",id:"mustget",level:2},{value:"<code>MustGetOrSet</code>",id:"mustgetorset",level:2},{value:"<code>MustGetOrSetFunc</code>",id:"mustgetorsetfunc",level:2},{value:"<code>MustGetOrSetFuncLock</code>",id:"mustgetorsetfunclock",level:2},{value:"<code>MustContains</code>",id:"mustcontains",level:2},{value:"<code>MustGetExpire</code>",id:"mustgetexpire",level:2},{value:"<code>MustSize</code>",id:"mustsize",level:2},{value:"<code>MustData</code>",id:"mustdata",level:2},{value:"<code>MustKeys</code>",id:"mustkeys",level:2},{value:"<code>MustKeyStrings</code>",id:"mustkeystrings",level:2},{value:"<code>MustValues</code>",id:"mustvalues",level:2}];function x(e){let n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\u4EE5\u4E0B\u5E38\u7528\u65B9\u6CD5\u5217\u8868\uFF0C\u6587\u6863\u66F4\u65B0\u53EF\u80FD\u6EDE\u540E\u4E8E\u4EE3\u7801\u65B0\u7279\u6027\uFF0C\u66F4\u591A\u7684\u65B9\u6CD5\u53CA\u793A\u4F8B\u8BF7\u53C2\u8003\u4EE3\u7801\u6587\u6863\uFF1A ",(0,r.jsx)(n.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gcache",children:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gcache"})]}),"\n",(0,r.jsx)(n.h2,{id:"set",children:(0,r.jsx)(n.code,{children:"Set"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E\uFF1A\u4F7F\u7528 ",(0,r.jsx)(n.code,{children:"key-value"})," \u952E\u503C\u5BF9\u8BBE\u7F6E\u7F13\u5B58\uFF0C\u952E\u503C\u53EF\u4EE5\u662F\u4EFB\u610F\u7C7B\u578B\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Set(ctx context.Context, key interface{}, value interface{}, duration time.Duration) error\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u5C06 ",(0,r.jsx)(n.code,{children:"slice"})," \u5207\u7247\u8BBE\u7F6E\u5230\u952E\u540D ",(0,r.jsx)(n.code,{children:"k1"})," \u7684\u7F13\u5B58\u4E2D\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Set() {\n      c := gcache.New()\n      c.Set(ctx, "k1", g.Slice{1, 2, 3, 4, 5, 6, 7, 8, 9}, 0)\n      fmt.Println(c.Get(ctx, "k1"))\n\n      // Output:\n      // [1,2,3,4,5,6,7,8,9] <nil>\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"setadapter",children:(0,r.jsx)(n.code,{children:"SetAdapter"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"SetAdapter"})," \u66F4\u6539\u6B64\u7F13\u5B58\u5BF9\u8C61\u7684\u5E95\u5C42\u9002\u914D\u5668\u3002\u8BF7\u6CE8\u610F\uFF0C\u6B64\u8BBE\u7F6E\u51FD\u6570\u4E0D\u662F\u5E76\u53D1\u5B89\u5168\u7684\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"SetAdapter(adapter Adapter)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A\u53EF\u4EE5\u81EA\u5DF1\u6839\u636E\u9700\u8981\u5B9E\u73B0\u4EFB\u610F\u7F13\u5B58\u9002\u914D\u5668\uFF0C\u5B9E\u73B0\u63A5\u53E3\u65B9\u6CD5\u5373\u53EF\u3002"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_SetAdapters() {\n      c := gcache.New()\n      adapter := gcache.New()\n      c.SetAdapter(adapter)\n      c.Set(ctx, "k1", g.Slice{1, 2, 3, 4, 5, 6, 7, 8, 9}, 0)\n      fmt.Println(c.Get(ctx, "k1"))\n\n      // Output:\n      // [1,2,3,4,5,6,7,8,9] <nil>\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"setifnotexist",children:(0,r.jsx)(n.code,{children:"SetIfNotExist"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u5F53\u6307\u5B9A ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u952E\u503C\u4E0D\u5B58\u5728\u65F6\u8BBE\u7F6E\u5176\u5BF9\u5E94\u7684\u952E\u503C ",(0,r.jsx)(n.code,{children:"value"})," \u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"true"}),"\uFF0C\u5426\u5219\u4EC0\u4E48\u90FD\u4E0D\u505A\u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"false"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"SetIfNotExist(ctx context.Context, key interface{}, value interface{}, duration time.Duration) (ok bool, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"SetIfNotExist"})," \u76F4\u63A5 ",(0,r.jsx)(n.code,{children:"\u5224\u65AD\u5199\u5165"}),"\uFF0C\u5E76\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_SetIfNotExist() {\n      c := gcache.New()\n      // Write when the key name does not exist, and set the expiration time to 1000 milliseconds\n      k1, err := c.SetIfNotExist(ctx, "k1", "v1", 1000*time.Millisecond)\n      fmt.Println(k1, err)\n\n      // Returns false when the key name already exists\n      k2, err := c.SetIfNotExist(ctx, "k1", "v2", 1000*time.Millisecond)\n      fmt.Println(k2, err)\n\n      // Print the current list of key values\n      keys1, _ := c.Keys(ctx)\n      fmt.Println(keys1)\n\n      // It does not expire if `duration` == 0. It deletes the `key` if `duration` < 0 or given `value` is nil.\n      c.SetIfNotExist(ctx, "k1", 0, -10000)\n\n      // Wait 1 second for K1: V1 to expire automatically\n      time.Sleep(1200 * time.Millisecond)\n\n      // Print the current key value pair again and find that K1: V1 has expired\n      keys2, _ := c.Keys(ctx)\n      fmt.Println(keys2)\n\n      // Output:\n      // true <nil>\n      // false <nil>\n      // [k1]\n      // [<nil>]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"setmap",children:(0,r.jsx)(n.code,{children:"SetMap"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u6279\u91CF\u8BBE\u7F6E\u952E\u503C\u5BF9\uFF0C\u8F93\u5165\u53C2\u6570\u7C7B\u578B\u4E3A ",(0,r.jsx)(n.code,{children:"map[interface{}]interface{}"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"SetMap(ctx context.Context, data map[interface{}]interface{}, duration time.Duration) error\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_SetMap() {\n       c := gcache.New()\n      // map[interface{}]interface{}\n      data := g.MapAnyAny{\n          "k1": "v1",\n          "k2": "v2",\n          "k3": "v3",\n      }\n      c.SetMap(ctx, data, 1000*time.Millisecond)\n\n      // Gets the specified key value\n      v1, _ := c.Get(ctx, "k1")\n      v2, _ := c.Get(ctx, "k2")\n      v3, _ := c.Get(ctx, "k3")\n\n      fmt.Println(v1, v2, v3)\n\n      // Output:\n      // v1 v2 v3\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"size",children:(0,r.jsx)(n.code,{children:"Size"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"Size"})," \u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"\u9879\u6570"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Size(ctx context.Context) (size int, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func ExampleCache_Size() {\n      c := gcache.New()\n\n      // Add 10 elements without expiration\n      for i := 0; i < 10; i++ {\n          c.Set(ctx, i, i, 0)\n      }\n\n      // Size returns the number of items in the cache.\n      n, _ := c.Size(ctx)\n      fmt.Println(n)\n\n      // Output:\n      // 10\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"update",children:(0,r.jsx)(n.code,{children:"Update"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"Update"})," \u66F4\u65B0 ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u5BF9\u5E94\u7684\u952E\u503C\uFF0C\u4F46\u4E0D\u66F4\u6539\u5176 ",(0,r.jsx)(n.code,{children:"\u8FC7\u671F\u65F6\u95F4"}),"\uFF0C\u5E76\u8FD4\u56DE\u65E7\u503C\u3002\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE\u7684 ",(0,r.jsx)(n.code,{children:"exist"})," \u503C\u4E3A ",(0,r.jsx)(n.code,{children:"false"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Update(ctx context.Context, key interface{}, value interface{}) (oldValue *gvar.Var, exist bool, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"SetMap"})," \u6DFB\u52A0\u591A\u4E2A\u7F13\u5B58\uFF0C\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Update"})," \u6307\u5B9A ",(0,r.jsx)(n.code,{children:"key"})," \u4FEE\u6539 ",(0,r.jsx)(n.code,{children:"value"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Update() {\n      c := gcache.New()\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2", "k3": "v3"}, 0)\n\n      k1, _ := c.Get(ctx, "k1")\n      fmt.Println(k1)\n      k2, _ := c.Get(ctx, "k2")\n      fmt.Println(k2)\n      k3, _ := c.Get(ctx, "k3")\n      fmt.Println(k3)\n\n      re, exist, _ := c.Update(ctx, "k1", "v11")\n      fmt.Println(re, exist)\n\n      re1, exist1, _ := c.Update(ctx, "k4", "v44")\n      fmt.Println(re1, exist1)\n\n      kup1, _ := c.Get(ctx, "k1")\n      fmt.Println(kup1)\n      kup2, _ := c.Get(ctx, "k2")\n      fmt.Println(kup2)\n      kup3, _ := c.Get(ctx, "k3")\n      fmt.Println(kup3)\n\n      // Output:\n      // v1\n      // v2\n      // v3\n      // v1 true\n      //  false\n      // v11\n      // v2\n      // v3\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"updateexpire",children:(0,r.jsx)(n.code,{children:"UpdateExpire"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"UpdateExpire"})," \u66F4\u65B0 ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u8FC7\u671F\u65F6\u95F4\u5E76\u8FD4\u56DE\u65E7\u7684 ",(0,r.jsx)(n.code,{children:"\u8FC7\u671F\u65F6\u95F4\u503C"}),"\u3002\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"-1"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"UpdateExpire(ctx context.Context, key interface{}, duration time.Duration) (oldDuration time.Duration, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"UpdateExpire"})," \u66F4\u65B0 ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u8FC7\u671F\u65F6\u95F4\u5E76\u6253\u5370\u67E5\u770B\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_UpdateExpire() {\n      c := gcache.New()\n      c.Set(ctx, "k1", "v1", 1000*time.Millisecond)\n      expire, _ := c.GetExpire(ctx, "k1")\n      fmt.Println(expire)\n\n      c.UpdateExpire(ctx, "k1", 500*time.Millisecond)\n\n      expire1, _ := c.GetExpire(ctx, "k1")\n      fmt.Println(expire1)\n\n      // Output:\n      // 1s\n      // 500ms\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"values",children:(0,r.jsx)(n.code,{children:"Values"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Values"})," \u83B7\u53D6\u7F13\u5B58\u4E2D\u7684\u6240\u6709\u503C\uFF0C\u4EE5\u5207\u7247\u65B9\u5F0F\u8FD4\u56DE\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Values(ctx context.Context) (values []interface{}, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Values() {\n      c := gcache.New()\n\n      c.Set(ctx, "k1", g.Map{"k1": "v1", "k2": "v2"}, 0)\n\n      // Values returns all values in the cache as slice.\n      data, _ := c.Values(ctx)\n      fmt.Println(data)\n\n      // May Output:\n      // [map[k1:v1 k2:v2]]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"close",children:(0,r.jsx)(n.code,{children:"Close"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u5173\u95ED\u7F13\u5B58\uFF0C\u8BA9 ",(0,r.jsx)(n.code,{children:"GC"})," \u56DE\u6536\u8D44\u6E90\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B ",(0,r.jsx)(n.code,{children:"\u53EF\u4E0D\u5173\u95ED"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Close(ctx context.Context) error\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u901A\u8FC7 ",(0,r.jsx)(n.code,{children:"Close"})," \u5373\u53EF\u5173\u95ED\u7F13\u5B58\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Close() {\n       c := gcache.New()\n\n      c.Set(ctx, "k1", "v", 0)\n      data, _ := c.Get(ctx, "k1")\n      fmt.Println(data)\n\n      // Close closes the cache if necessary.\n      c.Close(ctx)\n\n      data1, _ := c.Get(ctx, "k1")\n\n      fmt.Println(data1)\n\n       // Output:\n      // v\n      // v\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"contains",children:(0,r.jsx)(n.code,{children:"Contains"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u5982\u679C\u7F13\u5B58\u4E2D\u5B58\u5728\u6307\u5B9A\u7684 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219 ",(0,r.jsx)(n.code,{children:"Contains"})," \u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"true"}),"\uFF0C\u5426\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"false"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Contains(ctx context.Context, key interface{}) (bool, error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Contains() {\n       c := gcache.New()\n\n      // Set Cache\n      c.Set(ctx, "k", "v", 0)\n\n      data, _ := c.Contains(ctx, "k")\n      fmt.Println(data)\n\n      // return false\n      data1, _ := c.Contains(ctx, "k1")\n      fmt.Println(data1)\n\n       // Output:\n      // true\n      // false\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"data",children:(0,r.jsx)(n.code,{children:"Data"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u6570\u636E\u4EE5 ",(0,r.jsx)(n.code,{children:"map"})," \u7C7B\u578B\u8FD4\u56DE\u7F13\u5B58\u4E2D\u6240\u6709 ",(0,r.jsx)(n.code,{children:"\u952E\u503C\u5BF9('key':'value')"})," \u7684\u62F7\u8D1D\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Data(ctx context.Context) (data map[interface{}]interface{}, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u83B7\u53D6\u6240\u6709\u7F13\u5B58\u6570\u636E\u4EE5 ",(0,r.jsx)(n.code,{children:"map[interface{}]interface{}"})," \u8FD4\u56DE"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Data() {\n        c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1"}, 0)\n      //c.Set(ctx, "k5", "v5", 0)\n\n      data, _ := c.Data(ctx)\n      fmt.Println(data)\n\n       // Output:\n      // map[k1:v1]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"get",children:(0,r.jsx)(n.code,{children:"Get"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"Get"})," \u68C0\u7D22\u5E76\u8FD4\u56DE\u7ED9\u5B9A ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u5173\u8054\u503C\u3002\u5982\u679C\u5B83\u4E0D\u5B58\u5728\u3001\u503C\u4E3A\u96F6\u6216\u5DF2\u8FC7\u671F\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"nil"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Get(ctx context.Context, key interface{}) (*gvar.Var, error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Get() {\n         c := gcache.New()\n\n      // Set Cache Object\n      c.Set(ctx, "k1", "v1", 0)\n\n      data, _ := c.Get(ctx, "k1")\n      fmt.Println(data)\n       // Output:\n      // v1\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getexpire",children:(0,r.jsx)(n.code,{children:"GetExpire"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"GetExpire"})," \u68C0\u7D22\u5E76\u8FD4\u56DE\u7F13\u5B58\u4E2D ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u8FC7\u671F\u65F6\u95F4\u3002\u6CE8\u610F\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"key"})," \u4E3A\u6C38\u4E0D\u8FC7\u671F\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"0"}),"\u3002\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"-1"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"GetExpire(ctx context.Context, key interface{}) (time.Duration, error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_GetExpire() {\n      c := gcache.New()\n\n      // Set cache without expiration\n      c.Set(ctx, "k", "v", 10000*time.Millisecond)\n\n      expire, _ := c.GetExpire(ctx, "k")\n      fmt.Println(expire)\n\n       // Output:\n      // 10s\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getorset",children:(0,r.jsx)(n.code,{children:"GetOrSet"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u68C0\u7D22\u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u503C\uFF0C\u6216\u8005\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"key-value"})," \u5BF9\uFF0C\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u76F4\u63A5\u8BBE\u7F6E\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"GetOrSet(ctx context.Context, key interface{}, value interface{}, duration time.Duration) (result *gvar.Var, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u7528 ",(0,r.jsx)(n.code,{children:"GetOrSet"})," \u5224\u65AD ",(0,r.jsx)(n.code,{children:"key"})," \u4E0D\u5B58\u5728\u5219\u76F4\u63A5\u8BBE\u7F6E\uFF0C\u5E76\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"duration"})," \u65F6\u95F4\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_GetOrSet() {\n      c := gcache.New()\n\n      data, _ := c.GetOrSet(ctx, "k", "v", 10000*time.Millisecond)\n      fmt.Println(data)\n\n      data1, _ := c.Get(ctx, "k")\n      fmt.Println(data1)\n\n      // Output:\n      // v\n      // v\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getorsetfunc",children:(0,r.jsx)(n.code,{children:"GetOrSetFunc"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u68C0\u7D22\u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u503C\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"key"})," \u5BF9\u5E94\u7684\u503C\u4E0D\u5B58\u5728\u5219\u4F7F\u7528\u51FD\u6570 ",(0,r.jsx)(n.code,{children:"func"})," \u7684\u7ED3\u679C\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5982\u679C\u7F13\u5B58\u4E2D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE\u5176\u7ED3\u679C\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"GetOrSetFunc(ctx context.Context, key interface{}, f func(ctx context.Context) (interface{}, error), duration time.Duration) (result *gvar.Var, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A ",(0,r.jsx)(n.code,{children:"k1"})," \u7684\u8BBE\u7F6E\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"func"})," \u6267\u884C\u7ED3\u679C\uFF0C ",(0,r.jsx)(n.code,{children:"k2"})," \u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"nil"})," \u5219\u4E0D\u6267\u884C\u4EFB\u4F55\u64CD\u4F5C\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_GetOrSetFunc() {\n      c := gcache.New()\n\n      c.GetOrSetFunc(ctx, "k1", func(ctx context.Context) (value interface{}, err error) {\n          return "v1", nil\n      }, 10000*time.Millisecond)\n      v, _ := c.Get(ctx, "k1")\n      fmt.Println(v)\n\n      c.GetOrSetFunc(ctx, "k2", func(ctx context.Context) (value interface{}, err error) {\n          return nil, nil\n      }, 10000*time.Millisecond)\n      v1, _ := c.Get(ctx, "k2")\n      fmt.Println(v1)\n\n      // Output:\n      // v1\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"getorsetfunclock",children:(0,r.jsx)(n.code,{children:"GetOrSetFuncLock"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u4E0E ",(0,r.jsx)(n.code,{children:"GetOrSetFunc"})," \u4E00\u81F4\uFF0C\u4F46\u662F\u4E0D\u80FD\u91CD\u590D\u6216\u8005 ",(0,r.jsx)(n.code,{children:"\u8986\u76D6\u6CE8\u518C"})," \u7F13\u5B58\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"GetOrSetFuncLock(ctx context.Context, key interface{}, f func(ctx context.Context) (interface{}, error), duration time.Duration) (result *gvar.Var, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u793A\u4F8B\uFF1A\u7B2C1\u6B21\u7684\u8BBE\u7F6E\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"func"})," \u6267\u884C\u7ED3\u679C\uFF0C\u7B2C2\u6B21\u8BBE\u7F6E\u64CD\u4F5C\u5219\u5931\u6548\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_GetOrSetFuncLock() {\n      c := gcache.New()\n\n      c.GetOrSetFuncLock(ctx, "k1", func(ctx context.Context) (value interface{}, err error) {\n          return "v1", nil\n      }, 0)\n      v, _ := c.Get(ctx, "k1")\n      fmt.Println(v)\n\n      c.GetOrSetFuncLock(ctx, "k1", func(ctx context.Context) (value interface{}, err error) {\n          return "update v1", nil\n      }, 0)\n      v, _ = c.Get(ctx, "k1")\n      fmt.Println(v)\n\n      c.Remove(ctx, g.Slice{"k1"}...)\n\n      // Output:\n      // v1\n      // v1\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"keys",children:(0,r.jsx)(n.code,{children:"Keys"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u7F13\u5B58\u4E2D\u6240\u6709\u7684 ",(0,r.jsx)(n.code,{children:"key"})," \u6240\u6709\u952E\u540D\u5E76\u4EE5 ",(0,r.jsx)(n.code,{children:"\u5207\u7247\u683C\u5F0F(Slice)"})," \u8FD4\u56DE\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Keys(ctx context.Context) (keys []interface{}, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Keys() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1"}, 0)\n\n      // Print the current list of key values\n      keys1, _ := c.Keys(ctx)\n      fmt.Println(keys1)\n\n      // Output:\n      // [k1]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"keystrings",children:(0,r.jsx)(n.code,{children:"KeyStrings"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"KeyStrings"})," \u4EE5\u5B57\u7B26\u4E32 ",(0,r.jsx)(n.code,{children:"\u5207\u7247"})," \u7684\u5F62\u5F0F\u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"\u6240\u6709\u952E"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) KeyStrings(ctx context.Context) ([]string, error) {\n      keys, err := c.Keys(ctx)\n      if err != nil {\n          return nil, err\n      }\n      return gconv.Strings(keys), nil\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_KeyStrings() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2"}, 0)\n\n      // KeyStrings returns all keys in the cache as string slice.\n      keys,_ := c.KeyStrings(ctx)\n      fmt.Println(keys)\n\n      // May Output:\n      // [k1 k2]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"remove",children:(0,r.jsx)(n.code,{children:"Remove"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u79FB\u9664\u4ECE\u7F13\u5B58\u4E2D ",(0,r.jsx)(n.code,{children:"\u5220\u9664\u4E00\u4E2A\u6216\u591A\u4E2A\u952E"}),"\uFF0C\u5E76\u8FD4\u56DE\u6700\u540E\u4E00\u4E2A\u5220\u9664\u7684\u952E\u503C\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"Remove(ctx context.Context, keys ...interface{}) (lastValue *gvar.Var, err error)\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Remove() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2"}, 0)\n\n      c.Remove(ctx, "k1")\n\n      data, _ := c.Data(ctx)\n      fmt.Println(data)\n\n      // Output:\n      // map[k2:v2]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"removes",children:(0,r.jsx)(n.code,{children:"Removes"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u4ECE\u7F13\u5B58\u4E2D ",(0,r.jsx)(n.code,{children:"\u5220\u9664\u591A\u4E2A\u952E"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) Removes(ctx context.Context, keys []interface{}) error {\n      _, err := c.Remove(ctx, keys...)\n      return err\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Removes() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2", "k3": "v3", "k4": "v4"}, 0)\n\n      c.Removes(ctx, g.Slice{"k1", "k2", "k3"})\n\n      data, _ := c.Data(ctx)\n      fmt.Println(data)\n\n      // Output:\n      // map[k4:v4]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"clear",children:(0,r.jsx)(n.code,{children:"Clear"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u6E05\u9664 ",(0,r.jsx)(n.code,{children:"\u6240\u6709\u7F13\u5B58"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C\u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) Clear(ctx context.Context) error\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_Clear() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2", "k3": "v3", "k4": "v4"}, 0)\n\n      c.Clear(ctx)\n\n      data, _ := c.Data(ctx)\n      fmt.Println(data)\n\n      // Output:\n      // map[]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustget",children:(0,r.jsx)(n.code,{children:"MustGet"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"MustGet"})," \u68C0\u7D22\u5E76\u8FD4\u56DE\u7ED9\u5B9A ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u5173\u8054\u503C\u3002\u5982\u679C\u5B83\u4E0D\u5B58\u5728\u3001\u503C\u4E3A\u96F6\u6216\u5DF2\u8FC7\u671F\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"nil"})," \u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustGet(ctx context.Context, key interface{}) *gvar.Var {\n      v, err := c.Get(ctx, key)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustGet() {\n       c := gcache.New()\n\n       c.Set(ctx, "k1", "v1", 0)\n       k2 := c.MustGet(ctx, "k2")\n\n       k1 := c.MustGet(ctx, "k1")\n      fmt.Println(k1)\n\n      fmt.Println(k2)\n\n       // Output:\n      // v1\n      //\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustgetorset",children:(0,r.jsx)(n.code,{children:"MustGetOrSet"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u68C0\u7D22\u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u503C\uFF0C\u6216\u8005\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"key-value"})," \u5BF9\uFF0C\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u76F4\u63A5\u8BBE\u7F6E\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustGetOrSet(ctx context.Context, key interface{}, value interface{}, duration time.Duration) *gvar.Var {\n      v, err := c.GetOrSet(ctx, key, value, duration)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustGetOrSet() {\n\n      // Create a cache object,\n      // Of course, you can also easily use the gcache package method directly\n      c := gcache.New()\n\n      // MustGetOrSet acts like GetOrSet, but it panics if any error occurs.\n      k1 := c.MustGetOrSet(ctx, "k1", "v1", 0)\n      fmt.Println(k1)\n\n      k2 := c.MustGetOrSet(ctx, "k1", "v2", 0)\n      fmt.Println(k2)\n\n      // Output:\n      // v1\n      // v1\n\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustgetorsetfunc",children:(0,r.jsx)(n.code,{children:"MustGetOrSetFunc"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u68C0\u7D22\u5E76\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u503C\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"key"})," \u5BF9\u5E94\u7684\u503C\u4E0D\u5B58\u5728\u5219\u4F7F\u7528\u51FD\u6570 ",(0,r.jsx)(n.code,{children:"func"})," \u7684\u7ED3\u679C\u8BBE\u7F6E ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5982\u679C\u7F13\u5B58\u4E2D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE\u5176\u7ED3\u679C\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustGetOrSetFunc(ctx context.Context, key interface{}, f func(ctx context.Context) (interface{}, error), duration time.Duration) *gvar.Var {\n      v, err := c.GetOrSetFunc(ctx, key, f, duration)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func ExampleCache_MustGetOrSetFunc() {\n      c := gcache.New()\n\n      c.MustGetOrSetFunc(ctx, 1, func(ctx context.Context) (interface{}, error) {\n          return 111, nil\n      }, 10000*time.Millisecond)\n      v := c.MustGet(ctx, 1)\n      fmt.Println(v)\n\n      c.MustGetOrSetFunc(ctx, 2, func(ctx context.Context) (interface{}, error) {\n          return nil, nil\n      }, 10000*time.Millisecond)\n      v1 := c.MustGet(ctx, 2)\n      fmt.Println(v1)\n\n      // Output:\n      // 111\n      //\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mustgetorsetfunclock",children:(0,r.jsx)(n.code,{children:"MustGetOrSetFuncLock"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u4E0E ",(0,r.jsx)(n.code,{children:"MustGetOrSetFunc"})," \u4E00\u81F4\uFF0C\u4F46\u662F\u4E0D\u80FD\u91CD\u590D\u6216\u8005 ",(0,r.jsx)(n.code,{children:"\u8986\u76D6\u6CE8\u518C"})," \u7F13\u5B58\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustGetOrSetFuncLock(ctx context.Context, key interface{}, f func(ctx context.Context) (interface{}, error), duration time.Duration) *gvar.Var {\n      v, err := c.GetOrSetFuncLock(ctx, key, f, duration)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustGetOrSetFuncLock() {\n      c := gcache.New()\n\n      c.MustGetOrSetFuncLock(ctx, "k1", func(ctx context.Context) (interface{}, error) {\n          return "v1", nil\n      }, 0)\n      v := c.MustGet(ctx, "k1")\n      fmt.Println(v)\n\n      // Modification failed\n      c.MustGetOrSetFuncLock(ctx, "k1", func(ctx context.Context) (interface{}, error) {\n          return "update v1", nil\n      }, 0)\n      v = c.MustGet(ctx, "k1")\n      fmt.Println(v)\n\n      // Output:\n      // v1\n      // v1\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustcontains",children:(0,r.jsx)(n.code,{children:"MustContains"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u5982\u679C\u7F13\u5B58\u4E2D\u5B58\u5728\u6307\u5B9A\u7684 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219 ",(0,r.jsx)(n.code,{children:"Contains"})," \u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"true"}),"\uFF0C\u5426\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"false"}),"\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustContains(ctx context.Context, key interface{}) bool {\n      v, err := c.Contains(ctx, key)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustContains() {\n      c := gcache.New()\n\n      // Set Cache\n      c.Set(ctx, "k", "v", 0)\n\n      // Contains returns true if `key` exists in the cache, or else returns false.\n      // return true\n      data := c.MustContains(ctx, "k")\n      fmt.Println(data)\n\n      // return false\n      data1 := c.MustContains(ctx, "k1")\n      fmt.Println(data1)\n\n      // Output:\n      // true\n      // false\n\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustgetexpire",children:(0,r.jsx)(n.code,{children:"MustGetExpire"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E:\xa0 ",(0,r.jsx)(n.code,{children:"MustGetExpire"})," \u68C0\u7D22\u5E76\u8FD4\u56DE\u7F13\u5B58\u4E2D ",(0,r.jsx)(n.code,{children:"key"})," \u7684\u8FC7\u671F\u65F6\u95F4\u3002\u6CE8\u610F\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"key"})," \u4E3A\u6C38\u4E0D\u8FC7\u671F\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"0"}),"\u3002\u5982\u679C\u7F13\u5B58\u4E2D\u4E0D\u5B58\u5728 ",(0,r.jsx)(n.code,{children:"key"}),"\uFF0C\u5219\u8FD4\u56DE ",(0,r.jsx)(n.code,{children:"-1"}),"\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustGetExpire(ctx context.Context, key interface{}) time.Duration {\n      v, err := c.GetExpire(ctx, key)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustGetExpire() {\n      c := gcache.New()\n\n      // Set cache without expiration\n      c.Set(ctx, "k", "v", 10000*time.Millisecond)\n\n      // MustGetExpire acts like GetExpire, but it panics if any error occurs.\n      expire := c.MustGetExpire(ctx, "k")\n      fmt.Println(expire)\n\n      // May Output:\n      // 10s\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustsize",children:(0,r.jsx)(n.code,{children:"MustSize"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E:\xa0 ",(0,r.jsx)(n.code,{children:"MustSize"})," \u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684\u9879\u6570\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustSize(ctx context.Context) int {\n      v, err := c.Size(ctx)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func ExampleCache_MustSize() {\n      c := gcache.New()\n\n      // Add 10 elements without expiration\n      for i := 0; i < 10; i++ {\n          c.Set(ctx, i, i, 0)\n      }\n\n      // Size returns the number of items in the cache.\n      n := c.MustSize(ctx)\n      fmt.Println(n)\n\n      // Output:\n      // 10\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"mustdata",children:(0,r.jsx)(n.code,{children:"MustData"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: \u6570\u636E\u4EE5 ",(0,r.jsx)(n.code,{children:"map"})," \u7C7B\u578B\u8FD4\u56DE\u7F13\u5B58\u4E2D\u6240\u6709 ",(0,r.jsx)(n.code,{children:"\u952E\u503C\u5BF9('key':'value')"})," \u7684\u62F7\u8D1D\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustData(ctx context.Context) map[interface{}]interface{} {\n      v, err := c.Data(ctx)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustData() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1"}, 0)\n\n      data := c.MustData(ctx)\n      fmt.Println(data)\n\n      // Set Cache\n      c.Set(ctx, "k5", "v5", 0)\n      data1, _ := c.Get(ctx, "k1")\n      fmt.Println(data1)\n\n      // Output:\n      // map[k1:v1]\n      // v1\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustkeys",children:(0,r.jsx)(n.code,{children:"MustKeys"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"MustKeys"})," \u4EE5 ",(0,r.jsx)(n.code,{children:"(slice)\u5207\u7247"})," \u7684\u5F62\u5F0F\u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684\u6240\u6709\u952E\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustKeys(ctx context.Context) []interface{} {\n      v, err := c.Keys(ctx)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustKeys() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2"}, 0)\n\n      // MustKeys acts like Keys, but it panics if any error occurs.\n      keys1 := c.MustKeys(ctx)\n      fmt.Println(keys1)\n\n      // May Output:\n      // [k1 k2]\n\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustkeystrings",children:(0,r.jsx)(n.code,{children:"MustKeyStrings"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"MustKeyStrings"})," \u4EE5 ",(0,r.jsx)(n.code,{children:"\u5B57\u7B26\u4E32(slice)\u5207\u7247"})," \u7684\u5F62\u5F0F\u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684 ",(0,r.jsx)(n.code,{children:"\u6240\u6709\u952E"}),"\u3002\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustKeyStrings(ctx context.Context) []string {\n      v, err := c.KeyStrings(ctx)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustKeyStrings() {\n      c := gcache.New()\n\n      c.SetMap(ctx, g.MapAnyAny{"k1": "v1", "k2": "v2"}, 0)\n\n      // MustKeyStrings returns all keys in the cache as string slice.\n      // MustKeyStrings acts like KeyStrings, but it panics if any error occurs.\n      keys := c.MustKeyStrings(ctx)\n      fmt.Println(keys)\n\n      // May Output:\n      // [k1 k2]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"mustvalues",children:(0,r.jsx)(n.code,{children:"MustValues"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\u8BF4\u660E: ",(0,r.jsx)(n.code,{children:"MustValues"})," \u4EE5 ",(0,r.jsx)(n.code,{children:"(slice)\u5207\u7247"})," \u7684\u5F62\u5F0F\u8FD4\u56DE\u7F13\u5B58\u4E2D\u7684\u6240\u6709\u503C\uFF0C\u5982\u679C ",(0,r.jsx)(n.code,{children:"err"})," \u8FD4\u56DE\u4E0D\u4E3A\u7A7A\u5219\u4F1A ",(0,r.jsx)(n.code,{children:"panic(err)"}),"\u3002"]}),"\n",(0,r.jsx)(n.li,{children:"\u683C \u5F0F:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"func (c *Cache) MustValues(ctx context.Context) []interface{} {\n      v, err := c.Values(ctx)\n      if err != nil {\n          panic(err)\n      }\n      return v\n}\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:'func ExampleCache_MustValues() {\n      c := gcache.New()\n\n      // Write value\n      c.Set(ctx, "k1", "v1", 0)\n\n      // Values returns all values in the cache as slice.\n      data := c.MustValues(ctx)\n      fmt.Println(data)\n\n      // Output:\n      // [v1]\n}\n'})})]})}function o(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},250065:function(e,n,c){c.d(n,{Z:function(){return s},a:function(){return l}});var t=c(667294);let r={},i=t.createContext(r);function l(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);