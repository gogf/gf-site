"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["40515"],{284689:function(n,e,r){r.r(e),r.d(e,{metadata:()=>l,contentTitle:()=>t,default:()=>o,assets:()=>c,toc:()=>d,frontMatter:()=>i});var l=JSON.parse('{"id":"\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD","title":"\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD","description":"\u4EE5\u4E0B\u5E38\u7528\u65B9\u6CD5\u5217\u8868\uFF0C\u6587\u6863\u66F4\u65B0\u53EF\u80FD\u6EDE\u540E\u4E8E\u4EE3\u7801\u65B0\u7279\u6027\uFF0C\u66F4\u591A\u7684\u65B9\u6CD5\u53CA\u793A\u4F8B\u8BF7\u53C2\u8003\u4EE3\u7801\u6587\u6863\uFF1A https://pkg.go.dev/github.com/gogf/gf/v2/util/gvalid","source":"@site/versioned_docs/version-2.1.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD.md","sourceDirName":"\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C","slug":"/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD","permalink":"/2.1.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.1.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD.md","tags":[],"version":"2.1.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":8,"frontMatter":{"title":"\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD","sidebar_position":8,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"\u6570\u636E\u6821\u9A8C-\u81EA\u5B9A\u4E49\u9519\u8BEF","permalink":"/2.1.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u81EA\u5B9A\u4E49\u9519\u8BEF"},"next":{"title":"\u6570\u636E\u6821\u9A8C-FAQ","permalink":"/2.1.x/\u6838\u5FC3\u7EC4\u4EF6-\u91CD\u70B9/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-FAQ"}}'),s=r("785893"),a=r("250065");let i={title:"\u6570\u636E\u6821\u9A8C-\u65B9\u6CD5\u4ECB\u7ECD",sidebar_position:8,hide_title:!0},t=void 0,c={},d=[{value:"<code>New</code>",id:"new",level:2},{value:"<code>Run</code>",id:"run",level:2},{value:"<code>Clone</code>",id:"clone",level:2},{value:"I18n",id:"i18n",level:2},{value:"Bail",id:"bail",level:2},{value:"<code>Ci</code>",id:"ci",level:2},{value:"Data",id:"data",level:2},{value:"Assoc",id:"assoc",level:2},{value:"Rules",id:"rules",level:2},{value:"<code>Message</code>",id:"message",level:2},{value:"RuleFunc",id:"rulefunc",level:2},{value:"RuleFuncMap",id:"rulefuncmap",level:2}];function u(n){let e={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["\u4EE5\u4E0B\u5E38\u7528\u65B9\u6CD5\u5217\u8868\uFF0C\u6587\u6863\u66F4\u65B0\u53EF\u80FD\u6EDE\u540E\u4E8E\u4EE3\u7801\u65B0\u7279\u6027\uFF0C\u66F4\u591A\u7684\u65B9\u6CD5\u53CA\u793A\u4F8B\u8BF7\u53C2\u8003\u4EE3\u7801\u6587\u6863\uFF1A ",(0,s.jsx)(e.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/util/gvalid",children:"https://pkg.go.dev/github.com/gogf/gf/v2/util/gvalid"})]}),"\n",(0,s.jsx)(e.h2,{id:"new",children:(0,s.jsx)(e.code,{children:"New"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"New"})," \u521B\u5EFA\u5E76\u8FD4\u56DE\u4E00\u4E2A ",(0,s.jsx)(e.code,{children:"Validator"})," \u7684\u65B0\u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"New() *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleNew() {\n      validator := gvalid.New()\n\n      if err := validator.Data(16).Rules("min:18").Run(context.Background()); err != nil {\n          fmt.Print(err)\n      }\n\n      // Output:\n      // The value `16` must be equal or greater than 18\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"run",children:(0,s.jsx)(e.code,{children:"Run"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Run"})," \u5BF9\u7ED9\u5B9A\u89C4\u5219\u548C\u4FE1\u606F\u7684\u6570\u636E\u8FDB\u884C\u6821\u9A8C\u64CD\u4F5C\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Run(ctx context.Context) Error\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Run() {\n      // check value mode\n      if err := g.Validator().Data(16).Rules("min:18").Run(context.Background()); err != nil {\n          fmt.Println("check value err:", err)\n      }\n      // check map mode\n      data := map[string]interface{}{\n          "passport":  "",\n          "password":  "123456",\n          "password2": "1234567",\n      }\n      rules := map[string]string{\n          "passport":  "required|length:6,16",\n          "password":  "required|length:6,16|same:password2",\n          "password2": "required|length:6,16",\n      }\n      if err := g.Validator().Data(data).Rules(rules).Run(context.Background()); err != nil {\n          fmt.Println("check map err:", err)\n      }\n      // check struct mode\n      type Params struct {\n          Page      int    `v:"required|min:1"`\n          Size      int    `v:"required|between:1,100"`\n          ProjectId string `v:"between:1,10000"`\n      }\n      rules = map[string]string{\n          "Page":      "required|min:1",\n          "Size":      "required|between:1,100",\n          "ProjectId": "between:1,10000",\n      }\n      obj := &Params{\n          Page: 0,\n          Size: 101,\n      }\n      if err := g.Validator().Data(obj).Run(context.Background()); err != nil {\n          fmt.Println("check struct err:", err)\n      }\n\n      // May Output:\n      // check value err: The value `16` must be equal or greater than 18\n      // check map err: The passport field is required; The passport value `` length must be between 6 and 16; The password value `123456` must be the same as field password2\n      // check struct err: The Page value `0` must be equal or greater than 1; The Size value `101` must be between 1 and 100\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"clone",children:(0,s.jsx)(e.code,{children:"Clone"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u8BF4\u660E\uFF1AClone\u521B\u5EFA\u5E76\u8FD4\u56DE\u4E00\u4E2A\u5F53\u524DValidator\u7684\u503C\u62F7\u8D1D\u5BF9\u8C61\u3002"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"(v *Validator) Clone() *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Clone() {\n      if err := g.Validator().Data(16).Rules("min:18").Run(context.Background()); err != nil {\n          fmt.Println(err)\n      }\n\n      if err := g.Validator().Clone().Data(20).Run(context.Background()); err != nil {\n          fmt.Println(err)\n      } else {\n          fmt.Println("Check Success!")\n      }\n\n      // Output:\n      // The value `16` must be equal or greater than 18\n      // Check Success!\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"i18n",children:"I18n"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"I18n"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u5F53\u524D\u6821\u9A8C\u5BF9\u8C61\u7684 ",(0,s.jsx)(e.code,{children:"I18N"})," \u56FD\u9645\u5316\u7EC4\u4EF6\u3002\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u6821\u9A8C\u7EC4\u4EF6\u4F7F\u7528\u7684\u662F\u6846\u67B6\u5168\u5C40\u9ED8\u8BA4\u7684 ",(0,s.jsx)(e.code,{children:"i18n"})," \u7EC4\u4EF6\u5BF9\u8C61\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"I18n(i18nManager *gi18n.Manager) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_I18n() {\n      var (\n          i18nManager = gi18n.New()\n          ctxCn       = gi18n.WithLanguage(context.Background(), "cn")\n          validator   = gvalid.New()\n      )\n\n      validator = validator.Data(16).Rules("min:18")\n\n      if err := validator.Run(context.Background()); err != nil {\n          fmt.Println(err)\n      }\n\n      if err := validator.I18n(i18nManager).Run(ctxCn); err != nil {\n          fmt.Println(err)\n      }\n\n      // Output:\n      // The value `16` must be equal or greater than 18\n      // \u5B57\u6BB5\u503C`16`\u5B57\u6BB5\u6700\u5C0F\u503C\u5E94\u5F53\u4E3A18\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"bail",children:"Bail"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Bail"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u5B9A\u53EA\u8981\u540E\u7EED\u7684\u591A\u4E2A\u6821\u9A8C\u4E2D\u6709\u4E00\u4E2A\u89C4\u5219\u6821\u9A8C\u5931\u8D25\u5219\u505C\u6B62\u6821\u9A8C\u7ACB\u5373\u8FD4\u56DE\u9519\u8BEF\u7ED3\u679C\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Bail() *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Bail() {\n      type BizReq struct {\n          Account   string `v:"required|length:6,16|same:QQ"`\n          QQ        string\n          Password  string `v:"required|same:Password2"`\n          Password2 string `v:"required"`\n      }\n      var (\n          ctx = context.Background()\n          req = BizReq{\n              Account:   "gf",\n              QQ:        "123456",\n              Password:  "goframe.org",\n              Password2: "goframe.org",\n          }\n      )\n\n      if err := g.Validator().Bail().Data(req).Run(ctx); err != nil {\n          fmt.Println("Use Bail Error:", err)\n      }\n\n      if err := g.Validator().Data(req).Run(ctx); err != nil {\n          fmt.Println("Not Use Bail Error:", err)\n      }\n\n      // output:\n      // Use Bail Error: The Account value `gf` length must be between 6 and 16\n      // Not Use Bail Error: The Account value `gf` length must be between 6 and 16; The Account value `gf` must be the same as field QQ\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"ci",children:(0,s.jsx)(e.code,{children:"Ci"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Ci"})," \u65B9\u6CD5\u7528\u4E8E\u8BBE\u7F6E\u9700\u8981\u6BD4\u8F83\u6570\u503C\u7684\u89C4\u5219\u65F6\uFF0C\u4E0D\u533A\u5206\u5B57\u6BB5\u7684\u5927\u5C0F\u5199\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Ci() *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Ci() {\n\n      type BizReq struct {\n          Account   string `v:"required"`\n          Password  string `v:"required|same:Password2"`\n          Password2 string `v:"required"`\n      }\n\n      var (\n          ctx = context.Background()\n          req = BizReq{\n              Account:   "gf",\n              Password:  "Goframe.org", // Diff from Password2, but because of "ci", rule check passed\n              Password2: "goframe.org",\n          }\n      )\n\n      if err := g.Validator().Data(req).Run(ctx); err != nil {\n          fmt.Println("Not Use CI Error:", err)\n      }\n\n      if err := g.Validator().Ci().Data(req).Run(ctx); err == nil {\n          fmt.Println("Use CI Passed!")\n      }\n\n      // output:\n      // Not Use CI Error: The Password value `Goframe.org` must be the same as field Password2\n      // Use CI Passed!\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"data",children:"Data"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Data"})," \u65B9\u6CD5\u7528\u4E8E\u4F20\u9012\u9700\u8981\u8054\u5408\u6821\u9A8C\u7684\u6570\u636E\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Data(data interface{}) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Data() {\n      type BizReq struct {\n          Password1 string `v:"password"`\n          Password2 string `v:"password"`\n      }\n\n      var (\n          ctx = context.Background()\n          req = BizReq{\n              Password1: "goframe",\n              Password2: "gofra", // error length between 6 and 18\n          }\n      )\n      if err := g.Validator().Data(req).Run(ctx); err != nil {\n          fmt.Print(err)\n      }\n\n      // Output:\n      // The Password2 value `gofra` is not a valid password format\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"assoc",children:"Assoc"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A",(0,s.jsx)(e.code,{children:"Assoc"})," \u662F\u4E00\u4E2A\u94FE\u5F0F\u64CD\u4F5C\u51FD\u6570\uFF0C\u4E3A\u5F53\u524D ",(0,s.jsx)(e.code,{children:"Validator"})," \u8BBE\u7F6E\u9A8C\u8BC1\u7684\u6570\u636E\u3002\u53C2\u6570 ",(0,s.jsx)(e.code,{children:"assoc"})," \u7684\u7C7B\u578B\u901A\u5E38\u662F ",(0,s.jsx)(e.code,{children:"map"}),"\uFF0C\u6307\u5B9A\u4E86 ",(0,s.jsx)(e.code,{children:"union validator"})," \u4E2D\u7684 ",(0,s.jsx)(e.code,{children:"map"})," \u7684\u503C\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u6CE8\u610F\uFF1A\u4F7F\u7528\u975E ",(0,s.jsx)(e.code,{children:"nil"})," \u7684 ",(0,s.jsx)(e.code,{children:"assoc"})," \u53C2\u6570\uFF0C\u4F1A\u5C06 ",(0,s.jsx)(e.code,{children:"useDataInsteadOfObjectAttributes"})," \u5C5E\u6027\u8BBE\u7F6E\u4E3A ",(0,s.jsx)(e.code,{children:"true"}),"\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Assoc(assoc interface{}) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Assoc() {\n\n      type User struct {\n          Name string `v:"required"`\n          Type int    `v:"required"`\n      }\n\n      data := g.Map{\n          "name": "john",\n      }\n\n      user := User{}\n\n      if err := gconv.Scan(data, &user); err != nil {\n          panic(err)\n      }\n\n      if err := g.Validator().Data(user).Assoc(data).Run(context.Background()); err != nil {\n          fmt.Print(err)\n      }\n\n      // Output:\n      // The Type field is required\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"rules",children:"Rules"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Rules"})," \u65B9\u6CD5\u7528\u4E8E\u4F20\u9012\u5F53\u524D\u94FE\u5F0F\u64CD\u4F5C\u6821\u9A8C\u7684\u81EA\u5B9A\u4E49\u6821\u9A8C\u89C4\u5219\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Rules(rules interface{}) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Rules() {\n\n      if err := g.Validator().Data(16).Rules("min:18").Run(context.Background()); err != nil {\n          fmt.Println(err)\n      }\n\n      // Output:\n      // The value `16` must be equal or greater than 18\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"message",children:(0,s.jsx)(e.code,{children:"Message"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A ",(0,s.jsx)(e.code,{children:"Messages"})," \u65B9\u6CD5\u7528\u4E8E\u4F20\u9012\u5F53\u524D\u94FE\u5F0F\u64CD\u4F5C\u6821\u9A8C\u7684\u81EA\u5B9A\u4E49\u9519\u8BEF\u63D0\u793A\u4FE1\u606F\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"Messages(messages interface{}) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_Messages() {\n      if err := g.Validator().Data(16).Rules("min:18").Messages("Can not regist, Age is less then 18!").Run(context.Background()); err != nil {\n          fmt.Println(err)\n      }\n\n      // Output:\n      // Can not regist, Age is less then 18!\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"rulefunc",children:"RuleFunc"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A",(0,s.jsx)(e.code,{children:"RuleFunc"})," \u5411\u5F53\u524D\u7684 ",(0,s.jsx)(e.code,{children:"Validator"})," \u6CE8\u518C\u4E00\u4E2A\u81EA\u5B9A\u4E49\u6821\u9A8C\u89C4\u5219\u7684\u51FD\u6570\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"RuleFunc(rule string, f RuleFunc) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_RuleFunc() {\n      var (\n          ctx             = context.Background()\n          lenErrRuleName  = "LenErr"\n          passErrRuleName = "PassErr"\n          lenErrRuleFunc  = func(ctx context.Context, in gvalid.RuleFuncInput) error {\n              pass := in.Value.String()\n              if len(pass) != 6 {\n                  return errors.New(in.Message)\n              }\n              return nil\n          }\n          passErrRuleFunc = func(ctx context.Context, in gvalid.RuleFuncInput) error {\n              pass := in.Value.String()\n              if m := in.Data.Map(); m["data"] != pass {\n                  return errors.New(in.Message)\n              }\n              return nil\n          }\n      )\n\n      type LenErrStruct struct {\n          Value string `v:"uid@LenErr#Value Length Error!"`\n          Data  string `p:"data"`\n      }\n\n      st := &LenErrStruct{\n          Value: "123",\n          Data:  "123456",\n      }\n      // single error sample\n      if err := g.Validator().RuleFunc(lenErrRuleName, lenErrRuleFunc).Data(st).Run(ctx); err != nil {\n          fmt.Println(err)\n      }\n\n      type MultiErrorStruct struct {\n          Value string `v:"uid@LenErr|PassErr#Value Length Error!|Pass is not Same!"`\n          Data  string `p:"data"`\n      }\n\n      multi := &MultiErrorStruct{\n          Value: "123",\n          Data:  "123456",\n      }\n      // multi error sample\n      if err := g.Validator().RuleFunc(lenErrRuleName, lenErrRuleFunc).RuleFunc(passErrRuleName, passErrRuleFunc).Data(multi).Run(ctx); err != nil {\n          fmt.Println(err)\n      }\n\n      // Output:\n      // Value Length Error!\n      // Value Length Error!; Pass is not Same!\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"rulefuncmap",children:"RuleFuncMap"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["\u8BF4\u660E\uFF1A",(0,s.jsx)(e.code,{children:"RuleFuncMap"})," \u5411\u5F53\u524D\u7684 ",(0,s.jsx)(e.code,{children:"Validator"})," \u6CE8\u518C\u591A\u4E2A\u81EA\u5B9A\u4E49\u6821\u9A8C\u89C4\u5219\u7684\u51FD\u6570\u3002"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"\u683C\u5F0F\uFF1A"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:"RuleFuncMap(m map[string]RuleFunc) *Validator\n"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"\u793A\u4F8B\uFF1A"}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-go",children:'func ExampleValidator_RuleFuncMap() {\n      var (\n          ctx             = context.Background()\n          lenErrRuleName  = "LenErr"\n          passErrRuleName = "PassErr"\n          lenErrRuleFunc  = func(ctx context.Context, in gvalid.RuleFuncInput) error {\n              pass := in.Value.String()\n              if len(pass) != 6 {\n                  return errors.New(in.Message)\n              }\n              return nil\n          }\n          passErrRuleFunc = func(ctx context.Context, in gvalid.RuleFuncInput) error {\n              pass := in.Value.String()\n              if m := in.Data.Map(); m["data"] != pass {\n                  return errors.New(in.Message)\n              }\n              return nil\n          }\n          ruleMap = map[string]gvalid.RuleFunc{\n              lenErrRuleName:  lenErrRuleFunc,\n              passErrRuleName: passErrRuleFunc,\n          }\n      )\n\n      type MultiErrorStruct struct {\n          Value string `v:"uid@LenErr|PassErr#Value Length Error!|Pass is not Same!"`\n          Data  string `p:"data"`\n      }\n\n      multi := &MultiErrorStruct{\n          Value: "123",\n          Data:  "123456",\n      }\n\n      if err := g.Validator().RuleFuncMap(ruleMap).Data(multi).Run(ctx); err != nil {\n          fmt.Println(err)\n      }\n\n      // Output:\n      // Value Length Error!; Pass is not Same!\n}\n'})})]})}function o(n={}){let{wrapper:e}={...(0,a.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(u,{...n})}):u(n)}},250065:function(n,e,r){r.d(e,{Z:function(){return t},a:function(){return i}});var l=r(667294);let s={},a=l.createContext(s);function i(n){let e=l.useContext(a);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:i(n.components),l.createElement(a.Provider,{value:e},n.children)}}}]);