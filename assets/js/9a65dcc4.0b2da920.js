"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["23695"],{504271:function(n,e,c){c.r(e),c.d(e,{metadata:()=>r,contentTitle:()=>d,default:()=>g,assets:()=>s,toc:()=>a,frontMatter:()=>i});var r=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","title":"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","description":"\u5728GoFrame\u6846\u67B6\u4E2D\u4F7F\u7528gcron\u6765\u7BA1\u7406\u5B9A\u65F6\u4EFB\u52A1\u3002\u4F60\u5C06\u5B66\u4E60\u5982\u4F55\u6DFB\u52A0\u3001\u542F\u52A8\u3001\u505C\u6B62\u3001\u5220\u9664\u548C\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1\u3002\u6B64\u5916\uFF0C\u8FD8\u6DB5\u76D6\u4E86\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\u3001\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1\u4EE5\u53CA\u8FD0\u884C\u6307\u5B9A\u6B21\u6570\u7684\u4EFB\u52A1\u7B49\u9AD8\u7EA7\u529F\u80FD\u3002\u8FD9\u4E9B\u529F\u80FD\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u9AD8\u6548\u5730\u7BA1\u7406\u548C\u8C03\u8BD5\u5E94\u7528\u5185\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u63D0\u9AD8\u5E94\u7528\u7684\u6027\u80FD\u548C\u53EF\u9760\u6027\u3002","source":"@site/versioned_docs/version-2.7.x/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron","slug":"/docs/components/os-gcron-example","permalink":"/2.7.x/docs/components/os-gcron-example","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.7.x/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528.md","tags":[],"version":"2.7.x","lastUpdatedBy":"John","lastUpdatedAt":1731504210000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/components/os-gcron-example","title":"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","sidebar_position":1,"hide_title":true,"keywords":["\u5B9A\u65F6\u4EFB\u52A1","GoFrame","GoFrame\u6846\u67B6","gcron","\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1","\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1","\u6307\u5B9A\u6B21\u6570\u4EFB\u52A1","\u4EFB\u52A1\u641C\u7D22","\u4EFB\u52A1\u505C\u6B62","\u4EFB\u52A1\u5220\u9664"],"description":"\u5728GoFrame\u6846\u67B6\u4E2D\u4F7F\u7528gcron\u6765\u7BA1\u7406\u5B9A\u65F6\u4EFB\u52A1\u3002\u4F60\u5C06\u5B66\u4E60\u5982\u4F55\u6DFB\u52A0\u3001\u542F\u52A8\u3001\u505C\u6B62\u3001\u5220\u9664\u548C\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1\u3002\u6B64\u5916\uFF0C\u8FD8\u6DB5\u76D6\u4E86\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\u3001\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1\u4EE5\u53CA\u8FD0\u884C\u6307\u5B9A\u6B21\u6570\u7684\u4EFB\u52A1\u7B49\u9AD8\u7EA7\u529F\u80FD\u3002\u8FD9\u4E9B\u529F\u80FD\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u9AD8\u6548\u5730\u7BA1\u7406\u548C\u8C03\u8BD5\u5E94\u7528\u5185\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u63D0\u9AD8\u5E94\u7528\u7684\u6027\u80FD\u548C\u53EF\u9760\u6027\u3002"},"sidebar":"mainSidebar","previous":{"title":"\u5B9A\u65F6\u4EFB\u52A1-\u8868\u8FBE\u5F0F","permalink":"/2.7.x/docs/components/os-gcron-pattern"},"next":{"title":"\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406","permalink":"/2.7.x/docs/components/os-gcron-logging"}}'),o=c("785893"),t=c("250065");let i={slug:"/docs/components/os-gcron-example",title:"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528",sidebar_position:1,hide_title:!0,keywords:["\u5B9A\u65F6\u4EFB\u52A1","GoFrame","GoFrame\u6846\u67B6","gcron","\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1","\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1","\u6307\u5B9A\u6B21\u6570\u4EFB\u52A1","\u4EFB\u52A1\u641C\u7D22","\u4EFB\u52A1\u505C\u6B62","\u4EFB\u52A1\u5220\u9664"],description:"\u5728GoFrame\u6846\u67B6\u4E2D\u4F7F\u7528gcron\u6765\u7BA1\u7406\u5B9A\u65F6\u4EFB\u52A1\u3002\u4F60\u5C06\u5B66\u4E60\u5982\u4F55\u6DFB\u52A0\u3001\u542F\u52A8\u3001\u505C\u6B62\u3001\u5220\u9664\u548C\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1\u3002\u6B64\u5916\uFF0C\u8FD8\u6DB5\u76D6\u4E86\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\u3001\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1\u4EE5\u53CA\u8FD0\u884C\u6307\u5B9A\u6B21\u6570\u7684\u4EFB\u52A1\u7B49\u9AD8\u7EA7\u529F\u80FD\u3002\u8FD9\u4E9B\u529F\u80FD\u5E2E\u52A9\u5F00\u53D1\u8005\u66F4\u9AD8\u6548\u5730\u7BA1\u7406\u548C\u8C03\u8BD5\u5E94\u7528\u5185\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u63D0\u9AD8\u5E94\u7528\u7684\u6027\u80FD\u548C\u53EF\u9760\u6027\u3002"},d=void 0,s={},a=[{value:"\u57FA\u672C\u4F7F\u7528",id:"\u57FA\u672C\u4F7F\u7528",level:2},{value:"<code>AddSingleton</code>\u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",id:"addsingleton\u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"<code>AddOnce</code>\u6DFB\u52A0\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",id:"addonce\u6DFB\u52A0\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"<code>AddTimes</code>\u6DFB\u52A0\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",id:"addtimes\u6DFB\u52A0\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"<code>Entries</code>\u83B7\u53D6\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5217\u8868",id:"entries\u83B7\u53D6\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5217\u8868",level:2},{value:"<code>Search</code>\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1",id:"search\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"<code>Stop</code>\u6682\u505C\u5B9A\u65F6\u4EFB\u52A1",id:"stop\u6682\u505C\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"<code>Remove</code>\u505C\u6B62\u5E76\u5220\u9664\u4EFB\u52A1",id:"remove\u505C\u6B62\u5E76\u5220\u9664\u4EFB\u52A1",level:2},{value:"<code>Start</code>\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1",id:"start\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1",level:2}];function l(n){let e={admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.h2,{id:"\u57FA\u672C\u4F7F\u7528",children:"\u57FA\u672C\u4F7F\u7528"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        err error\n        ctx = gctx.New()\n    )\n    _, err = gcron.Add(ctx, "* * * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every second")\n    }, "MySecondCronJob")\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "0 30 * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour on the half hour")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "@hourly", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "@every 1h30m", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour thirty")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    g.Dump(gcron.Entries())\n\n    time.Sleep(3 * time.Second)\n\n    g.Log().Print(ctx, `stop cronjob "MySecondCronJob"`)\n    gcron.Stop("MySecondCronJob")\n\n    time.Sleep(3 * time.Second)\n\n    g.Log().Print(ctx, `start cronjob "MySecondCronJob"`)\n    gcron.Start("MySecondCronJob")\n\n    time.Sleep(3 * time.Second)\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:'[\n    {\n        Name: "MySecondCronJob",\n        Job:  0x14077e0,\n        Time: "2021-11-14 12:13:53.445132 +0800 CST m=+0.006167069",\n    },\n    {\n        Name: "cron-1",\n        Job:  0x14078a0,\n        Time: "2021-11-14 12:13:53.44515 +0800 CST m=+0.006185688",\n    },\n    {\n        Name: "cron-2",\n        Job:  0x1407960,\n        Time: "2021-11-14 12:13:53.445161 +0800 CST m=+0.006196483",\n    },\n    {\n        Name: "cron-3",\n        Job:  0x1407a20,\n        Time: "2021-11-14 12:13:53.445218 +0800 CST m=+0.006252937",\n    },\n]\n2021-11-14 12:13:54.442 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:55.441 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:56.440 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:56.445 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} stop cronjob "MySecondCronJob"\n2021-11-14 12:13:59.445 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} start cronjob "MySecondCronJob"\n2021-11-14 12:14:00.443 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:14:01.442 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:14:02.443 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n'})}),"\n",(0,o.jsxs)(e.h2,{id:"addsingleton\u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"AddSingleton"}),"\u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5373\u540C\u65F6\u53EA\u80FD\u6709\u4E00\u4E2A\u8BE5\u4EFB\u52A1\u6B63\u5728\u8FD0\u884C\u3002\u5F53\u7B2C\u4E8C\u4E2A\u76F8\u540C\u7684\u5B9A\u65F6\u4EFB\u52A1\u89E6\u53D1\u6267\u884C\u65F6\uFF0C\u5982\u679C\u53D1\u73B0\u5DF2\u6709\u8BE5\u4EFB\u52A1\u6B63\u5728\u6267\u884C\uFF0C\u7B2C\u4E8C\u4E2A\u4EFB\u52A1\u5C06\u4F1A\u9000\u51FA\u4E0D\u6267\u884C\uFF0C\u5B9A\u65F6\u5668\u5C06\u4F1A\u7EE7\u7EED\u7B49\u5F85\u4E0B\u4E00\u6B21\u5B9A\u65F6\u4EFB\u52A1\u7684\u89E6\u53D1\u68C0\u6D4B\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002\u53EF\u4EE5\u4F7F\u7528 ",(0,o.jsx)(e.code,{children:"AddSingleton"})," \u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\u3002"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        err error\n        ctx = gctx.New()\n    )\n    _, err = gcron.AddSingleton(ctx, "* * * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "doing")\n        time.Sleep(2 * time.Second)\n    })\n    if err != nil {\n        panic(err)\n    }\n    select {}\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"2021-11-14 12:16:54.073 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:16:57.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:00.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:03.071 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:06.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:09.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n...\n"})}),"\n",(0,o.jsxs)(e.h2,{id:"addonce\u6DFB\u52A0\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"AddOnce"}),"\u6DFB\u52A0\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:["\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1\uFF0C ",(0,o.jsx)(e.code,{children:"AddOnce"})," \u65B9\u6CD5\u7528\u4E8E\u6DFB\u52A0\u53EA\u8FD0\u884C\u4E00\u6B21\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5F53\u8FD0\u884C\u4E00\u6B21\u6570\u540E\u8BE5\u5B9A\u65F6\u4EFB\u52A1\u81EA\u52A8\u9500\u6BC1\uFF0C",(0,o.jsx)(e.code,{children:"Size"})," \u65B9\u6CD5\u53EF\u4EE5\u67E5\u770B\u8FD0\u884C\u72B6\u6001\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main()  {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddOnce(ctx, "@every 2s", func(ctx context.Context) {\n        array.Append(1)\n    })\n    fmt.Println(cron.Size(),array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(),array.Len())\n\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"1 0\n0 1\n"})}),"\n",(0,o.jsxs)(e.h2,{id:"addtimes\u6DFB\u52A0\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"AddTimes"}),"\u6DFB\u52A0\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:["\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C ",(0,o.jsx)(e.code,{children:"AddTimes"})," \u65B9\u6CD5\u7528\u4E8E\u6DFB\u52A0\u8FD0\u884C\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5F53\u8FD0\u884C ",(0,o.jsx)(e.code,{children:"times"})," \u6B21\u6570\u540E\u8BE5\u5B9A\u65F6\u4EFB\u52A1\u81EA\u52A8\u9500\u6BC1\uFF0C ",(0,o.jsx)(e.code,{children:"Size"})," \u65B9\u6CD5\u53EF\u4EE5\u67E5\u770B\u8FD0\u884C\u72B6\u6001\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 2,func(ctx context.Context) {\n        array.Append(1)\n    })\n     fmt.Println(cron.Size(), array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(), array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(), array.Len())\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"1 0\n1 1\n0 2\n"})}),"\n",(0,o.jsxs)(e.h2,{id:"entries\u83B7\u53D6\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5217\u8868",children:[(0,o.jsx)(e.code,{children:"Entries"}),"\u83B7\u53D6\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5217\u8868"]}),"\n",(0,o.jsxs)(e.p,{children:["\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F\uFF0C ",(0,o.jsx)(e.code,{children:"Entries"})," \u65B9\u6CD5\u7528\u4E8E\u83B7\u53D6\u5F53\u524D\u6240\u6709\u5DF2\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F\uFF0C\u4EE5\u5207\u7247\u7684\u5F62\u5F0F\u8FD4\u56DE\uFF08\u6309\u6CE8\u518C\u65F6\u95F4 ",(0,o.jsx)(e.code,{children:"asc"})," \u6392\u5E8F\uFF09\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 1s", 2,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 1s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    entries := cron.Entries()\n    for  k, v := range entries{\n        fmt.Println(k,v.Name,v.Time)\n\n    }\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len())\n\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"0 cron2 2022-02-09 10:11:47.2421345 +0800 CST m=+0.159116501\n1 cron1 2022-02-09 10:11:47.2421345 +0800 CST m=+0.159116501\n3\n"})}),"\n",(0,o.jsxs)(e.h2,{id:"search\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"Search"}),"\u641C\u7D22\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"Search"})," \u641C\u7D22\u8FD4\u56DE\u5177\u6709\u6307\u5B9A\u201C\u540D\u79F0\u201D\u7684\u8BA1\u5212\u4EFB\u52A1\u3002(\u8FD4\u56DE\u5B9A\u65F6\u4EFB\u52A1 ",(0,o.jsx)(e.code,{children:"*Entry"})," \u5BF9\u8C61\u6307\u9488)\uFF0C\u5982\u679C\u627E\u4E0D\u5230\uFF0C\u5219\u8FD4\u56DEnil\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 1s", 2,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 1s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    search := cron.Search("cron2")\n\n    g.Log().Print(ctx, search)\n\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len())\n\n    // Output:\n    // 3\n}\n\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:'2022-02-09 10:52:30.011 {18a909957cfed11680c1b145da1ef096} {"Name":"cron2","Time":"2022-02-09T10:52:29.9972842+08:00"}\n'})}),"\n",(0,o.jsxs)(e.h2,{id:"stop\u6682\u505C\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"Stop"}),"\u6682\u505C\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"Stop"})," \u65B9\u6CD5\u7528\u4E8E\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1( ",(0,o.jsx)(e.code,{children:"Stop"}),"\u4F1A\u505C\u6B62\u4F46\u4E0D\u4F1A\u5220\u9664), \u53EF\u901A\u8FC7 ",(0,o.jsx)(e.code,{children:"name"})," \u53C2\u6570\u6307\u5B9A\u9700\u8981\u505C\u6B62\u7684\u4EFB\u52A1\u540D\u79F0\uFF0C\u5982\u679C\u6CA1\u6709\u6307\u5B9A ",(0,o.jsx)(e.code,{children:"name"}),"\uFF0C\u5B83\u5C06\u505C\u6B62\u6574\u4E2A ",(0,o.jsx)(e.code,{children:"cron"}),"\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 1,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    fmt.Println(array.Len(),cron.Size())\n    cron.Stop("cron2")\n    fmt.Println(array.Len(),cron.Size())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n\n    // Output:\n    // 1\n    // 1\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"0 2\n0 2\n1 1\n"})}),"\n",(0,o.jsx)(e.admonition,{type:"info",children:(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"Stop"}),"\u65B9\u6CD5\u4F1A\u5BF9\u5B9A\u65F6\u4EFB\u52A1\u505A\u6682\u505C\u6807\u8BB0\uFF0C\u5E76\u7ACB\u5373\u8FD4\u56DE\uFF0C\u5E76\u4E0D\u4F1A\u7B49\u5F85\u6B63\u5728\u6267\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u7ED3\u675F\u3002\u4F46\u5728\u67D0\u4E9B\u573A\u666F\u4E0B\uFF0C\u6211\u4EEC\u53EF\u80FD\u9700\u8981\u7B49\u5F85\u5F53\u524D\u6B63\u5728\u6267\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5B8C\u6210\u540E\u518D\u9000\u51FA\u3002\u4ECE",(0,o.jsx)(e.code,{children:"v2.8"}),"\u7248\u672C\u5F00\u59CB\uFF0C\u63D0\u4F9B\u4E86",(0,o.jsx)(e.code,{children:"StopGracefully"}),"\u65B9\u6CD5\uFF0C\u7528\u4E8E\u4F18\u96C5\u5730\u6682\u505C\u5B9A\u65F6\u4EFB\u52A1\u3002\u8BE5\u65B9\u6CD5\u4F1A\u963B\u585E\u7B49\u5F85\u6B63\u5728\u6267\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u5B8C\u6210\u540E\u518D\u8FD4\u56DE\u3002"]})}),"\n",(0,o.jsxs)(e.h2,{id:"remove\u505C\u6B62\u5E76\u5220\u9664\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"Remove"}),"\u505C\u6B62\u5E76\u5220\u9664\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"Remove"})," \u65B9\u6CD5\u7528\u4E8E\u6839\u636E\u540D\u79F0 ",(0,o.jsx)(e.code,{children:"name"})," \u5220\u9664\u5B9A\u65F6\u4EFB\u52A1(\u505C\u6B62\u5E76\u5220\u9664)\uFF1B\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 1,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    fmt.Println(array.Len(),cron.Size())\n    cron.Remove("cron2")\n    fmt.Println(array.Len(),cron.Size())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n    // Output:\n    // 0 2\n    // 0 1\n    // 1 0\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"0 2\n0 1\n1 0\n"})}),"\n",(0,o.jsxs)(e.h2,{id:"start\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1",children:[(0,o.jsx)(e.code,{children:"Start"}),"\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.code,{children:"Start"})," \u65B9\u6CD5\u7528\u4E8E\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1( ",(0,o.jsx)(e.code,{children:"Add"})," \u540E\u81EA\u52A8\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1), \u53EF\u901A\u8FC7 ",(0,o.jsx)(e.code,{children:"name"})," \u53C2\u6570\u6307\u5B9A\u9700\u8981\u542F\u52A8\u7684\u4EFB\u52A1\u540D\u79F0\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A ",(0,o.jsx)(e.code,{children:"name"}),"\uFF0C\u5B83\u5C06\u542F\u52A8\u6574\u4E2A ",(0,o.jsx)(e.code,{children:"cron"}),"\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    cron.Stop("cron2")\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n    cron.Start("cron2")\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n\n    // Output:\n    // 0 1\n    // 1 0\n}\n'})}),"\n",(0,o.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-text",children:"0 1\n1 0\n"})})]})}function g(n={}){let{wrapper:e}={...(0,t.a)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(l,{...n})}):l(n)}},250065:function(n,e,c){c.d(e,{Z:function(){return d},a:function(){return i}});var r=c(667294);let o={},t=r.createContext(o);function i(n){let e=r.useContext(t);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),r.createElement(t.Provider,{value:e},n.children)}}}]);