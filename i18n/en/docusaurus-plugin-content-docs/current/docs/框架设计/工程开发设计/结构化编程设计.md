---
slug: '/docs/design/project-struct-parameter'
title: 'Structured Programming Design'
sidebar_position: 3
hide_title: true
---

## 1. Basic Introduction

Structured programming, simply understood, involves defining structures to pass and return parameters.

We recommend using structured definitions to manage inputs/outputs in necessary scenarios, especially in the design of `controller` and `service` layers.

### 1. Non-structured Pain Points in `controller`

![](/markdown/e76d9687eb2d840494ce98a644e05d95.png)

- It is difficult to determine the input/output data structure of the interface. In most cases, parameter reception names are hardcoded in the code, which can lead to unpredictable issues if names are misspelled.
- Interface parameters often only define a pointer to an `HttpRequest/HttpContext` object, with execution results directly written into the object, making it hard to determine whether the interface succeeded or failed.
- The work of receiving, validating, and converting parameters is cumbersome.
- Generating and maintaining interface documentation is extremely difficult.

### 2. Non-structured Pain Points in `service`

![](/markdown/f8434f1243e4d9dace23021f0f2132a4.png)

- When there are many method parameters, the definition is awkward and uncomfortable to use.
- When the number and type of method parameters are uncertain, any arbitrary change in parameters is incompatible (e.g., adding a new parameter), leading to high modification costs.
- Annotating method parameters is not convenient, resulting in most business projects lacking method parameter annotations.

## 2. Structured Programming

### 1. `controller` Structured Improvement

**Structured Advantages:**

- By managing interface inputs/outputs through structured management, parameter reception no longer requires hardcoding parameter names, reducing maintenance costs and avoiding errors from hardcoded parameter names.
- It enables automated parameter reception, conversion, and validation, increasing productivity.
- It standardizes interface writing.
- It makes interface management as convenient as ordinary function management, using returned `error` to determine the interface processing result, and standardizing a unified error mechanism.
- It makes automated interface documentation generation possible and ensures synchronized maintenance of interface structure definitions and documentation.

**Structured Example:**

Structure Definition:

![](/markdown/686ee75e775a1076387154615c40e868.png)

Method Usage:

![](/markdown/6f0cd9333bb1c514a1047c0e17024997.png)

### 2. `service` Structured Improvement

**Structured Advantages:**

- When there are many method parameters, parameters are elegantly managed through structures.
- When the number and type of method parameters are uncertain, the addition of parameters is compatible with method calls.
- Describing annotations for structure properties is more convenient, improving code maintenance quality.

**Structured Example:**

![](/markdown/37a0eecf7f1c45bf99bdd98ec205eea0.png)

## 3. Precautions

- When using structured management for inputs/outputs in `service` layer methods, any parameter in the structure will be considered non-essential. Therefore, it is necessary to reasonably assess feasibility based on business scenarios.
