"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["88380"],{144817:function(e,a,r){r.r(a),r.d(a,{metadata:()=>s,contentTitle:()=>i,default:()=>m,assets:()=>d,toc:()=>l,frontMatter:()=>o});var s=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u53C2\u6570\u7C7B\u578B/\u6570\u636E\u6821\u9A8C-Map\u6821\u9A8C/Map\u6821\u9A8C-\u57FA\u672C\u4F7F\u7528","title":"Map Validation - Example","description":"In the GoFrame framework, Map validation is demonstrated with both default and custom error messages. Example code shows how to validate parameters and output corresponding error messages on validation failures, helping developers better implement data validation and error handling mechanisms.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u53C2\u6570\u7C7B\u578B/\u6570\u636E\u6821\u9A8C-Map\u6821\u9A8C/Map\u6821\u9A8C-\u57FA\u672C\u4F7F\u7528.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u53C2\u6570\u7C7B\u578B/\u6570\u636E\u6821\u9A8C-Map\u6821\u9A8C","slug":"/docs/core/gvalid-parameter-type-map-example","permalink":"/en/docs/core/gvalid-parameter-type-map-example","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u6821\u9A8C/\u6570\u636E\u6821\u9A8C-\u53C2\u6570\u7C7B\u578B/\u6570\u636E\u6821\u9A8C-Map\u6821\u9A8C/Map\u6821\u9A8C-\u57FA\u672C\u4F7F\u7528.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":0,"frontMatter":{"slug":"/docs/core/gvalid-parameter-type-map-example","title":"Map Validation - Example","sidebar_position":0,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","Parameter Validation","Map Validation","Custom Error Messages","Default Error Messages","Framework Usage","Validation Rules","Code Example","Data Validation"],"description":"In the GoFrame framework, Map validation is demonstrated with both default and custom error messages. Example code shows how to validate parameters and output corresponding error messages on validation failures, helping developers better implement data validation and error handling mechanisms."},"sidebar":"mainSidebar","previous":{"title":"Data Type - Map","permalink":"/en/docs/core/gvalid-parameter-type-map"},"next":{"title":"Map Validation - Sequence","permalink":"/en/docs/core/gvalid-parameter-type-map-sequence"}}'),n=r("785893"),t=r("250065");let o={slug:"/docs/core/gvalid-parameter-type-map-example",title:"Map Validation - Example",sidebar_position:0,hide_title:!0,keywords:["GoFrame","GoFrame Framework","Parameter Validation","Map Validation","Custom Error Messages","Default Error Messages","Framework Usage","Validation Rules","Code Example","Data Validation"],description:"In the GoFrame framework, Map validation is demonstrated with both default and custom error messages. Example code shows how to validate parameters and output corresponding error messages on validation failures, helping developers better implement data validation and error handling mechanisms."},i=void 0,d={},l=[{value:"Default Error Messages",id:"default-error-messages",level:2},{value:"Custom Error Messages",id:"custom-error-messages",level:2}];function p(e){let a={code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.h2,{id:"default-error-messages",children:"Default Error Messages"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    var (\n        ctx    = gctx.New()\n        params = map[string]interface{}{\n            "passport":  "",\n            "password":  "123456",\n            "password2": "1234567",\n        }\n        rules = map[string]string{\n            "passport":  "required|length:6,16",\n            "password":  "required|length:6,16|same:password2",\n            "password2": "required|length:6,16",\n        }\n    )\n    err := g.Validator().Rules(rules).Data(params).Run(ctx)\n    if err != nil {\n        g.Dump(err.Maps())\n    }\n}\n'})}),"\n",(0,n.jsx)(a.p,{children:"After execution, the terminal outputs:"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-javascript",children:'{\n    "passport": {\n        "required": "The passport field is required",\n        "length":   "The passport value `` length must be between 6 and 16",\n    },\n    "password": {\n        "same": "The password value `123456` must be the same as field password2",\n    },\n}\n'})}),"\n",(0,n.jsx)(a.h2,{id:"custom-error-messages",children:"Custom Error Messages"}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    var (\n        ctx    = gctx.New()\n        params = map[string]interface{}{\n            "passport":  "",\n            "password":  "123456",\n            "password2": "1234567",\n        }\n        rules = map[string]string{\n            "passport":  "required|length:6,16",\n            "password":  "required|length:6,16|same:password2",\n            "password2": "required|length:6,16",\n        }\n        messages = map[string]interface{}{\n            "passport": "\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A|\u8D26\u53F7\u957F\u5EA6\u5E94\u5F53\u5728{min}\u5230{max}\u4E4B\u95F4",\n            "password": map[string]string{\n                "required": "\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",\n                "same":     "\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u76F8\u7B49",\n            },\n        }\n    )\n\n    err := g.Validator().Messages(messages).Rules(rules).Data(params).Run(ctx)\n    if err != nil {\n        g.Dump(err.Maps())\n    }\n}\n'})}),"\n",(0,n.jsxs)(a.p,{children:["This example also demonstrates two data types for passing custom error messages through ",(0,n.jsx)(a.code,{children:"messages"}),", either ",(0,n.jsx)(a.code,{children:"string"})," or ",(0,n.jsx)(a.code,{children:"map[string]string"}),". For ",(0,n.jsx)(a.code,{children:"map[string]string"}),", you need to specify corresponding error messages for each field and rule, forming a two-dimensional associative array. After executing this example, the terminal outputs:"]}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-javascript",children:'{\n    "passport": {\n            "length": "\u8D26\u53F7\u957F\u5EA6\u5E94\u5F53\u57286\u523016\u4E4B\u95F4",\n            "required": "\u8D26\u53F7\u4E0D\u80FD\u4E3A\u7A7A"\n    },\n    "password": {\n            "same": "\u4E24\u6B21\u5BC6\u7801\u8F93\u5165\u4E0D\u76F8\u7B49"\n    }\n}\n'})})]})}function m(e={}){let{wrapper:a}={...(0,t.a)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},250065:function(e,a,r){r.d(a,{Z:function(){return i},a:function(){return o}});var s=r(667294);let n={},t=s.createContext(n);function o(e){let a=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);