"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["77490"],{716131(e,n,o){o.r(n),o.d(n,{metadata:()=>t,default:()=>u,frontMatter:()=>i,contentTitle:()=>a,toc:()=>g,assets:()=>c});var t=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-JSON\u683C\u5F0F","title":"Logging - JSON Format","description":"Using the glog component in the GoFrame framework to output logs in JSON format, suitable for parsing by log analysis tools. You will learn how to implement JSON log format output through map or struct parameters, and achieve more complex JSON content output in conjunction with the gjson.MustEncode method.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-JSON\u683C\u5F0F.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6","slug":"/docs/core/glog-json","permalink":"/en/docs/core/glog-json","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-JSON\u683C\u5F0F.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":7,"frontMatter":{"slug":"/docs/core/glog-json","title":"Logging - JSON Format","sidebar_position":7,"hide_title":true,"keywords":["Logging Component","JSON Format","GoFrame","GoFrame Framework","glog","Log Analysis","Struct Log","Log Output","map Parameters","gjson"],"description":"Using the glog component in the GoFrame framework to output logs in JSON format, suitable for parsing by log analysis tools. You will learn how to implement JSON log format output through map or struct parameters, and achieve more complex JSON content output in conjunction with the gjson.MustEncode method."},"sidebar":"mainSidebar","previous":{"title":"Logging - Handler","permalink":"/en/docs/core/glog-handler"},"next":{"title":"Logging - Asynchronous Output","permalink":"/en/docs/core/glog-async"}}'),s=o(474848),r=o(28453);let i={slug:"/docs/core/glog-json",title:"Logging - JSON Format",sidebar_position:7,hide_title:!0,keywords:["Logging Component","JSON Format","GoFrame","GoFrame Framework","glog","Log Analysis","Struct Log","Log Output","map Parameters","gjson"],description:"Using the glog component in the GoFrame framework to output logs in JSON format, suitable for parsing by log analysis tools. You will learn how to implement JSON log format output through map or struct parameters, and achieve more complex JSON content output in conjunction with the gjson.MustEncode method."},a,c={},g=[{value:"Using <code>map/struct</code> Parameters",id:"using-mapstruct-parameters",level:2},{value:"Combining <code>gjson.MustEncode</code>",id:"combining-gjsonmustencode",level:2}];function l(e){let n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"glog"})," is very friendly to log analysis tools and supports outputting logs in ",(0,s.jsx)(n.code,{children:"JSON"})," format for easier parsing and analysis of log content later on."]}),"\n",(0,s.jsxs)(n.h2,{id:"using-mapstruct-parameters",children:["Using ",(0,s.jsx)(n.code,{children:"map/struct"})," Parameters"]}),"\n",(0,s.jsxs)(n.p,{children:["Supporting JSON data format log output is very simple; just provide a ",(0,s.jsx)(n.code,{children:"map"})," or ",(0,s.jsx)(n.code,{children:"struct"})," type parameter to the printing method."]}),"\n",(0,s.jsx)(n.p,{children:"Example usage:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n\n    "github.com/gogf/gf/v2/frame/g"\n)\n\nfunc main() {\n    ctx := context.TODO()\n    g.Log().Debug(ctx, g.Map{"uid": 100, "name": "john"})\n    type User struct {\n        Uid  int    `json:"uid"`\n        Name string `json:"name"`\n    }\n    g.Log().Debug(ctx, User{100, "john"})\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"After execution, the terminal outputs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'2019-06-02 15:28:52.653 [DEBU] {"name":"john","uid":100}\n2019-06-02 15:28:52.653 [DEBU] {"uid":100,"name":"john"}\n'})}),"\n",(0,s.jsxs)(n.h2,{id:"combining-gjsonmustencode",children:["Combining ",(0,s.jsx)(n.code,{children:"gjson.MustEncode"})]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally, you can achieve JSON content output in conjunction with ",(0,s.jsx)(n.code,{children:"gjson.MustEncode"}),", for example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n\n    "github.com/gogf/gf/v2/encoding/gjson"\n    "github.com/gogf/gf/v2/frame/g"\n)\n\nfunc main() {\n    ctx := context.TODO()\n    type User struct {\n        Uid  int    `json:"uid"`\n        Name string `json:"name"`\n    }\n    g.Log().Debugf(ctx, `user json: %s`, gjson.MustEncode(User{100, "john"}))\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"After execution, the terminal outputs:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'2022-04-25 18:09:45.029 [DEBU] user json: {"uid":100,"name":"john"}\n'})})]})}function u(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},28453(e,n,o){o.d(n,{R:()=>i,x:()=>a});var t=o(296540);let s={},r=t.createContext(s);function i(e){let n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);