"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["60117"],{265374:function(e,n,i){i.r(n),i.d(n,{metadata:()=>t,contentTitle:()=>s,default:()=>m,assets:()=>c,toc:()=>d,frontMatter:()=>r});var t=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/NoSQL Redis/Redis-\u547D\u4EE4\u4EA4\u4E92","title":"Redis - Do","description":"In applications built with the GoFrame framework, interact with Redis commands and automatically serialize and deserialize data. First, we explain the powerful extensibility of the Do method, which allows the execution of any Redis command. Then we show how to use map and struct to access and store data and simplify programming with JSON serialization. By combining the GoFrame framework and Redis, developers can manage data more efficiently.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/NoSQL Redis/Redis-\u547D\u4EE4\u4EA4\u4E92.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/NoSQL Redis","slug":"/docs/components/contrib-nosql-redis-do-and-serialization","permalink":"/en/docs/components/contrib-nosql-redis-do-and-serialization","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/NoSQL Redis/Redis-\u547D\u4EE4\u4EA4\u4E92.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732451468000,"sidebarPosition":2,"frontMatter":{"slug":"/docs/components/contrib-nosql-redis-do-and-serialization","title":"Redis - Do","sidebar_position":2,"hide_title":true,"keywords":["Redis Command Interaction","Do Method","Automatic Serialization and Deserialization","GoFrame Framework","Struct Access","Map Access","gredis Library","JSON Serialization","Redis API","Go Language"],"description":"In applications built with the GoFrame framework, interact with Redis commands and automatically serialize and deserialize data. First, we explain the powerful extensibility of the Do method, which allows the execution of any Redis command. Then we show how to use map and struct to access and store data and simplify programming with JSON serialization. By combining the GoFrame framework and Redis, developers can manage data more efficiently."},"sidebar":"mainSidebar","previous":{"title":"Redis - Examples","permalink":"/en/docs/components/contrib-nosql-redis-example"},"next":{"title":"Redis - Conn","permalink":"/en/docs/components/contrib-nosql-redis-conn"}}'),o=i("785893"),a=i("250065");let r={slug:"/docs/components/contrib-nosql-redis-do-and-serialization",title:"Redis - Do",sidebar_position:2,hide_title:!0,keywords:["Redis Command Interaction","Do Method","Automatic Serialization and Deserialization","GoFrame Framework","Struct Access","Map Access","gredis Library","JSON Serialization","Redis API","Go Language"],description:"In applications built with the GoFrame framework, interact with Redis commands and automatically serialize and deserialize data. First, we explain the powerful extensibility of the Do method, which allows the execution of any Redis command. Then we show how to use map and struct to access and store data and simplify programming with JSON serialization. By combining the GoFrame framework and Redis, developers can manage data more efficiently."},s=void 0,c={},d=[{value:"<code>Do</code> Method",id:"do-method",level:2},{value:"Automatic Serialization/Deserialization",id:"automatic-serializationdeserialization",level:2},{value:"<code>map</code> Access",id:"map-access",level:3},{value:"<code>struct</code> Access",id:"struct-access",level:3}];function l(e){let n={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,a.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.h2,{id:"do-method",children:[(0,o.jsx)(n.code,{children:"Do"})," Method"]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"Do"})," is a universal command interaction method that executes synchronous instructions by sending corresponding ",(0,o.jsx)(n.code,{children:"Redis API"})," commands to the ",(0,o.jsx)(n.code,{children:"Redis Server"})," to utilize the ",(0,o.jsx)(n.code,{children:"Redis Server"})," services. The biggest feature of the ",(0,o.jsx)(n.code,{children:"Do"})," method is its strong extensibility by interacting with the server using ",(0,o.jsx)(n.code,{children:"Redis"})," commands, which can implement other commands not provided by the ",(0,o.jsx)(n.code,{children:"Redis"})," operation methods. Usage example:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    var (\n        ctx = gctx.New()\n    )\n    v, _ := g.Redis().Do(ctx, "SET", "k", "v")\n    fmt.Println(v.String())\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"automatic-serializationdeserialization",children:"Automatic Serialization/Deserialization"}),"\n",(0,o.jsxs)(n.p,{children:["When the given parameters are ",(0,o.jsx)(n.code,{children:"map"}),", ",(0,o.jsx)(n.code,{children:"slice"}),", or ",(0,o.jsx)(n.code,{children:"struct"}),", ",(0,o.jsx)(n.code,{children:"gredis"})," internally supports automatic ",(0,o.jsx)(n.code,{children:"json"})," serialization and can use the conversion functions of ",(0,o.jsx)(n.code,{children:"gvar.Var"})," for deserialization when reading data."]}),"\n",(0,o.jsxs)(n.h3,{id:"map-access",children:[(0,o.jsx)(n.code,{children:"map"})," Access"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n    "github.com/gogf/gf/v2/container/gvar"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    var (\n        ctx = gctx.New()\n        err    error\n        result *gvar.Var\n        key    = "user"\n        data   = g.Map{\n            "id":   10000,\n            "name": "john",\n        }\n    )\n    _, err = g.Redis().Do(ctx, "SET", key, data)\n    if err != nil {\n        panic(err)\n    }\n    result, err = g.Redis().Do(ctx,"GET", key)\n    if err != nil {\n        panic(err)\n    }\n    fmt.Println(result.Map())\n}\n'})}),"\n",(0,o.jsxs)(n.h3,{id:"struct-access",children:[(0,o.jsx)(n.code,{children:"struct"})," Access"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n    "github.com/gogf/gf/v2/container/gvar"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    type User struct {\n        Id   int\n        Name string\n    }\n\n    var (\n        ctx = gctx.New()\n        err    error\n        result *gvar.Var\n        key    = "user"\n        user   = g.Map{\n            "id":   10000,\n            "name": "john",\n        }\n    )\n\n    _, err = g.Redis().Do(ctx, "SET", key, user)\n    if err != nil {\n        panic(err)\n    }\n    result, err = g.Redis().Do(ctx, "GET", key)\n    if err != nil {\n        panic(err)\n    }\n\n    var user2 *User\n    if err = result.Struct(&user2); err != nil {\n        panic(err)\n    }\n    fmt.Println(user2.Id, user2.Name)\n}\n'})})]})}function m(e={}){let{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},250065:function(e,n,i){i.d(n,{Z:function(){return s},a:function(){return r}});var t=i(667294);let o={},a=t.createContext(o);function r(e){let n=t.useContext(a);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(a.Provider,{value:n},e.children)}}}]);