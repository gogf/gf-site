"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["39929"],{806069:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>a,default:()=>h,assets:()=>o,toc:()=>c,frontMatter:()=>d});var i=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6A21\u677F\u5F15\u64CE/\u6A21\u677F\u5F15\u64CE-\u6A21\u677F\u6807\u7B7E","title":"Template Engine - Tags","description":"The basic usage of template engines and template tags in the GoFrame framework, including how to customize template delimiters, use pipelines to pass data in templates, usage of conditional statements if...else, range to iterate types like slice, map, using define to define template blocks, template tag combined with define for template nesting and reuse, and the difference in usage of the include tag in the GoFrame framework.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6A21\u677F\u5F15\u64CE/\u6A21\u677F\u5F15\u64CE-\u6A21\u677F\u6807\u7B7E.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6A21\u677F\u5F15\u64CE","slug":"/docs/core/gview-tags","permalink":"/en/docs/core/gview-tags","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6A21\u677F\u5F15\u64CE/\u6A21\u677F\u5F15\u64CE-\u6A21\u677F\u6807\u7B7E.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/core/gview-tags","title":"Template Engine - Tags","sidebar_position":1,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","Template Engine","Template Tags","gview.SetDelimiters","pipeline","if...else","range","define","template","include"],"description":"The basic usage of template engines and template tags in the GoFrame framework, including how to customize template delimiters, use pipelines to pass data in templates, usage of conditional statements if...else, range to iterate types like slice, map, using define to define template blocks, template tag combined with define for template nesting and reuse, and the difference in usage of the include tag in the GoFrame framework."},"sidebar":"mainSidebar","previous":{"title":"Template Engine - Configuration","permalink":"/en/docs/core/gview-config"},"next":{"title":"Template Engine - Variables","permalink":"/en/docs/core/gview-variable"}}'),s=t("785893"),l=t("250065");let d={slug:"/docs/core/gview-tags",title:"Template Engine - Tags",sidebar_position:1,hide_title:!0,keywords:["GoFrame","GoFrame Framework","Template Engine","Template Tags","gview.SetDelimiters","pipeline","if...else","range","define","template","include"],description:"The basic usage of template engines and template tags in the GoFrame framework, including how to customize template delimiters, use pipelines to pass data in templates, usage of conditional statements if...else, range to iterate types like slice, map, using define to define template blocks, template tag combined with define for template nesting and reuse, and the difference in usage of the include tag in the GoFrame framework."},a=void 0,o={},c=[{value:"<code>if \u2026 else \u2026 end</code>",id:"if--else--end",level:2},{value:"<code>range \u2026 end</code>",id:"range--end",level:2},{value:"<code>with \u2026 end</code>",id:"with--end",level:2},{value:"<code>define</code>",id:"define",level:2},{value:"<code>template</code>",id:"template",level:2},{value:"<code>include</code>",id:"include",level:2},{value:"Comments",id:"comments",level:2},{value:"Remove Whitespace",id:"remove-whitespace",level:2},{value:"More Usage Instructions",id:"more-usage-instructions",level:2}];function r(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["The template engine uses ",(0,s.jsx)(n.code,{children:"{{"})," and ",(0,s.jsx)(n.code,{children:"}}"})," as the default left and right delimiters. Developers can set custom template delimiters using the ",(0,s.jsx)(n.code,{children:"gview.SetDelimiters"})," method."]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"."})," to access the value of the current object (template local variables)."]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"$"})," to reference the root context of the current template (template global variables)."]}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"$var"})," to access specific template variables."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["Supported ",(0,s.jsx)(n.code,{children:"go"})," language symbols in the template"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{\"string\"}}     // General string\n{{`raw string`}} // Raw string\n{{'c'}}          // Byte\n{{print nil}}    // nil is also supported\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Pipeline in the template"})}),"\n",(0,s.jsx)(n.p,{children:"It can be output from context variables or the return values passed through the pipeline from functions."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{. | FuncA | FuncB | FuncC}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When the value of the ",(0,s.jsx)(n.code,{children:"pipeline"})," is:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"false"})," or ",(0,s.jsx)(n.code,{children:"0"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"nil pointer"})," or ",(0,s.jsx)(n.code,{children:"interface"})]}),"\n",(0,s.jsxs)(n.li,{children:["Length of ",(0,s.jsx)(n.code,{children:"0"})," for ",(0,s.jsx)(n.code,{children:"array"}),", ",(0,s.jsx)(n.code,{children:"slice"}),", ",(0,s.jsx)(n.code,{children:"map"}),", ",(0,s.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Then this ",(0,s.jsx)(n.code,{children:"pipeline"})," is considered empty."]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["Note: In the ",(0,s.jsx)(n.code,{children:"gf"})," template engine, when a specified variable shown in the template does not exist, it will appear empty (the standard library template engine would show ",(0,s.jsx)(n.code,{children:"<no value>"}),")."]})}),"\n",(0,s.jsx)(n.h2,{id:"if--else--end",children:(0,s.jsx)(n.code,{children:"if \u2026 else \u2026 end"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{if pipeline}}...{{end}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["When ",(0,s.jsx)(n.code,{children:"if"})," evaluates, if the ",(0,s.jsx)(n.code,{children:"pipeline"})," is empty, it is equivalent to evaluating to ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"Nested loops are supported."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{if .condition}}\n    ...\n{{else}}\n    {{if .condition2}}\n        ...\n    {{end}}\n{{end}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can also use ",(0,s.jsx)(n.code,{children:"else if"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{if .condition}}\n    ...\n{{else if .condition2}}\n    ...\n{{else}}\n    ...\n{{end}}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"range--end",children:(0,s.jsx)(n.code,{children:"range \u2026 end"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{range pipeline}} {{.}} {{end}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["The types supported by the ",(0,s.jsx)(n.code,{children:"pipeline"})," are ",(0,s.jsx)(n.code,{children:"slice"}),", ",(0,s.jsx)(n.code,{children:"map"}),", ",(0,s.jsx)(n.code,{children:"channel"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Note: Inside the ",(0,s.jsx)(n.code,{children:"range"})," loop, the ",(0,s.jsx)(n.code,{children:"."})," symbol will be overridden to the sub-elements of the above types (local variables). To access external variables (global variables) within the loop, add the ",(0,s.jsx)(n.code,{children:"$"})," symbol, such as ",(0,s.jsx)(n.code,{children:"{{$.Session.Name}}"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally, when the corresponding value length is ",(0,s.jsx)(n.code,{children:"0"}),", ",(0,s.jsx)(n.code,{children:"range"})," will not execute, and ",(0,s.jsx)(n.code,{children:"."})," will not change."]}),"\n",(0,s.jsxs)(n.p,{children:["For example, to iterate a ",(0,s.jsx)(n.code,{children:"map"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{range $key, $value := .MapContent}}\n    {{$key}}:{{$value}}\n{{end}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:["For example, to iterate a ",(0,s.jsx)(n.code,{children:"slice"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{range $index, $elem := .SliceContent}}\n    {{range $key, $value := $elem}}\n        {{$key}}:{{$value}}\n    {{end}}\n{{end}}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"with--end",children:(0,s.jsx)(n.code,{children:"with \u2026 end"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{with pipeline}}...{{end}}\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"with"})," is used to redirect the ",(0,s.jsx)(n.code,{children:"pipeline"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{with .Field.NestField.SubField}}\n    {{.Var}}\n{{end}}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"define",children:(0,s.jsx)(n.code,{children:"define"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"define"})," can be used to ",(0,s.jsx)(n.strong,{children:"customize template content blocks"})," (define a template name for a section of template content). It can be used for module definition and template nesting (used in the ",(0,s.jsx)(n.code,{children:"template"})," tag)."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{{define "loop"}}\n    <li>{{.Name}}</li>\n{{end}}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Where ",(0,s.jsx)(n.code,{children:"loop"})," is the name of the template content block, which can subsequently be called using the ",(0,s.jsx)(n.code,{children:"template"})," tag:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'<ul>\n    {{range .Items}}\n        {{template "loop" .}}\n    {{end}}\n</ul>\n'})}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"define"})," tag needs to be used in conjunction with the ",(0,s.jsx)(n.code,{children:"template"})," tag and supports cross-template usage (effective within the same template directory/subdirectory, achieved by using the ",(0,s.jsx)(n.code,{children:"ParseFiles"})," method to parse template files)."]})}),"\n",(0,s.jsx)(n.h2,{id:"template",children:(0,s.jsx)(n.code,{children:"template"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{{template "templateName" pipeline}}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The corresponding context ",(0,s.jsx)(n.code,{children:"pipeline"})," is passed to the template for it to be called within the template."]}),"\n",(0,s.jsxs)(n.p,{children:["Note: The parameter for the ",(0,s.jsx)(n.code,{children:"template"})," tag is ",(0,s.jsx)(n.code,{children:"templateName"}),", not the template file path. The ",(0,s.jsx)(n.code,{children:"template"})," tag does not support template file paths."]}),"\n",(0,s.jsx)(n.admonition,{type:"warning",children:(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"template"})," tag needs to be used in conjunction with the ",(0,s.jsx)(n.code,{children:"define"})," tag and supports cross-template usage (effective within the same template directory/subdirectory, achieved by using the ",(0,s.jsx)(n.code,{children:"ParseFiles"})," method to parse template files)."]})}),"\n",(0,s.jsx)(n.h2,{id:"include",children:(0,s.jsx)(n.code,{children:"include"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsxs)(n.strong,{children:["This is a new tag added for ",(0,s.jsx)(n.code,{children:"gf"})," framework template engines"]})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{{include "templateFileName(with full file suffix)" pipeline}}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"include"})," tag can be used in the template to load other templates (any path). The template file name supports ",(0,s.jsx)(n.strong,{children:"relative path"})," as well as file system ",(0,s.jsx)(n.strong,{children:"absolute path"}),". To pass the template variables of the current template to the sub-template (nested template), you can do as follows:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'{{include "templateFileName(with full file suffix)" .}}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["The difference with the ",(0,s.jsx)(n.code,{children:"template"})," tag is that ",(0,s.jsx)(n.code,{children:"include"})," only supports ",(0,s.jsx)(n.strong,{children:"file paths"})," and does not support ",(0,s.jsx)(n.strong,{children:"template names"}),"; whereas, the ",(0,s.jsx)(n.code,{children:"template"})," tag only supports ",(0,s.jsx)(n.strong,{children:"template names"})," and does not support ",(0,s.jsx)(n.strong,{children:"file paths"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"comments",children:"Comments"}),"\n",(0,s.jsx)(n.p,{children:"Multiline text comments are allowed but cannot be nested."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"{{/*\ncomment content\nsupport new line\n*/}}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"remove-whitespace",children:"Remove Whitespace"}),"\n",(0,s.jsx)(n.p,{children:"Remove leading and trailing whitespace."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'# Use {{- syntax to remove all whitespace on the left of the template content, and use -}} to remove all whitespace on the right of the template content.\n\n# Note: - should be adjacent to {{ and }}, and there should be a space between the syntax and the template value.\n\n{{- .Name -}}\n\n{{- range $key, $value := .list}}\n  "{{$value}}"\n{{- end}}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"more-usage-instructions",children:"More Usage Instructions"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://pkg.go.dev/html/template",children:"template package - html/template - Go Packages"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://pkg.go.dev/text/template",children:"template package - text/template - Go Packages"})})]})}function h(e={}){let{wrapper:n}={...(0,l.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(r,{...e})}):r(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return d}});var i=t(667294);let s={},l=i.createContext(s);function d(e){let n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);