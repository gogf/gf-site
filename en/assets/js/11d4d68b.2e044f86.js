"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["30806"],{369932(e,t,n){n.r(t),n.d(t,{metadata:()=>r,default:()=>m,frontMatter:()=>s,contentTitle:()=>c,toc:()=>l,assets:()=>d});var r=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u63A5\u53E3\u5F00\u53D1/ORM\u63A5\u53E3\u5F00\u53D1","title":"ORM - Interface","description":"In the GoFrame framework, the ORM interface development of the gdb module allows developers to customize database operation implementations easily through flexible interface design. The DB interface serves as the core interface, providing methods for database connection creation, querying, and execution, while the Driver interface enables users to define their own driver implementations. Detailed interface documentation and method descriptions will help you get started quickly and proceed with secondary development.","source":"@site/i18n/en/docusaurus-plugin-content-docs/version-2.8.x/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u63A5\u53E3\u5F00\u53D1/ORM\u63A5\u53E3\u5F00\u53D1.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u63A5\u53E3\u5F00\u53D1","slug":"/docs/core/gdb-interface","permalink":"/en/2.8.x/docs/core/gdb-interface","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.8.x/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u63A5\u53E3\u5F00\u53D1/ORM\u63A5\u53E3\u5F00\u53D1.md","tags":[],"version":"2.8.x","lastUpdatedBy":"John Guo","lastUpdatedAt":1742194305000,"sidebarPosition":8,"frontMatter":{"slug":"/docs/core/gdb-interface","title":"ORM - Interface","sidebar_position":8,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","ORM Interface","gdb Module","Database Operations","Interface Design","Open Method","Driver Interface","Custom Implementation","SQL Submission"],"description":"In the GoFrame framework, the ORM interface development of the gdb module allows developers to customize database operation implementations easily through flexible interface design. The DB interface serves as the core interface, providing methods for database connection creation, querying, and execution, while the Driver interface enables users to define their own driver implementations. Detailed interface documentation and method descriptions will help you get started quickly and proceed with secondary development."},"sidebar":"mainSidebar","previous":{"title":"ORM Senior - UnmarshalValue","permalink":"/en/2.8.x/docs/core/gdb-senior-custom-type-converting"},"next":{"title":"ORM Interface - Callback","permalink":"/en/2.8.x/docs/core/gdb-interface-callback"}}'),i=n(474848),o=n(28453),a=n(711654);let s={slug:"/docs/core/gdb-interface",title:"ORM - Interface",sidebar_position:8,hide_title:!0,keywords:["GoFrame","GoFrame Framework","ORM Interface","gdb Module","Database Operations","Interface Design","Open Method","Driver Interface","Custom Implementation","SQL Submission"],description:"In the GoFrame framework, the ORM interface development of the gdb module allows developers to customize database operation implementations easily through flexible interface design. The DB interface serves as the core interface, providing methods for database connection creation, querying, and execution, while the Driver interface enables users to define their own driver implementations. Detailed interface documentation and method descriptions will help you get started quickly and proceed with secondary development."},c,d={},l=[{value:"<code>DB</code> Interface",id:"db-interface",level:2},{value:"<code>DB</code> Interface Relationships",id:"db-interface-relationships",level:2},{value:"<code>Driver</code> Interface",id:"driver-interface",level:2},{value:"Documentation",id:"documentation",level:2}];function h(e){let t={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"gdb"})," module uses highly flexible and extensible interface design, allowing developers to easily customize implementations and replace any methods defined in the interface."]}),"\n",(0,i.jsxs)(t.h2,{id:"db-interface",children:[(0,i.jsx)(t.code,{children:"DB"})," Interface"]}),"\n",(0,i.jsxs)(t.p,{children:["Interface documentation: ",(0,i.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#DB",children:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#DB"})]}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"DB"})," interface is the core interface for database operations and the most commonly used interface when using ",(0,i.jsx)(t.code,{children:"ORM"})," to operate on databases. Here, we mainly explain several important methods of the interface:"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"Open"})," method is used to create a specific database connection object, returning the standard library's ",(0,i.jsx)(t.code,{children:"*sql.DB"})," general database object."]}),"\n",(0,i.jsxs)(t.li,{children:["The first parameter ",(0,i.jsx)(t.code,{children:"link"})," of the ",(0,i.jsx)(t.code,{children:"Do*"})," series methods is a ",(0,i.jsx)(t.code,{children:"Link"})," interface object, which may be a master node object or a slave node object in a ",(0,i.jsx)(t.code,{children:"master-slave"})," mode. Therefore, when using this ",(0,i.jsx)(t.code,{children:"link"})," parameter in inherited driver object implementations, be aware of the current running mode. In most database master-slave modes, ",(0,i.jsx)(t.code,{children:"slave"})," nodes are often not writable."]}),"\n",(0,i.jsxs)(t.li,{children:["The ",(0,i.jsx)(t.code,{children:"HandleSqlBeforeCommit"})," method will be called for some pre-commit callback processing when each ",(0,i.jsx)(t.code,{children:"SQL"})," is submitted to the database server for execution."]}),"\n",(0,i.jsx)(t.li,{children:"For other interface methods, please refer to the interface documentation or source files."}),"\n"]}),"\n",(0,i.jsxs)(t.h2,{id:"db-interface-relationships",children:[(0,i.jsx)(t.code,{children:"DB"})," Interface Relationships"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(358331).A+"",width:"2432",height:"1866"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.code,{children:"GoFrame ORM Relations"})}),"\n",(0,i.jsxs)(t.h2,{id:"driver-interface",children:[(0,i.jsx)(t.code,{children:"Driver"})," Interface"]}),"\n",(0,i.jsxs)(t.p,{children:["Interface documentation: ",(0,i.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#Driver",children:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#Driver"})]}),"\n",(0,i.jsx)(t.p,{children:"Custom drivers need to implement the following interface:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"// Driver is the interface for integrating sql drivers into package gdb.\ntype Driver interface {\n    // New creates and returns a database object for specified database server.\n    New(core *Core, node *ConfigNode) (DB, error)\n}\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"New"})," method is used to create a database operation object corresponding to the driver based on the ",(0,i.jsx)(t.code,{children:"Core"})," database base object and the ",(0,i.jsx)(t.code,{children:"ConfigNode"})," configuration object. It should be noted that the returned database object needs to implement the ",(0,i.jsx)(t.code,{children:"DB"})," interface. The database base object ",(0,i.jsx)(t.code,{children:"Core"})," has already implemented the ",(0,i.jsx)(t.code,{children:"DB"}),' interface, so developers only need to "inherit" the ',(0,i.jsx)(t.code,{children:"Core"})," object and then override the corresponding interface implementation methods as needed."]}),"\n",(0,i.jsx)(t.h2,{id:"documentation",children:"Documentation"}),"\n","\n",(0,i.jsx)(a.A,{})]})}function m(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},358331(e,t,n){n.d(t,{A:()=>r});let r=n.p+"assets/images/1f5e48cc947e21dbed2745f69254935a-891c603c932080da42159aa53d0f4e68.png"},711654(e,t,n){n.d(t,{A:()=>b});var r=n(474848);n(296540);var i=n(634164),o=n(259829),a=n(525863),s=n(484792),c=n(433605),d=n(233553),l=n(761190);function h({href:e,children:t}){return(0,r.jsx)(a.A,{href:e,className:(0,i.A)("card padding--lg","cardContainer_fWXF"),children:t})}function m({href:e,icon:t,title:n,description:o}){return(0,r.jsxs)(h,{href:e,children:[(0,r.jsxs)(l.A,{as:"h2",className:(0,i.A)("text--truncate","cardTitle_rnsV"),title:n,children:[t," ",n]}),o&&(0,r.jsx)("p",{className:(0,i.A)("text--truncate","cardDescription_PWke"),title:o,children:o})]})}function f({item:e}){let t=(0,o.Nr)(e),n=function(){let{selectMessage:e}=(0,s.W)();return t=>e(t,(0,d.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return t?(0,r.jsx)(m,{href:t,icon:"\u{1F5C3}\uFE0F",title:e.label,description:e.description??n(e.items.length)}):null}function u({item:e}){let t=(0,c.A)(e.href)?"\u{1F4C4}\uFE0F":"\u{1F517}",n=(0,o.cC)(e.docId??void 0);return(0,r.jsx)(m,{href:e.href,icon:t,title:e.label,description:e.description??n?.description})}function p({item:e}){switch(e.type){case"link":return(0,r.jsx)(u,{item:e});case"category":return(0,r.jsx)(f,{item:e});default:throw Error(`unknown item type ${JSON.stringify(e)}`)}}function g({className:e}){let t=(0,o.$S)();return(0,r.jsx)(b,{items:t.items,className:e})}function b(e){let{items:t,className:n}=e;if(!t)return(0,r.jsx)(g,{...e});let a=(0,o.d1)(t);return(0,r.jsx)("section",{className:(0,i.A)("row",n),children:a.map((e,t)=>(0,r.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,r.jsx)(p,{item:e})},t))})}},484792(e,t,n){n.d(t,{W:()=>c});var r=n(296540),i=n(719087);let o=["zero","one","two","few","many","other"];function a(e){return o.filter(t=>e.includes(t))}let s={locale:"en",pluralForms:a(["one","other"]),select:e=>1===e?"one":"other"};function c(){let e=function(){let{i18n:{currentLocale:e}}=(0,i.A)();return(0,r.useMemo)(()=>{try{let t;return t=new Intl.PluralRules(e),{locale:e,pluralForms:a(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".
Docusaurus will fallback to the default (English) implementation.
Error: ${t.message}
`),s}},[e])}();return{selectMessage:(t,n)=>(function(e,t,n){let r=e.split("|");if(1===r.length)return r[0];r.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${r.length}: ${e}`);let i=n.select(t);return r[Math.min(n.pluralForms.indexOf(i),r.length-1)]})(n,t,e)}}},28453(e,t,n){n.d(t,{R:()=>a,x:()=>s});var r=n(296540);let i={},o=r.createContext(i);function a(e){let t=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);