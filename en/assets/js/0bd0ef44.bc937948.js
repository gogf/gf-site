"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["73925"],{141874(e,t,n){n.r(t),n.d(t,{metadata:()=>i,default:()=>h,frontMatter:()=>o,contentTitle:()=>a,toc:()=>d,assets:()=>c});var i=JSON.parse('{"id":"quick/\u9879\u76EE\u811A\u624B\u67B6/\u9879\u76EE\u542F\u52A8","title":"Project Initialization","description":"Learn how to initialize and bootstrap your GoFrame application. This guide walks you through the project startup process, from understanding the main entry point to configuring routes and middleware. You\'ll gain insights into GoFrame\'s architectural design and best practices for structuring your web applications.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/quick/\u9879\u76EE\u811A\u624B\u67B6/\u9879\u76EE\u542F\u52A8.md","sourceDirName":"quick/\u9879\u76EE\u811A\u624B\u67B6","slug":"/quick/scaffold-boost","permalink":"/en/quick/scaffold-boost","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/quick/\u9879\u76EE\u811A\u624B\u67B6/\u9879\u76EE\u542F\u52A8.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732628275000,"sidebarPosition":0,"frontMatter":{"slug":"/quick/scaffold-boost","title":"Project Initialization","hide_title":true,"sidebar_position":0,"keywords":["GoFrame","project initialization","application startup","routing configuration","HTTP server setup","API versioning","middleware integration","Swagger documentation","project structure"],"description":"Learn how to initialize and bootstrap your GoFrame application. This guide walks you through the project startup process, from understanding the main entry point to configuring routes and middleware. You\'ll gain insights into GoFrame\'s architectural design and best practices for structuring your web applications.","translator":"claude3.5"},"sidebar":"quickSidebar","previous":{"title":"Introduction","permalink":"/en/quick/scaffold-index"},"next":{"title":"API Development Tutorial\u{1F31F}","permalink":"/en/quick/scaffold-api"}}'),r=n(474848),s=n(28453);let o={slug:"/quick/scaffold-boost",title:"Project Initialization",hide_title:!0,sidebar_position:0,keywords:["GoFrame","project initialization","application startup","routing configuration","HTTP server setup","API versioning","middleware integration","Swagger documentation","project structure"],description:"Learn how to initialize and bootstrap your GoFrame application. This guide walks you through the project startup process, from understanding the main entry point to configuring routes and middleware. You'll gain insights into GoFrame's architectural design and best practices for structuring your web applications.",translator:"claude3.5"},a,c={},d=[{value:"The Main Entry Point",id:"the-main-entry-point",level:2},{value:"Bootstrap Process",id:"bootstrap-process",level:2},{value:"Configuring Routes",id:"configuring-routes",level:2},{value:"Route Objects",id:"route-objects",level:2},{value:"Creating Route Objects",id:"creating-route-objects",level:3},{value:"Defining Route Handlers",id:"defining-route-handlers",level:3},{value:"Running Your Application",id:"running-your-application",level:2},{value:"Server Operation",id:"server-operation",level:3},{value:"Testing the API",id:"testing-the-api",level:3},{value:"Chapter Summary",id:"chapter-summary",level:2}];function l(e){let t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["New to the project structure? Don't worry! This chapter builds on our ",(0,r.jsx)(t.a,{href:"/en/docs/design/project-structure",children:"Project Structure Guide\u{1F525}"})," to explain how your application starts up and how different components work together."]}),"\n",(0,r.jsx)(t.h2,{id:"the-main-entry-point",children:"The Main Entry Point"}),"\n",(0,r.jsxs)(t.p,{children:["Every GoFrame application begins with ",(0,r.jsx)(t.code,{children:"main.go"}),". This file delegates to the ",(0,r.jsx)(t.code,{children:"internal/cmd"})," package to orchestrate the application startup. In our project template, it specifically calls the ",(0,r.jsx)(t.code,{children:"Run"})," command of the ",(0,r.jsx)(t.code,{children:"Main"})," object in the ",(0,r.jsx)(t.code,{children:"internal/cmd"})," package."]}),"\n",(0,r.jsxs)(t.p,{children:["All core business logic resides in the ",(0,r.jsx)(t.code,{children:"internal"})," directory - a Go feature that prevents external packages from importing these files, enhancing security and maintaining clean architecture."]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["Framework core components require a ",(0,r.jsx)(t.code,{children:"context"})," parameter. We use ",(0,r.jsx)(t.code,{children:"gctx.GetInitCtx"})," to inherit trace information from the parent process. If no parent process exists, it creates a new context with tracing capabilities for downstream operations."]})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"main.go",src:n(743057).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsx)(t.h2,{id:"bootstrap-process",children:"Bootstrap Process"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"Main"})," object's ",(0,r.jsx)(t.code,{children:"Run"})," command handles bootstrap initialization, where you can place dynamic startup logic. By default, our template:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Creates an HTTP server"}),"\n",(0,r.jsx)(t.li,{children:"Registers routes using group routing"}),"\n",(0,r.jsx)(t.li,{children:"Starts the HTTP server"}),"\n",(0,r.jsx)(t.li,{children:"Blocks for incoming requests while monitoring system signals"}),"\n",(0,r.jsx)(t.li,{children:"Gracefully shuts down when receiving exit signals"}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["For detailed command-line management information, see: ",(0,r.jsx)(t.a,{href:"/en/docs/core/gcmd",children:"Command Management"})]})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"main command",src:n(719821).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsx)(t.h2,{id:"configuring-routes",children:"Configuring Routes"}),"\n",(0,r.jsxs)(t.p,{children:["The template uses group routing via the ",(0,r.jsx)(t.code,{children:"Group"})," method - one of several routing approaches supported by GoFrame's HTTP server."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-go",children:'s := g.Server()\ns.Group("/", func(group *ghttp.RouterGroup) {\n    group.Middleware(ghttp.MiddlewareHandlerResponse)\n    group.Bind(\n        hello.NewV1(),\n    )\n})\n'})}),"\n",(0,r.jsx)(t.p,{children:"This setup:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Registers a middleware using ",(0,r.jsx)(t.code,{children:"Middleware"})," to standardize route responses"]}),"\n",(0,r.jsxs)(t.li,{children:["Binds route objects returned by ",(0,r.jsx)(t.code,{children:"hello.NewV1()"})," using the ",(0,r.jsx)(t.code,{children:"Bind"})," method"]}),"\n",(0,r.jsx)(t.li,{children:"Automatically registers all public methods of the route object"}),"\n",(0,r.jsxs)(t.li,{children:["Supports API versioning (default version is ",(0,r.jsx)(t.code,{children:"v1"}),")"]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["For comprehensive routing documentation, see: ",(0,r.jsx)(t.a,{href:"/en/docs/web/router",children:"Router Guide \u{1F525}"})]})}),"\n",(0,r.jsx)(t.h2,{id:"route-objects",children:"Route Objects"}),"\n",(0,r.jsx)(t.h3,{id:"creating-route-objects",children:"Creating Route Objects"}),"\n",(0,r.jsxs)(t.p,{children:["Let's look at how ",(0,r.jsx)(t.code,{children:"hello.NewV1()"})," works:"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Route Object Creation",src:n(307961).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsx)(t.p,{children:"Notice it returns an API interface rather than a concrete object:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"API Interface",src:n(669044).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsxs)(t.p,{children:["Why use an interface instead of returning the ",(0,r.jsx)(t.code,{children:"ControllerV1"})," object directly?"]}),"\n",(0,r.jsxs)(t.p,{children:["This design enables early error detection. If your ",(0,r.jsx)(t.code,{children:"controller"})," doesn't implement all required API methods, you'll get compilation errors and IDE warnings, rather than runtime failures."]}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"This pattern is optional but recommended for robust code organization"}),"\n",(0,r.jsxs)(t.li,{children:["Most of this code can be auto-generated using the ",(0,r.jsx)(t.code,{children:"gf gen ctrl"})," command based on API definitions"]}),"\n"]})}),"\n",(0,r.jsx)(t.h3,{id:"defining-route-handlers",children:"Defining Route Handlers"}),"\n",(0,r.jsx)(t.p,{children:"Here's a typical route handler:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Route Handler",src:n(236995).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsxs)(t.p,{children:["Route parameters are defined in the ",(0,r.jsx)(t.code,{children:"HelloReq"})," input object:"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Request Object",src:n(754035).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsx)(t.admonition,{type:"tip",children:(0,r.jsxs)(t.p,{children:["This approach of using middleware for standardized responses and route objects is called ",(0,r.jsx)(t.strong,{children:"standardized routing"}),".\nLearn more in our ",(0,r.jsx)(t.a,{href:"/en/docs/web/router-registering-strict-router",children:"Standard Router Guide"}),"."]})}),"\n",(0,r.jsx)(t.h2,{id:"running-your-application",children:"Running Your Application"}),"\n",(0,r.jsx)(t.h3,{id:"server-operation",children:"Server Operation"}),"\n",(0,r.jsxs)(t.p,{children:["The HTTP server starts with the ",(0,r.jsx)(t.code,{children:"Run"})," method, which:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Blocks for incoming requests"}),"\n",(0,r.jsx)(t.li,{children:"Monitors process signals"}),"\n",(0,r.jsx)(t.li,{children:"Handles server restart/shutdown"}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"You'll see this output on startup:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Server Output",src:n(115552).A+"",width:"3420",height:"2002"})}),"\n",(0,r.jsx)(t.p,{children:"Notice that API documentation and Swagger UI are automatically enabled."}),"\n",(0,r.jsx)(t.h3,{id:"testing-the-api",children:"Testing the API"}),"\n",(0,r.jsxs)(t.p,{children:["Visit ",(0,r.jsx)(t.a,{href:"http://127.0.0.1:8000/hello",children:"http://127.0.0.1:8000/hello"})," to test the API:"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"API Response",src:n(372084).A+"",width:"806",height:"238"})}),"\n",(0,r.jsxs)(t.p,{children:["Access the API documentation at ",(0,r.jsx)(t.a,{href:"http://127.0.0.1:8000/swagger",children:"http://127.0.0.1:8000/swagger"}),":"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Swagger UI",src:n(27631).A+"",width:"2274",height:"1008"})}),"\n",(0,r.jsx)(t.h2,{id:"chapter-summary",children:"Chapter Summary"}),"\n",(0,r.jsx)(t.p,{children:"You now understand how a GoFrame application bootstraps and runs. While we've covered the basics, there's much more to explore in our detailed documentation."}),"\n",(0,r.jsx)(t.p,{children:"Next, we'll build a complete CRUD API using this template, implementing database operations for creating, reading, updating, and deleting records."})]})}function h(e={}){let{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},743057(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731652866651-7a2f5087db01d571657a9d33d2cded6b.png"},719821(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731653678736-039876bb04a0ab2b525b6bcfbd536896.png"},307961(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731655173428-2886901f3a087735f674c068b0db4a1b.png"},236995(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731655216354-f7727e56a70b50375d3385d4047e46ce.png"},754035(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731655423345-31aa4c6047a8078ac46144f3afd36fb0.png"},669044(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731655571221-c2f9d404770e21eea958013453bf1316.png"},115552(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731657619286-249ff67bb281ec599a3b42ffe6678df7.png"},372084(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731657717720-15765c9e41d8b5341b12c1a4e2712140.png"},27631(e,t,n){n.d(t,{A:()=>i});let i=n.p+"assets/images/QQ_1731657799765-cc1bb004c10359cf16bdb5898621f8f4.png"},28453(e,t,n){n.d(t,{R:()=>o,x:()=>a});var i=n(296540);let r={},s=i.createContext(r);function o(e){let t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);