"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["83627"],{984716:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>a,default:()=>h,assets:()=>s,toc:()=>c,frontMatter:()=>o});var i=JSON.parse('{"id":"course/starbook/\u7B2C\u56DB\u7AE0-\u5355\u8BCD\u7BA1\u7406/4.2.\u6570\u636E\u6A21\u578B","title":"4.2 Data Model","description":"Create a new data table to save word information and add a unique index to prevent users from adding duplicates. Generate a data model and customize the ProficiencyLevel type to represent word proficiency, defining five levels. This use of fixed enumeration values improves code readability and maintainability, applicable to various state scenarios.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/course/starbook/\u7B2C\u56DB\u7AE0-\u5355\u8BCD\u7BA1\u7406/4.2.\u6570\u636E\u6A21\u578B.md","sourceDirName":"course/starbook/\u7B2C\u56DB\u7AE0-\u5355\u8BCD\u7BA1\u7406","slug":"/course/starbook/word-model","permalink":"/en/course/starbook/word-model","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/course/starbook/\u7B2C\u56DB\u7AE0-\u5355\u8BCD\u7BA1\u7406/4.2.\u6570\u636E\u6A21\u578B.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732458699000,"frontMatter":{"title":"4.2 Data Model","hide_title":true,"slug":"/course/starbook/word-model","keywords":["Create Data Table","Word Management","GoFrame Framework","Generate Data Model","Customize Data Model","Word Definition","Chinese Translation","Pronunciation Record","Proficiency Level","Programming Tips"],"description":"Create a new data table to save word information and add a unique index to prevent users from adding duplicates. Generate a data model and customize the ProficiencyLevel type to represent word proficiency, defining five levels. This use of fixed enumeration values improves code readability and maintainability, applicable to various state scenarios."},"sidebar":"courseStarBookSidebar","previous":{"title":"4.1 Preface","permalink":"/en/course/starbook/word-overview"},"next":{"title":"4.3 Add Word","permalink":"/en/course/starbook/word-create"}}'),r=t("785893"),d=t("250065");let o={title:"4.2 Data Model",hide_title:!0,slug:"/course/starbook/word-model",keywords:["Create Data Table","Word Management","GoFrame Framework","Generate Data Model","Customize Data Model","Word Definition","Chinese Translation","Pronunciation Record","Proficiency Level","Programming Tips"],description:"Create a new data table to save word information and add a unique index to prevent users from adding duplicates. Generate a data model and customize the ProficiencyLevel type to represent word proficiency, defining five levels. This use of fixed enumeration values improves code readability and maintainability, applicable to various state scenarios."},a=void 0,s={},c=[{value:"Create Data Table",id:"create-data-table",level:2},{value:"Generate Word Data Model",id:"generate-word-data-model",level:2},{value:"Customize Data Model",id:"customize-data-model",level:2}];function l(e){let n={code:"code",em:"em",h2:"h2",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"create-data-table",children:"Create Data Table"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["Create a new data table to store words and add a combined unique index ",(0,r.jsx)(n.code,{children:"uid, word"})," to restrict a single user from adding the same word multiple times."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"CREATE TABLE words (\n    id INT UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,\n    uid INT UNSIGNED NOT NULL,\n    word VARCHAR ( 255 ) NOT NULL,\n    definition TEXT,\n    example_sentence TEXT,\n    chinese_translation VARCHAR ( 255 ),\n    pronunciation VARCHAR ( 255 ),\n    proficiency_level SMALLINT UNSIGNED,\n    created_at DATETIME,\n    updated_at DATETIME\n);\n\nALTER TABLE words ADD UNIQUE (uid, word);\n"})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Field Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"id"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"INT UNSIGNED"})}),(0,r.jsx)(n.td,{children:"Primary key, auto-increment, unique ID for words"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"uid"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"INT UNSIGNED"})}),(0,r.jsx)(n.td,{children:"User ID, indicates the owner of the word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"word"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VARCHAR(255)"})}),(0,r.jsx)(n.td,{children:"Word, cannot be null"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"definition"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TEXT"})}),(0,r.jsx)(n.td,{children:"Word definition"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"example_sentence"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TEXT"})}),(0,r.jsx)(n.td,{children:"Example sentence"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"chinese_translation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VARCHAR(255)"})}),(0,r.jsx)(n.td,{children:"Chinese translation of the word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"pronunciation"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VARCHAR(255)"})}),(0,r.jsx)(n.td,{children:"Pronunciation of the word"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"proficiency_level"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SMALLINT"})}),(0,r.jsx)(n.td,{children:"Word proficiency level, 1 is lowest, 5 is highest"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"created_at"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DATETIME"})}),(0,r.jsx)(n.td,{children:"Record creation time"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"updated_at"})}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"DATETIME"})}),(0,r.jsx)(n.td,{children:"Record last update time"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"generate-word-data-model",children:"Generate Word Data Model"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"$ gf gen dao\n"})}),"\n",(0,r.jsx)(n.p,{children:"After successful execution, the following files will be generated:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-text",children:"internal/model/do/words.go\ninternal/model/entity/words.go\ninternal/dao/internal/words.go\ninternal/dao/words.go\n"})}),"\n",(0,r.jsx)(n.h2,{id:"customize-data-model",children:"Customize Data Model"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:["Like the user model, replicate the approach in ",(0,r.jsx)(n.code,{children:"model"})," to customize a data model for use as a ",(0,r.jsx)(n.code,{children:"Logic"})," input parameter."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"internal/model/words.go"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-go",children:"package model  \n  \ntype ProficiencyLevel uint  \n  \nconst (  \n    ProficiencyLevel1 ProficiencyLevel = iota + 1  \n    ProficiencyLevel2  \n    ProficiencyLevel3\n    ProficiencyLevel4\n    ProficiencyLevel5\n)  \n  \ntype WordInput struct {  \n    Uid                uint  \n    Word               string  \n    Definition         string  \n    ExampleSentence    string  \n    ChineseTranslation string  \n    Pronunciation      string  \n    ProficiencyLevel   ProficiencyLevel  \n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Here, we have customized a data type ",(0,r.jsx)(n.code,{children:"ProficiencyLevel"})," to indicate word proficiency and have defined five enumeration values: ",(0,r.jsx)(n.code,{children:"ProficiencyLevel1-5"})," representing the levels from low to high."]}),"\n",(0,r.jsxs)(n.p,{children:["This method of using custom types with fixed enumeration values is an advanced programming technique that can be widely applied to various states, such as order status, project stages, etc. Beginners often like to use ",(0,r.jsx)(n.code,{children:"int"})," across the board, resulting in ",(0,r.jsx)(n.code,{children:"1,2,3..."})," numeric states scattered throughout the code, making it less readable and maintainable."]})]})}function h(e={}){let{wrapper:n}={...(0,d.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return o}});var i=t(667294);let r={},d=i.createContext(r);function o(e){let n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);