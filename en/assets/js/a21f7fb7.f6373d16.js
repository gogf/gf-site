"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["70995"],{326694:function(e,t,o){o.r(t),o.d(t,{metadata:()=>n,contentTitle:()=>a,default:()=>d,assets:()=>s,toc:()=>g,frontMatter:()=>r});var n=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u6587\u4EF6\u76EE\u5F55","title":"Logging - File Directory","description":"Use the logging component in the GoFrame framework to set the name and directory path of log files. Through the SetFile method, users can customize the format of log files and support gtime time format. Through the SetPath method, users can write log content to a specified directory and use gfpool to optimize file writing efficiency.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u6587\u4EF6\u76EE\u5F55.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6","slug":"/docs/core/glog-file-folder","permalink":"/en/docs/core/glog-file-folder","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6/\u65E5\u5FD7\u7EC4\u4EF6-\u6587\u4EF6\u76EE\u5F55.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":2,"frontMatter":{"slug":"/docs/core/glog-file-folder","title":"Logging - File Directory","sidebar_position":2,"hide_title":true,"keywords":["GoFrame","Log Component","File Directory","Log File","SetFile Method","gtime Time Format","Chained Operation","SetPath Method","gfpool File Pointer Pool","Log Directory"],"description":"Use the logging component in the GoFrame framework to set the name and directory path of log files. Through the SetFile method, users can customize the format of log files and support gtime time format. Through the SetPath method, users can write log content to a specified directory and use gfpool to optimize file writing efficiency."},"sidebar":"mainSidebar","previous":{"title":"Logging - Log Level","permalink":"/en/docs/core/glog-level"},"next":{"title":"Logging - Chaining Operations","permalink":"/en/docs/core/glog-chaining"}}'),i=o("785893"),l=o("250065");let r={slug:"/docs/core/glog-file-folder",title:"Logging - File Directory",sidebar_position:2,hide_title:!0,keywords:["GoFrame","Log Component","File Directory","Log File","SetFile Method","gtime Time Format","Chained Operation","SetPath Method","gfpool File Pointer Pool","Log Directory"],description:"Use the logging component in the GoFrame framework to set the name and directory path of log files. Through the SetFile method, users can customize the format of log files and support gtime time format. Through the SetPath method, users can write log content to a specified directory and use gfpool to optimize file writing efficiency."},a=void 0,s={},g=[{value:"Log Files",id:"log-files",level:2},{value:"Log Directory",id:"log-directory",level:2}];function c(e){let t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,l.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"log-files",children:"Log Files"}),"\n",(0,i.jsxs)(t.p,{children:["By default, log file names are named with the current date and time, formatted as ",(0,i.jsx)(t.code,{children:"YYYY-MM-DD.log"}),". We can use the ",(0,i.jsx)(t.code,{children:"SetFile"})," method to set the format of the file name, and the file name format supports ",(0,i.jsx)(t.a,{href:"/en/docs/components/os-gtime",children:"Time"})," time format. Simple example:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gfile"\n    "github.com/gogf/gf/v2/os/glog"\n)\n\n// Set log level\nfunc main() {\n    ctx := context.TODO()\n    path := "./glog"\n    glog.SetPath(path)\n    glog.SetStdoutPrint(false)\n    // Use the default file name format\n    glog.Print(ctx, "Standard file name format, using the current date and time")\n    // Set file name format via SetFile\n    glog.SetFile("stdout.log")\n    glog.Print(ctx, "Set the log output file name to a single file")\n    // Chained operation to set file name format\n    glog.File("stderr.log").Print(ctx, "Supports chained operations")\n    glog.File("error-{Ymd}.log").Print(ctx, "File name supports gtime date format")\n    glog.File("access-{Ymd}.log").Print(ctx, "File name supports gtime date format")\n\n    list, err := gfile.ScanDir(path, "*")\n    g.Dump(err)\n    g.Dump(list)\n}\n\n'})}),"\n",(0,i.jsx)(t.p,{children:"After execution, the output is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'<nil>\n[\n    "C:\\hailaz\\test\\glog\\2021-12-31.log",\n    "C:\\hailaz\\test\\glog\\access-20211231.log",\n    "C:\\hailaz\\test\\glog\\error-20211231.log",\n    "C:\\hailaz\\test\\glog\\stderr.log",\n    "C:\\hailaz\\test\\glog\\stdout.log",\n]\n'})}),"\n",(0,i.jsxs)(t.p,{children:["As you can see, if you need to use the ",(0,i.jsx)(t.code,{children:"gtime"})," time format in the file name format, you need to include the format content in ",(0,i.jsx)(t.code,{children:"{xxx}"}),". This example also uses the feature of ",(0,i.jsx)(t.code,{children:"chained operations"}),". For details, see the subsequent explanation."]}),"\n",(0,i.jsx)(t.h2,{id:"log-directory",children:"Log Directory"}),"\n",(0,i.jsxs)(t.p,{children:["By default, ",(0,i.jsx)(t.code,{children:"glog"})," will output log content to the standard output. We can set the directory path for log output through the ",(0,i.jsx)(t.code,{children:"SetPath"})," method, so that log content will be written to the log file. Thanks to the internal use of the ",(0,i.jsx)(t.code,{children:"gfpool"})," file pointer pool, the efficiency of file writing is quite excellent. Simple example:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gfile"\n    "github.com/gogf/gf/v2/os/glog"\n)\n\n// Set log level\nfunc main() {\n    ctx := context.TODO()\n    path := "./glog"\n    glog.SetPath(path)\n    glog.Print(ctx, "Log content")\n    list, err := gfile.ScanDir(path, "*")\n    g.Dump(err)\n    g.Dump(list)\n}\n\n'})}),"\n",(0,i.jsx)(t.p,{children:"After execution, the output is:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-html",children:'2021-12-31 11:32:16.742 Log content\n<nil>\n[\n    "C:\\hailaz\\test\\glog\\2021-12-31.log",\n]\n'})}),"\n",(0,i.jsxs)(t.p,{children:["When setting the output directory of the log through ",(0,i.jsx)(t.code,{children:"SetPath"}),", if the directory does not exist, it will recursively create the directory path. As you can see, after executing ",(0,i.jsx)(t.code,{children:"Println"}),", the log directory ",(0,i.jsx)(t.code,{children:"glog"})," was created under ",(0,i.jsx)(t.code,{children:"/tmp"}),", and a log file was generated under it. Also, we can see that the log content is output not only to the file but by default also to the terminal. We can disable terminal log output using the ",(0,i.jsx)(t.code,{children:"SetStdoutPrint(false)"})," method, so the log content will only be output to the log file."]})]})}function d(e={}){let{wrapper:t}={...(0,l.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,t,o){o.d(t,{Z:function(){return a},a:function(){return r}});var n=o(667294);let i={},l=n.createContext(i);function r(e){let t=n.useContext(l);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(l.Provider,{value:t},e.children)}}}]);