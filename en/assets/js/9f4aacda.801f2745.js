"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["72967"],{709841(e,t,n){n.r(t),n.d(t,{metadata:()=>o,default:()=>p,frontMatter:()=>i,contentTitle:()=>c,toc:()=>d,assets:()=>l});var o=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u4E8B\u52A1\u5904\u7406/ORM\u4E8B\u52A1\u5904\u7406","title":"ORM - Transaction","description":"Using the ORM component of the GoFrame framework for transaction operations is very simple and safe, with two methods: conventional operation and closure operation. Conventional operation begins a transaction with Begin, returning a transaction interface gdb.TX, while closure operation encapsulates transaction logic using the Transaction method and automatically manages transaction closure, supporting nested transactions. It is recommended to use closure operation to ensure transaction safety.","source":"@site/i18n/en/docusaurus-plugin-content-docs/version-2.8.x/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u4E8B\u52A1\u5904\u7406/ORM\u4E8B\u52A1\u5904\u7406.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u4E8B\u52A1\u5904\u7406","slug":"/docs/core/gdb-transaction","permalink":"/en/2.8.x/docs/core/gdb-transaction","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.8.x/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u4E8B\u52A1\u5904\u7406/ORM\u4E8B\u52A1\u5904\u7406.md","tags":[],"version":"2.8.x","lastUpdatedBy":"John Guo","lastUpdatedAt":1742194305000,"sidebarPosition":3,"frontMatter":{"slug":"/docs/core/gdb-transaction","title":"ORM - Transaction","sidebar_position":3,"hide_title":true,"keywords":["GoFrame","GoFrame framework","ORM transaction","transaction handling","closure operation","transaction safety","nested transaction","database","transaction interface","Go development"],"description":"Using the ORM component of the GoFrame framework for transaction operations is very simple and safe, with two methods: conventional operation and closure operation. Conventional operation begins a transaction with Begin, returning a transaction interface gdb.TX, while closure operation encapsulates transaction logic using the Transaction method and automatically manages transaction closure, supporting nested transactions. It is recommended to use closure operation to ensure transaction safety."},"sidebar":"mainSidebar","previous":{"title":"ORM - Method Ops (Native)","permalink":"/en/2.8.x/docs/core/gdb-funcs"},"next":{"title":"ORM Transaction - Methods","permalink":"/en/2.8.x/docs/core/gdb-transaction-basic"}}'),a=n(474848),r=n(28453),s=n(711654);let i={slug:"/docs/core/gdb-transaction",title:"ORM - Transaction",sidebar_position:3,hide_title:!0,keywords:["GoFrame","GoFrame framework","ORM transaction","transaction handling","closure operation","transaction safety","nested transaction","database","transaction interface","Go development"],description:"Using the ORM component of the GoFrame framework for transaction operations is very simple and safe, with two methods: conventional operation and closure operation. Conventional operation begins a transaction with Begin, returning a transaction interface gdb.TX, while closure operation encapsulates transaction logic using the Transaction method and automatically manages transaction closure, supporting nested transactions. It is recommended to use closure operation to ensure transaction safety."},c,l={},d=[];function u(e){let t={a:"a",admonition:"admonition",code:"code",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Using the ",(0,a.jsx)(t.code,{children:"GoFrame ORM"})," component for transaction operations is very simple and safe, and can be achieved through two methods."]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Conventional Operation: After starting a transaction through ",(0,a.jsx)(t.code,{children:"Begin"}),", it returns a transaction operation interface ",(0,a.jsx)(t.code,{children:"gdb.TX"}),", which can then be used for operations and chain operations as introduced in previous sections. Conventional operations are prone to missing transaction closures, posing certain transaction safety risks."]}),"\n",(0,a.jsxs)(t.li,{children:["Closure Operation: Transactions are handled in the form of closure methods using ",(0,a.jsx)(t.code,{children:"Transaction"}),", where all transaction logic is implemented within the closure, and the transaction is automatically closed after the closure ends to ensure transaction safety. Additionally, closure operations support very convenient ",(0,a.jsx)(t.strong,{children:"nested transactions"}),", which are transparent and seamless in business operations."]}),"\n"]}),"\n",(0,a.jsx)(t.admonition,{type:"tip",children:(0,a.jsxs)(t.p,{children:["We recommend all transaction operations be uniformly implemented using the ",(0,a.jsx)(t.code,{children:"Transaction"})," closure method."]})}),"\n",(0,a.jsxs)(t.p,{children:["Interface Documentation: ",(0,a.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#TX",children:"https://pkg.go.dev/github.com/gogf/gf/v2/database/gdb#TX"})]}),"\n","\n",(0,a.jsx)(s.A,{})]})}function p(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},711654(e,t,n){n.d(t,{A:()=>x});var o=n(474848);n(296540);var a=n(634164),r=n(259829),s=n(525863),i=n(484792),c=n(433605),l=n(233553),d=n(761190);function u({href:e,children:t}){return(0,o.jsx)(s.A,{href:e,className:(0,a.A)("card padding--lg","cardContainer_fWXF"),children:t})}function p({href:e,icon:t,title:n,description:r}){return(0,o.jsxs)(u,{href:e,children:[(0,o.jsxs)(d.A,{as:"h2",className:(0,a.A)("text--truncate","cardTitle_rnsV"),title:n,children:[t," ",n]}),r&&(0,o.jsx)("p",{className:(0,a.A)("text--truncate","cardDescription_PWke"),title:r,children:r})]})}function m({item:e}){let t=(0,r.Nr)(e),n=function(){let{selectMessage:e}=(0,i.W)();return t=>e(t,(0,l.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return t?(0,o.jsx)(p,{href:t,icon:"\u{1F5C3}\uFE0F",title:e.label,description:e.description??n(e.items.length)}):null}function h({item:e}){let t=(0,c.A)(e.href)?"\u{1F4C4}\uFE0F":"\u{1F517}",n=(0,r.cC)(e.docId??void 0);return(0,o.jsx)(p,{href:e.href,icon:t,title:e.label,description:e.description??n?.description})}function g({item:e}){switch(e.type){case"link":return(0,o.jsx)(h,{item:e});case"category":return(0,o.jsx)(m,{item:e});default:throw Error(`unknown item type ${JSON.stringify(e)}`)}}function f({className:e}){let t=(0,r.$S)();return(0,o.jsx)(x,{items:t.items,className:e})}function x(e){let{items:t,className:n}=e;if(!t)return(0,o.jsx)(f,{...e});let s=(0,r.d1)(t);return(0,o.jsx)("section",{className:(0,a.A)("row",n),children:s.map((e,t)=>(0,o.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,o.jsx)(g,{item:e})},t))})}},484792(e,t,n){n.d(t,{W:()=>c});var o=n(296540),a=n(719087);let r=["zero","one","two","few","many","other"];function s(e){return r.filter(t=>e.includes(t))}let i={locale:"en",pluralForms:s(["one","other"]),select:e=>1===e?"one":"other"};function c(){let e=function(){let{i18n:{currentLocale:e}}=(0,a.A)();return(0,o.useMemo)(()=>{try{let t;return t=new Intl.PluralRules(e),{locale:e,pluralForms:s(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".
Docusaurus will fallback to the default (English) implementation.
Error: ${t.message}
`),i}},[e])}();return{selectMessage:(t,n)=>(function(e,t,n){let o=e.split("|");if(1===o.length)return o[0];o.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${o.length}: ${e}`);let a=n.select(t);return o[Math.min(n.pluralForms.indexOf(a),o.length-1)]})(n,t,e)}}},28453(e,t,n){n.d(t,{R:()=>s,x:()=>i});var o=n(296540);let a={},r=o.createContext(a);function s(e){let t=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:t},e.children)}}}]);