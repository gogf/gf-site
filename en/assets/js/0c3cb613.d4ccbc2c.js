"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["78473"],{840475:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,contentTitle:()=>a,default:()=>u,assets:()=>l,toc:()=>d,frontMatter:()=>o});var s=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5BF9\u8C61\u4FE1\u606F-gstructs","title":"Object Information","description":"The gstructs component is a low-level utility in the GoFrame framework used for obtaining structure information. It is mainly used in framework, basic library, and middleware writing, supporting the Fields method to get structure field information and the TagMapName method to retrieve fields through tags. It is suitable for developers to use this component for field operations and retrieval when building Go applications.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5BF9\u8C61\u4FE1\u606F-gstructs.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173","slug":"/docs/components/os-gstructs","permalink":"/en/docs/components/os-gstructs","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5BF9\u8C61\u4FE1\u606F-gstructs.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732443619000,"sidebarPosition":18,"frontMatter":{"slug":"/docs/components/os-gstructs","title":"Object Information","sidebar_position":18,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","gstructs","Structure Information","Field Retrieval","TagMapName","Fields Method","GoFrame Framework","Middleware Writing","Underlying Components"],"description":"The gstructs component is a low-level utility in the GoFrame framework used for obtaining structure information. It is mainly used in framework, basic library, and middleware writing, supporting the Fields method to get structure field information and the TagMapName method to retrieve fields through tags. It is suitable for developers to use this component for field operations and retrieval when building Go applications."},"sidebar":"mainSidebar","previous":{"title":"Build Information","permalink":"/en/docs/components/os-gbuild"},"next":{"title":"Text","permalink":"/en/docs/components/text"}}'),i=t("785893"),r=t("250065");let o={slug:"/docs/components/os-gstructs",title:"Object Information",sidebar_position:18,hide_title:!0,keywords:["GoFrame","GoFrame Framework","gstructs","Structure Information","Field Retrieval","TagMapName","Fields Method","GoFrame Framework","Middleware Writing","Underlying Components"],description:"The gstructs component is a low-level utility in the GoFrame framework used for obtaining structure information. It is mainly used in framework, basic library, and middleware writing, supporting the Fields method to get structure field information and the TagMapName method to retrieve fields through tags. It is suitable for developers to use this component for field operations and retrieval when building Go applications."},a=void 0,l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Common Methods",id:"common-methods",level:2},{value:"<code>Fields</code>",id:"fields",level:3},{value:"<code>TagMapName</code>",id:"tagmapname",level:3}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"gstructs"})," component is used to conveniently obtain information about structures."]}),"\n",(0,i.jsx)(n.p,{children:"This is a low-level component, rarely used in general business, but used in framework, basic library, and middleware writing."}),"\n",(0,i.jsx)(n.p,{children:"Usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'import "github.com/gogf/gf/v2/os/gstructs"\n'})}),"\n",(0,i.jsx)(n.p,{children:"API Documentation:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gstructs",children:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gstructs"})}),"\n",(0,i.jsx)(n.h2,{id:"common-methods",children:"Common Methods"}),"\n",(0,i.jsx)(n.h3,{id:"fields",children:(0,i.jsx)(n.code,{children:"Fields"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Description: ",(0,i.jsx)(n.code,{children:"Fields"})," returns the fields of the ",(0,i.jsx)(n.code,{children:"Pointer"})," attribute of the input parameter ",(0,i.jsx)(n.code,{children:"in"})," in the form of a ",(0,i.jsx)(n.code,{children:"Field"})," slice."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Format:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"Fields(in FieldsInput) ([]Field, error)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'func main() {\n      type User struct {\n          Id   int\n          Name string `params:"name"`\n          Pass string `my-tag1:"pass1" my-tag2:"pass2" params:"pass"`\n      }\n      var user *User\n      fields, _ := gstructs.Fields(gstructs.FieldsInput{\n          Pointer:         user,\n          RecursiveOption: 0,\n      })\n\n      g.Dump(fields)\n}\n\n// Output:\n[\n      {\n          Value:    "<int Value>",\n          Field:    {\n              Name:      "Id",\n              PkgPath:   "",\n              Type:      "int",\n              Tag:       "",\n              Offset:    0,\n              Index:     [\n                  0,\n              ],\n              Anonymous: false,\n          },\n          TagValue: "",\n      },\n      {\n          Value:    {},\n          Field:    {\n              Name:      "Name",\n              PkgPath:   "",\n              Type:      "string",\n              Tag:       "params:\\"name\\"",\n              Offset:    8,\n              Index:     [\n                  1,\n              ],\n              Anonymous: false,\n          },\n          TagValue: "",\n      },\n      {\n          Value:    {},\n          Field:    {\n              Name:      "Pass",\n              PkgPath:   "",\n              Type:      "string",\n              Tag:       "my-tag1:\\"pass1\\" my-tag2:\\"pass2\\" params:\\"pass\\"",\n              Offset:    24,\n              Index:     [\n                  2,\n              ],\n              Anonymous: false,\n          },\n          TagValue: "",\n      },\n]\n'})}),"\n",(0,i.jsx)(n.h3,{id:"tagmapname",children:(0,i.jsx)(n.code,{children:"TagMapName"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Description: ",(0,i.jsx)(n.code,{children:"TagMapName"})," retrieves ",(0,i.jsx)(n.code,{children:"tag"})," from the parameter ",(0,i.jsx)(n.code,{children:"pointer"})," and returns it in the form of ",(0,i.jsx)(n.code,{children:"map[string]string"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Note:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The type of parameter ",(0,i.jsx)(n.code,{children:"pointer"})," should be ",(0,i.jsx)(n.code,{children:"struct/*struct"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Only exported fields (fields with an uppercase initial) will be returned."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Format:"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"TagMapName(pointer interface{}, priority []string) (map[string]string, error)\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Example:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'func main() {\n      type User struct {\n          Id   int\n          Name string `params:"name"`\n          Pass string `my-tag1:"pass1" my-tag2:"pass2" params:"pass"`\n      }\n      var user User\n      m, _ := gstructs.TagMapName(user, []string{"params"})\n\n      g.Dump(m)\n}\n\n// Output:\n{\n      "name": "Name",\n      "pass": "Pass",\n}\n'})})]})}function u(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return o}});var s=t(667294);let i={},r=s.createContext(i);function o(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);