"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["23067"],{254697:function(n,e,o){o.r(e),o.d(e,{metadata:()=>t,contentTitle:()=>c,default:()=>d,assets:()=>s,toc:()=>u,frontMatter:()=>a});var t=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u7C7B\u578B\u8F6C\u6362/\u7C7B\u578B\u8F6C\u6362-Scan\u8F6C\u6362","title":"Type Conversion - Scan","description":"Learn how to use the powerful Scan method in the GoFrame framework to automatically convert arbitrary parameters into structs, struct arrays, maps, and map arrays. This article introduces the definition of the Scan method and its application in the Go language, providing multiple programming examples to help quickly understand and master this function, offering developers an efficient and convenient type conversion solution.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u7C7B\u578B\u8F6C\u6362/\u7C7B\u578B\u8F6C\u6362-Scan\u8F6C\u6362.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u7C7B\u578B\u8F6C\u6362","slug":"/docs/core/gconv-scan","permalink":"/en/docs/core/gconv-scan","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u7C7B\u578B\u8F6C\u6362/\u7C7B\u578B\u8F6C\u6362-Scan\u8F6C\u6362.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":4,"frontMatter":{"slug":"/docs/core/gconv-scan","title":"Type Conversion - Scan","sidebar_position":4,"hide_title":true,"keywords":["GoFrame","GoFrame framework","type conversion","Scan method","struct conversion","map conversion","Go language","auto recognition","parameter conversion","programming example"],"description":"Learn how to use the powerful Scan method in the GoFrame framework to automatically convert arbitrary parameters into structs, struct arrays, maps, and map arrays. This article introduces the definition of the Scan method and its application in the Go language, providing multiple programming examples to help quickly understand and master this function, offering developers an efficient and convenient type conversion solution."},"sidebar":"mainSidebar","previous":{"title":"Type Conversion - Structs","permalink":"/en/docs/core/gconv-structs"},"next":{"title":"Type Conversion - Converter","permalink":"/en/docs/core/gconv-converter"}}'),r=o("785893"),i=o("250065");let a={slug:"/docs/core/gconv-scan",title:"Type Conversion - Scan",sidebar_position:4,hide_title:!0,keywords:["GoFrame","GoFrame framework","type conversion","Scan method","struct conversion","map conversion","Go language","auto recognition","parameter conversion","programming example"],description:"Learn how to use the powerful Scan method in the GoFrame framework to automatically convert arbitrary parameters into structs, struct arrays, maps, and map arrays. This article introduces the definition of the Scan method and its application in the Go language, providing multiple programming examples to help quickly understand and master this function, offering developers an efficient and convenient type conversion solution."},c=void 0,s={},u=[{value:"Auto-recognition Conversion <code>Struct</code>",id:"auto-recognition-conversion-struct",level:2},{value:"Auto-recognition Conversion <code>Struct</code> Array",id:"auto-recognition-conversion-struct-array",level:2},{value:"Auto-recognition Conversion to Map",id:"auto-recognition-conversion-to-map",level:2},{value:"Auto-recognition Conversion <code>Map</code> Array",id:"auto-recognition-conversion-map-array",level:2}];function p(n){let e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["If the previous complex type conversion functionality is not sufficient, you can explore the ",(0,r.jsx)(e.code,{children:"Scan"})," conversion method. This method can convert arbitrary parameters to ",(0,r.jsx)(e.code,{children:"struct/struct arrays/map/map arrays"})," and automatically recognize and execute conversion based on the developer's input target parameters."]}),"\n",(0,r.jsx)(e.p,{children:"The method is defined as follows:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"// Scan automatically calls MapToMap, MapToMaps, Struct or Structs function according to\n// the type of parameter `pointer` to implement the converting.\n// It calls function MapToMap if `pointer` is type of *map to do the converting.\n// It calls function MapToMaps if `pointer` is type of *[]map/*[]*map to do the converting.\n// It calls function Struct if `pointer` is type of *struct/**struct to do the converting.\n// It calls function Structs if `pointer` is type of *[]struct/*[]*struct to do the converting.\nfunc Scan(params interface{}, pointer interface{}, mapping ...map[string]string) (err error)\n"})}),"\n",(0,r.jsx)(e.p,{children:"Let's look at a few examples for a quick understanding."}),"\n",(0,r.jsxs)(e.h2,{id:"auto-recognition-conversion-struct",children:["Auto-recognition Conversion ",(0,r.jsx)(e.code,{children:"Struct"})]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n    type User struct {\n        Uid  int\n        Name string\n    }\n    params := g.Map{\n        "uid":  1,\n        "name": "john",\n    }\n    var user *User\n    if err := gconv.Scan(params, &user); err != nil {\n        panic(err)\n    }\n    g.Dump(user)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"After execution, the output result is:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    Uid:  1,\n    Name: "john",\n}\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"auto-recognition-conversion-struct-array",children:["Auto-recognition Conversion ",(0,r.jsx)(e.code,{children:"Struct"})," Array"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n    type User struct {\n        Uid  int\n        Name string\n    }\n    params := g.Slice{\n        g.Map{\n            "uid":  1,\n            "name": "john",\n        },\n        g.Map{\n            "uid":  2,\n            "name": "smith",\n        },\n    }\n    var users []*User\n    if err := gconv.Scan(params, &users); err != nil {\n        panic(err)\n    }\n    g.Dump(users)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"After execution, the terminal output is:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'[\n    {\n        Uid:  1,\n        Name: "john",\n    },\n    {\n        Uid:  2,\n        Name: "smith",\n    },\n]\n'})}),"\n",(0,r.jsx)(e.h2,{id:"auto-recognition-conversion-to-map",children:"Auto-recognition Conversion to Map"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n    var (\n        user   map[string]string\n        params = g.Map{\n            "uid":  1,\n            "name": "john",\n        }\n    )\n    if err := gconv.Scan(params, &user); err != nil {\n        panic(err)\n    }\n    g.Dump(user)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"After execution, the output result is:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'{\n    "uid":  "1",\n    "name": "john",\n}\n'})}),"\n",(0,r.jsxs)(e.h2,{id:"auto-recognition-conversion-map-array",children:["Auto-recognition Conversion ",(0,r.jsx)(e.code,{children:"Map"})," Array"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/util/gconv"\n)\n\nfunc main() {\n    var (\n        users  []map[string]string\n        params = g.Slice{\n            g.Map{\n                "uid":  1,\n                "name": "john",\n            },\n            g.Map{\n                "uid":  2,\n                "name": "smith",\n            },\n        }\n    )\n    if err := gconv.Scan(params, &users); err != nil {\n        panic(err)\n    }\n    g.Dump(users)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"After execution, the output result is:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:'[\n    {\n        "uid":  "1",\n        "name": "john",\n    },\n    {\n        "uid":  "2",\n        "name": "smith",\n    },\n]\n'})})]})}function d(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(p,{...n})}):p(n)}},250065:function(n,e,o){o.d(e,{Z:function(){return c},a:function(){return a}});var t=o(667294);let r={},i=t.createContext(r);function a(n){let e=t.useContext(i);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:a(n.components),t.createElement(i.Provider,{value:e},n.children)}}}]);