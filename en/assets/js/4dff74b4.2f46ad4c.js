"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["88729"],{155947(e,n,s){s.r(n),s.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>d,contentTitle:()=>o,toc:()=>t,assets:()=>a});var r=JSON.parse('{"id":"release/golang/go1.17","title":"Go 1.17 (2021-08-16)","description":"Go 1.17 was released in August 2021, bringing compiler performance improvements, pruned module graphs, and new build tag syntax.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release/golang/go1.17.md","sourceDirName":"release/golang","slug":"/release/golang/go1.17","permalink":"/en/release/golang/go1.17","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/release/golang/go1.17.md","tags":[],"version":"current","lastUpdatedBy":"hailaz","lastUpdatedAt":1765275924000,"sidebarPosition":183,"frontMatter":{"title":"Go 1.17 (2021-08-16)","sidebar_position":183},"sidebar":"releaseSidebar","previous":{"title":"Go 1.18 (2022-03-15)","permalink":"/en/release/golang/go1.18"},"next":{"title":"Go 1.16 (2021-02-16)","permalink":"/en/release/golang/go1.16"}}'),i=s(474848),l=s(28453);let d={title:"Go 1.17 (2021-08-16)",sidebar_position:183},o,a={},t=[{value:"Major Changes",id:"major-changes",level:2},{value:"Language",id:"language",level:3},{value:"Toolchain",id:"toolchain",level:3},{value:"Performance",id:"performance",level:3},{value:"Standard Library",id:"standard-library",level:3},{value:"References",id:"references",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Go 1.17 was released in August 2021, bringing compiler performance improvements, pruned module graphs, and new build tag syntax."}),"\n",(0,i.jsx)(n.h2,{id:"major-changes",children:"Major Changes"}),"\n",(0,i.jsx)(n.h3,{id:"language",children:"Language"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Slice Conversion"}),": Support for converting slices to array pointers. If the slice length is less than the array length, the conversion panics at runtime."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"s := []int{1, 2, 3}\np := (*[3]int)(s)\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"unsafe"})," Package"]}),": Added ",(0,i.jsx)(n.code,{children:"unsafe.Add"})," and ",(0,i.jsx)(n.code,{children:"unsafe.Slice"})," functions, simplifying pointer arithmetic and slice creation, making code more compliant with ",(0,i.jsx)(n.code,{children:"unsafe.Pointer"})," safety rules."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"toolchain",children:"Toolchain"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Pruned Module Graphs"}),": If a module specifies ",(0,i.jsx)(n.code,{children:"go 1.17"})," or higher, the module graph includes only the direct dependencies of other ",(0,i.jsx)(n.code,{children:"go 1.17"})," modules, no longer loading the full transitive dependency graph. This significantly improves module loading speed for large projects."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"//go:build"})," Syntax"]}),": Introduced the new build tag syntax ",(0,i.jsx)(n.code,{children:"//go:build"}),", replacing the old ",(0,i.jsx)(n.code,{children:"// +build"}),", supporting boolean expressions and being more readable."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:"//go:build linux || darwin\n"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"go get"})," Deprecation"]}),": The feature of ",(0,i.jsx)(n.code,{children:"go get"})," to install executables is deprecated (and will be removed in a future version); use ",(0,i.jsx)(n.code,{children:"go install cmd@version"})," instead."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"performance",children:"Performance"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Register-based Calling Convention"}),": On x86-64 (amd64) architecture, Go function calls now use registers to pass arguments and results instead of the stack. This brings about a 5% performance improvement and a 2% reduction in binary size."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bounds Check Elimination"}),": Improved bounds check elimination logic, further enhancing performance."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"standard-library",children:"Standard Library"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"time"})}),": Added ",(0,i.jsx)(n.code,{children:"Time.UnixMilli"})," and ",(0,i.jsx)(n.code,{children:"Time.UnixMicro"})," methods; added ",(0,i.jsx)(n.code,{children:"Time.IsDST"})," method to check if it is currently Daylight Saving Time."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"testing"})}),": Added ",(0,i.jsx)(n.code,{children:"-shuffle"})," flag to randomly shuffle test execution order; added ",(0,i.jsx)(n.code,{children:"T.Setenv"})," and ",(0,i.jsx)(n.code,{children:"B.Setenv"})," methods to set environment variables during tests."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"sync/atomic"})}),": ",(0,i.jsx)(n.code,{children:"atomic.Value"})," added ",(0,i.jsx)(n.code,{children:"Swap"})," and ",(0,i.jsx)(n.code,{children:"CompareAndSwap"})," methods."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"net/http"})}),": Semicolons ",(0,i.jsx)(n.code,{children:";"})," are no longer allowed as separators in URL query parameters."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"runtime/cgo"})}),": Added ",(0,i.jsx)(n.code,{children:"Handle"})," mechanism for safely passing Go values between C and Go."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.p,{children:["For more details, please refer to the official release notes: ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/go1.17",children:"Go 1.17 Release Notes"})]})]})}function h(e={}){let{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,n,s){s.d(n,{R:()=>d,x:()=>o});var r=s(296540);let i={},l=r.createContext(i);function d(e){let n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);