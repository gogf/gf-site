"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["70705"],{311505:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>a,default:()=>h,assets:()=>d,toc:()=>c,frontMatter:()=>s});var i=JSON.parse('{"id":"course/starbook/\u7B2C\u4E00\u7AE0-\u57FA\u7840\u4FE1\u606F/1.4.\u73AF\u5883\u51C6\u5907","title":"1.4 Environment Preparation","description":"GoFrame is a web backend framework based on the Go language, requiring Go version 1.20 or above. The project development needs database support, and the examples use MySQL, which is compatible with various databases such as MariaDB and TiDB. It is recommended to use Postman or other tools for API testing. This document also introduces the GF CLI installation and project initialization process, providing a detailed explanation of the project directory structure.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/course/starbook/\u7B2C\u4E00\u7AE0-\u57FA\u7840\u4FE1\u606F/1.4.\u73AF\u5883\u51C6\u5907.md","sourceDirName":"course/starbook/\u7B2C\u4E00\u7AE0-\u57FA\u7840\u4FE1\u606F","slug":"/course/starbook/about-environment","permalink":"/en/course/starbook/about-environment","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/course/starbook/\u7B2C\u4E00\u7AE0-\u57FA\u7840\u4FE1\u606F/1.4.\u73AF\u5883\u51C6\u5907.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732411910000,"frontMatter":{"title":"1.4 Environment Preparation","hide_title":true,"slug":"/course/starbook/about-environment","keywords":["GoFrame","Go","MySQL","Database","API Testing","Postman","Project Initialization","Project Directory","GF CLI","IDEA Plugin"],"description":"GoFrame is a web backend framework based on the Go language, requiring Go version 1.20 or above. The project development needs database support, and the examples use MySQL, which is compatible with various databases such as MariaDB and TiDB. It is recommended to use Postman or other tools for API testing. This document also introduces the GF CLI installation and project initialization process, providing a detailed explanation of the project directory structure."},"sidebar":"courseStarBookSidebar","previous":{"title":"1.3 Writing Conventions","permalink":"/en/course/starbook/about-convention"},"next":{"title":"1.5 The Source Code of This Book","permalink":"/en/course/starbook/about-source"}}'),o=t("785893"),r=t("250065");let s={title:"1.4 Environment Preparation",hide_title:!0,slug:"/course/starbook/about-environment",keywords:["GoFrame","Go","MySQL","Database","API Testing","Postman","Project Initialization","Project Directory","GF CLI","IDEA Plugin"],description:"GoFrame is a web backend framework based on the Go language, requiring Go version 1.20 or above. The project development needs database support, and the examples use MySQL, which is compatible with various databases such as MariaDB and TiDB. It is recommended to use Postman or other tools for API testing. This document also introduces the GF CLI installation and project initialization process, providing a detailed explanation of the project directory structure."},a=void 0,d={},c=[{value:"Basic Environment",id:"basic-environment",level:2},{value:"Go Environment",id:"go-environment",level:3},{value:"Database",id:"database",level:3},{value:"API Testing Tools",id:"api-testing-tools",level:3},{value:"Install GF CLI Tool",id:"install-gf-cli-tool",level:2},{value:"Unable to Access Github",id:"unable-to-access-github",level:3},{value:"Project Initialization",id:"project-initialization",level:2},{value:"Upgrade Project",id:"upgrade-project",level:3},{value:"Project Directory Structure",id:"project-directory-structure",level:2}];function l(e){let n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"basic-environment",children:"Basic Environment"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"go-environment",children:"Go Environment"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"GoFrame"})," is a web backend framework based on the ",(0,o.jsx)(n.code,{children:"Go"})," language. First, we need a ",(0,o.jsx)(n.code,{children:"Go"})," development environment to proceed with further learning. Ensure that your ",(0,o.jsx)(n.code,{children:"Go"})," version is above ",(0,o.jsx)(n.code,{children:"1.20"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ go version\ngo version go1.22.2 windows/amd64\n"})}),"\n",(0,o.jsx)(n.h3,{id:"database",children:"Database"}),"\n",(0,o.jsxs)(n.p,{children:["During software usage, numerous data are generated and eventually need to be stored in a database. You need to prepare a database, and this book uses ",(0,o.jsx)(n.code,{children:"MySQL"})," as an example, with the database name of the sample project being ",(0,o.jsx)(n.code,{children:"star"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Besides ",(0,o.jsx)(n.code,{children:"MySQL"}),", ",(0,o.jsx)(n.code,{children:"GoFrame"})," also supports various databases like ",(0,o.jsx)(n.code,{children:"MariaDB"}),", ",(0,o.jsx)(n.code,{children:"TiDB"}),", ",(0,o.jsx)(n.code,{children:"PostgreSQL"}),", ",(0,o.jsx)(n.code,{children:"SQL Server"}),", ",(0,o.jsx)(n.code,{children:"SQLite"}),", ",(0,o.jsx)(n.code,{children:"Oracle"}),", ",(0,o.jsx)(n.code,{children:"ClickHouse"}),", and ",(0,o.jsx)(n.code,{children:"DM"}),". A simple modification of configurations and the introduction of related drivers are enough, which will be explained in detail during usage."]}),"\n",(0,o.jsx)(n.h3,{id:"api-testing-tools",children:"API Testing Tools"}),"\n",(0,o.jsxs)(n.p,{children:["After the development of APIs, I use the ",(0,o.jsx)(n.code,{children:"curl"})," command to test if the APIs meet expectations. However, command-line testing can be inconvenient, so it is recommended to prepare an API testing tool to transform ",(0,o.jsx)(n.code,{children:"curl"})," commands into tests within the tool. Popular testing tools like ",(0,o.jsx)(n.code,{children:"Postman"}),", ",(0,o.jsx)(n.code,{children:"Apifox"}),", and ",(0,o.jsx)(n.code,{children:"Apipost"})," have similar functionalities, allowing you to choose based on personal preference."]}),"\n",(0,o.jsx)(n.h2,{id:"install-gf-cli-tool",children:"Install GF CLI Tool"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"GoFrame"})," framework offers powerful development assistance tools, which are an essential part of the framework. These tools help with project creation, code generation, project running, etc. The latest version of ",(0,o.jsx)(n.code,{children:"GF CLI"})," can be installed with the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ go install github.com/gogf/gf/cmd/gf/v2@latest\n"})}),"\n",(0,o.jsx)(n.p,{children:"After this, run the following command to check if the installation was successful:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ gf version\nv2.8.0\nWelcome to GoFrame!\nEnv Detail:\n  Go Version: go1.22.2 windows/amd64\n  GF Version(go.mod): cannot find go.mod\n...\n"})}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["The development environment used in this book is ",(0,o.jsx)(n.code,{children:"Go 1.22.2"})," and ",(0,o.jsx)(n.code,{children:"GoFrame v2.8.0"}),". Even if your versions differ, there's no need to worry as ",(0,o.jsx)(n.code,{children:"Go"})," and ",(0,o.jsx)(n.code,{children:"GoFrame"})," boast strong backward compatibility."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"unable-to-access-github",children:"Unable to Access Github"}),"\n",(0,o.jsxs)(n.p,{children:["Due to network issues within China, accessing ",(0,o.jsx)(n.code,{children:"Github"})," might fail, a common problem for domestic programmers. You can look for a usable ",(0,o.jsx)(n.code,{children:"Github"})," mirror or use other proxy tools online to resolve this issue."]}),"\n",(0,o.jsx)(n.h2,{id:"project-initialization",children:"Project Initialization"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"Once the environment is ready, we can officially initialize the project. Find the directory where you want to store your program and execute the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'$ gf init star\ninitializing...\ninitialization done!\nyou can now run "cd star && gf run main.go" to start your journey, enjoy!\n'})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"star"})," is the project name, meaning StarBook in English, but you can choose any name you prefer. Next, enter the directory and run the project."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ cd star && gf run main.go\nbuild: .\\main.go\ngo build -o .\\main.exe  .\\main.go\n.\\main.exe \nbuild running pid: 13628\n2024-11-06 16:45:46.015 [INFO] pid[13628]: http server started listening on [:8000]\n2024-11-06 16:45:46.015 [INFO] {4c9b7c33a654051860769a5fdef82a84} swagger ui is serving at address: http://127.0.0.1:8000/swagger/\n2024-11-06 16:45:46.015 [INFO] {4c9b7c33a654051860769a5fdef82a84} openapi specification is serving at address: http://127.0.0.1:8000/api.json\n\n  ADDRESS | METHOD |   ROUTE    |                        HANDLER                        |           MIDDLEWARE\n----------|--------|------------|-------------------------------------------------------|----------------------------------\n  :8000   | ALL    | /api.json  | github.com/gogf/gf/v2/net/ghttp.(*Server).openapiSpec |\n----------|--------|------------|-------------------------------------------------------|----------------------------------\n  :8000   | GET    | /hello     | star/internal/controller/hello.(*ControllerV1).Hello  | ghttp.MiddlewareHandlerResponse\n----------|--------|------------|-------------------------------------------------------|----------------------------------\n  :8000   | ALL    | /swagger/* | github.com/gogf/gf/v2/net/ghttp.(*Server).swaggerUI   | HOOK_BEFORE_SERVE\n----------|--------|------------|-------------------------------------------------------|----------------------------------\n"})}),"\n",(0,o.jsxs)(n.p,{children:["As the demonstration uses a ",(0,o.jsx)(n.code,{children:"Windows"})," system, a ",(0,o.jsx)(n.code,{children:"main.exe"})," file is generated. If you're using a ",(0,o.jsx)(n.code,{children:"Mac/Linux"})," system, a ",(0,o.jsx)(n.code,{children:"main"})," file is generated."]}),"\n",(0,o.jsxs)(n.p,{children:["Then enter ",(0,o.jsx)(n.a,{href:"http://127.0.0.1:8000/hello",children:"http://127.0.0.1:8000/hello"})," in the browser or access it using an API testing tool. Seeing ",(0,o.jsx)(n.code,{children:"Hello, GoFrame!"})," indicates that you have successfully launched a ",(0,o.jsx)(n.code,{children:"GoFrame"})," project. Congratulations on taking the first step into great programming!"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:["If you are using the ",(0,o.jsx)(n.code,{children:"IntelliJ IDEA"})," or ",(0,o.jsx)(n.code,{children:"GoLand"})," editor, you can install the ",(0,o.jsx)(n.a,{href:"https://plugins.jetbrains.com/plugin/23324-goframe-helper",children:"GoFrame Helper"})," plugin for better code suggestions and auto-completion features."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"upgrade-project",children:"Upgrade Project"}),"\n",(0,o.jsxs)(n.p,{children:["The default installed ",(0,o.jsx)(n.code,{children:"GoFrame"})," may not be the latest version; you can upgrade in the project directory using the ",(0,o.jsx)(n.code,{children:"up"})," command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"$ gf up\n"})}),"\n",(0,o.jsx)(n.h2,{id:"project-directory-structure",children:"Project Directory Structure"}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.p,{children:"After initializing the project, let's look at the project's directory structure:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Directory/File Name"}),(0,o.jsx)(n.th,{children:"Type"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"api"})}),(0,o.jsx)(n.td,{children:"API"}),(0,o.jsxs)(n.td,{children:["Definition of input/output data structures for providing external services. Due to version management needs, it often exists as ",(0,o.jsx)(n.code,{children:"api/xxx/v1..."}),"."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"hack"})}),(0,o.jsx)(n.td,{children:"Tools"}),(0,o.jsx)(n.td,{children:"Directory for project development tools and scripts, such as CLI tool configurations, various shell/bat scripts, etc."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"internal"})}),(0,o.jsx)(n.td,{children:"Logic"}),(0,o.jsxs)(n.td,{children:["Directory for business logic. It hides visibility from the outside using Golang\u2019s ",(0,o.jsx)(n.code,{children:"internal"})," feature."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"cmd"})]}),(0,o.jsx)(n.td,{children:"Commands"}),(0,o.jsx)(n.td,{children:"Command-line management directory, can manage and maintain multiple command lines."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"consts"})]}),(0,o.jsx)(n.td,{children:"Constants"}),(0,o.jsx)(n.td,{children:"Directory for all project constants."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"controller"})]}),(0,o.jsx)(n.td,{children:"Controller"}),(0,o.jsx)(n.td,{children:"Layer for receiving/parsing user input parameters, the entrance/interface layer."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"dao"})]}),(0,o.jsx)(n.td,{children:"Data Access"}),(0,o.jsx)(n.td,{children:"Data Access Objects, an abstraction layer for interacting with the underlying database and only includes the most basic CRUD methods."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"logic"})]}),(0,o.jsx)(n.td,{children:"Logic"}),(0,o.jsx)(n.td,{children:"Management and encapsulation of business logic, often the most complex part of the project."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"model"})]}),(0,o.jsx)(n.td,{children:"Model"}),(0,o.jsx)(n.td,{children:"Data structure management module, managing data entities, and input/output data structure definitions."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"do"})]}),(0,o.jsx)(n.td,{children:"Domain Objects"}),(0,o.jsx)(n.td,{children:"Models for converting between business models and instance models within DAO operations. Maintained by tools, not editable by users."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"entity"})]}),(0,o.jsx)(n.td,{children:"Entity"}),(0,o.jsx)(n.td,{children:"Data models represent a one-to-one relationship between a model and a data set. Maintained by tools, not editable by users."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"service"})]}),(0,o.jsx)(n.td,{children:"Service"}),(0,o.jsx)(n.td,{children:"Interface definition layer for business module decoupling. Specific interface implementations are injected in logic."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"manifest"})}),(0,o.jsx)(n.td,{children:"Manifest"}),(0,o.jsx)(n.td,{children:"Includes files for compiling, deploying, running, and configuring the program. Common contents include:"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"config"})]}),(0,o.jsx)(n.td,{children:"Config"}),(0,o.jsx)(n.td,{children:"Directory for storing configuration files."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"docker"})]}),(0,o.jsx)(n.td,{children:"Docker"}),(0,o.jsx)(n.td,{children:"Files related to Docker images, such as dependence files, and script files."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"deploy"})]}),(0,o.jsx)(n.td,{children:"Deploy"}),(0,o.jsx)(n.td,{children:"Files related to deployment. By default, Kubernetes\u2019 yaml templates for cluster deployment managed by kustomize are provided."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsxs)(n.td,{children:["\xa0\xa0\xa0\xa0",(0,o.jsx)(n.code,{children:"protobuf"})]}),(0,o.jsx)(n.td,{children:"Protobuf"}),(0,o.jsx)(n.td,{children:"Protobuf protocol definition files used in GRPC protocol, compiled into go files in the api directory."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"resource"})}),(0,o.jsx)(n.td,{children:"Resource"}),(0,o.jsx)(n.td,{children:"Static resources files. These files can often be injected into published files through resource packaging/image compilation."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"go.mod"})}),(0,o.jsx)(n.td,{children:"Dependency Management"}),(0,o.jsx)(n.td,{children:"Description file for dependency management, using Go Module package management."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"main.go"})}),(0,o.jsx)(n.td,{children:"Entry File"}),(0,o.jsx)(n.td,{children:"Program entry file."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"It may seem confusing at first, but don't worry, the important directories will be used gradually later."}),"\n",(0,o.jsxs)(n.p,{children:["Now, let's delete all initial sample files, leaving a blank environment for subsequent development. Press ",(0,o.jsx)(n.code,{children:"CTRL+C"})," to terminate project operation and delete all files in the following directories:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-text",children:"api/*\ninternal/controller/*\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Edit the ",(0,o.jsx)(n.code,{children:"cmd"})," file to remove unnecessary code."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.em,{children:"internal/cmd/cmd.go"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package cmd\n\nimport (\n    "context"\n\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n    "github.com/gogf/gf/v2/os/gcmd"\n)\n\nvar (\n    Main = gcmd.Command{\n        Name:  "main",\n        Usage: "main",\n        Brief: "start http server",\n        Func: func(ctx context.Context, parser *gcmd.Parser) (err error) {\n            s := g.Server()\n            s.Group("/", func(group *ghttp.RouterGroup) {\n                group.Middleware(ghttp.MiddlewareHandlerResponse)\n            })\n            s.Run()\n            return nil\n        },\n    }\n)\n'})})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return s}});var i=t(667294);let o={},r=i.createContext(o);function s(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);