"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["74385"],{981930:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>s,default:()=>g,assets:()=>c,toc:()=>l,frontMatter:()=>a});var i=JSON.parse('{"id":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u63A5\u53E3\u6587\u6863/\u63A5\u53E3\u6587\u6863-\u81EA\u5B9A\u4E49UI","title":"API Document - Custom UI","description":"Use SwaggerUI in the GoFrame framework to customize the API documentation UI, replacing the default Redoc component UI. Demonstrate how to quickly implement API documentation replacement with example code, connect internal enterprise resources, and avoid external dependencies. Detailed demonstration of integrating API documentation with third-party platforms, using GoFrame Server for UI template switching, enhancing the flexibility and customizability of document display.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/WEB\u670D\u52A1\u5F00\u53D1/\u63A5\u53E3\u6587\u6863/\u63A5\u53E3\u6587\u6863-\u81EA\u5B9A\u4E49UI.md","sourceDirName":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u63A5\u53E3\u6587\u6863","slug":"/docs/web/api-document-swagger-ui","permalink":"/en/docs/web/api-document-swagger-ui","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/WEB\u670D\u52A1\u5F00\u53D1/\u63A5\u53E3\u6587\u6863/\u63A5\u53E3\u6587\u6863-\u81EA\u5B9A\u4E49UI.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732451468000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/web/api-document-swagger-ui","title":"API Document - Custom UI","sidebar_position":1,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","SwaggerUI","API Documentation","OpenAPI","UI Template","Custom API","gogf","API Docs","Redoc"],"description":"Use SwaggerUI in the GoFrame framework to customize the API documentation UI, replacing the default Redoc component UI. Demonstrate how to quickly implement API documentation replacement with example code, connect internal enterprise resources, and avoid external dependencies. Detailed demonstration of integrating API documentation with third-party platforms, using GoFrame Server for UI template switching, enhancing the flexibility and customizability of document display."},"sidebar":"mainSidebar","previous":{"title":"API Document - OpenAPIv3","permalink":"/en/docs/web/api-document-openapiv3"},"next":{"title":"Request \uD83D\uDD25","permalink":"/en/docs/web/request"}}'),o=t("785893"),r=t("250065");let a={slug:"/docs/web/api-document-swagger-ui",title:"API Document - Custom UI",sidebar_position:1,hide_title:!0,keywords:["GoFrame","GoFrame Framework","SwaggerUI","API Documentation","OpenAPI","UI Template","Custom API","gogf","API Docs","Redoc"],description:"Use SwaggerUI in the GoFrame framework to customize the API documentation UI, replacing the default Redoc component UI. Demonstrate how to quickly implement API documentation replacement with example code, connect internal enterprise resources, and avoid external dependencies. Detailed demonstration of integrating API documentation with third-party platforms, using GoFrame Server for UI template switching, enhancing the flexibility and customizability of document display."},s=void 0,c={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Usage Example",id:"usage-example",level:2},{value:"Common UI Templates",id:"common-ui-templates",level:2},{value:"swagger-ui",id:"swagger-ui",level:3},{value:"openapi-ui",id:"openapi-ui",level:3}];function d(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"OpenAPI"})," API documentation UI provided by default in ",(0,o.jsx)(n.code,{children:"GoFrame"}),"'s ",(0,o.jsx)(n.code,{children:"Server"})," is the open-source ",(0,o.jsx)(n.code,{children:"redoc"})," component, which does not support the ",(0,o.jsx)(n.code,{children:"Try It Out"})," feature on the page. Many developers ask if it's possible to use the ",(0,o.jsx)(n.code,{children:"SwaggerUI"})," page to display the ",(0,o.jsx)(n.code,{children:"OpenAPI"})," API documentation. Some enterprises do not support connecting to certain external resources, so can the internal API documentation UI be replaced with resources accessible internally?"]}),"\n",(0,o.jsxs)(n.p,{children:["Anyone familiar with ",(0,o.jsx)(n.code,{children:"OpenAPI"})," knows that it is merely a general API definition specification, and the displayed API documentation UI can be easily replaced. Moreover, there are many such UI APIs and platforms! Switching the API documentation UI page in ",(0,o.jsx)(n.code,{children:"GoFrame Server"}),", or integrating the API documentation into a third-party documentation platform, is very simple! For details, see the example: ",(0,o.jsx)(n.a,{href:"https://github.com/gogf/gf/blob/master/example/httpserver/swagger-set-template/main.go",children:"gf/example/httpserver/swagger-set-template/main.go"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,o.jsxs)(n.p,{children:["Let's use code to illustrate how to quickly switch the API documentation UI to ",(0,o.jsx)(n.code,{children:"SwaggerUI"}),". Links related to ",(0,o.jsx)(n.code,{children:"SwaggerUI"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/swagger-api/swagger-ui",children:"https://github.com/swagger-api/swagger-ui"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/installation.md",children:"https://github.com/swagger-api/swagger-ui/blob/master/docs/usage/installation.md"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"main.go"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "fmt"\n\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\n// HelloReq hello request\ntype HelloReq struct {\n    g.Meta `path:"/hello" method:"get" sort:"1"`\n    Name   string `v:"required" dc:"Your name"`\n}\n\n// HelloRes hello response\ntype HelloRes struct {\n    Reply string `dc:"Reply content"`\n}\n\n// Hello Controller\ntype Hello struct{}\n\n// Say function\nfunc (Hello) Say(ctx context.Context, req *HelloReq) (res *HelloRes, err error) {\n    g.Log().Debugf(ctx, `receive say: %+v`, req)\n    res = &HelloRes{\n        Reply: fmt.Sprintf(`Hi %s`, req.Name),\n    }\n    return\n}\n\nconst (\n    MySwaggerUITemplate = `\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <meta name="description" content="SwaggerUI"/>\n    <title>SwaggerUI</title>\n    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.10.5/swagger-ui.min.css" />\n</head>\n<body>\n<div id="swagger-ui"></div>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.10.5/swagger-ui-bundle.js" crossorigin><\/script>\n<script>\n    window.onload = () => {\n        window.ui = SwaggerUIBundle({\n            url:    \'{SwaggerUIDocUrl}\',\n            dom_id: \'#swagger-ui\',\n        });\n    };\n<\/script>\n</body>\n</html>\n`\n)\n\nfunc main() {\n    s := g.Server()\n    s.Use(ghttp.MiddlewareHandlerResponse)\n    s.Group("/", func(group *ghttp.RouterGroup) {\n        group.Bind(\n            new(Hello),\n        )\n    })\n    s.SetSwaggerUITemplate(MySwaggerUITemplate)\n    s.Run()\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"config.yaml"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'server:\n  address:     ":8199"\n  openapiPath: "/api.json"\n  swaggerPath: "/swagger"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Here we define a single ",(0,o.jsx)(n.code,{children:"Hello"})," API. As you can see, we use an endpoint to display the ",(0,o.jsx)(n.code,{children:"SwaggerUI"})," ",(0,o.jsx)(n.code,{children:"HTML"})," page and define the path to the ",(0,o.jsx)(n.code,{children:"OpenAPI"})," API file as ",(0,o.jsx)(n.code,{children:"/api.json"}),", without using the server's built-in UI page. After execution, the terminal outputs:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-html",children:"2022-05-18 20:41:09.160 [INFO] openapi specification is serving at address: http://127.0.0.1:8199/api.json\n2022-05-18 20:41:09.161 [INFO] pid[57888]: http server started listening on [:8199]\n\n  ADDRESS | METHOD |   ROUTE   |                             HANDLER                             |    MIDDLEWARE\n----------|--------|-----------|-----------------------------------------------------------------|--------------------\n  :8199   | ALL    | /*        | github.com/gogf/gf/v2/net/ghttp.internalMiddlewareServerTracing | GLOBAL MIDDLEWARE\n----------|--------|-----------|-----------------------------------------------------------------|--------------------\n  :8199   | ALL    | /api.json | github.com/gogf/gf/v2/net/ghttp.(*Server).openapiSpec           |\n----------|--------|-----------|-----------------------------------------------------------------|--------------------\n  :8199   | GET    | /hello    | main.(*Hello).Say                                               |\n----------|--------|-----------|-----------------------------------------------------------------|--------------------\n  :8199   | GET    | /swagger  | main.main.func1.1                                               |\n----------|--------|-----------|-----------------------------------------------------------------|--------------------\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Visit this link: ",(0,o.jsx)(n.a,{href:"http://127.0.0.1:8199/swagger/",children:"http://127.0.0.1:8199/swagger/"})]}),"\n",(0,o.jsx)(n.p,{children:"The page is displayed as follows:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(719560).Z+"",width:"3064",height:"1616"})}),"\n",(0,o.jsx)(n.p,{children:"Developers customize other API documentation UIs in a similar way."}),"\n",(0,o.jsx)(n.h2,{id:"common-ui-templates",children:"Common UI Templates"}),"\n",(0,o.jsx)(n.h3,{id:"swagger-ui",children:"swagger-ui"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1" />\n    <meta name="description" content="SwaggerUI"/>\n    <title>SwaggerUI</title>\n    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.10.5/swagger-ui.min.css" />\n</head>\n<body>\n<div id="swagger-ui"></div>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/5.10.5/swagger-ui-bundle.js" crossorigin><\/script>\n<script>\n    window.onload = () => {\n        window.ui = SwaggerUIBundle({\n            url:    \'{SwaggerUIDocUrl}\',\n            dom_id: \'#swagger-ui\',\n        });\n    };\n<\/script>\n</body>\n</html>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"openapi-ui",children:"openapi-ui"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <title>openAPI UI</title>\n  </head>\n  <body>\n    <div id="openapi-ui-container" spec-url="{SwaggerUIDocUrl}" theme="light"></div>\n    <script src="https://cdn.jsdelivr.net/npm/openapi-ui-dist@latest/lib/openapi-ui.umd.js"><\/script>\n  </body>\n</html>\n'})})]})}function g(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},719560:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/c4942cfdd7b4a35c570e4e741619d6c0-8bd04dad97f0628c33cbd1772dfd06c2.png"},250065:function(e,n,t){t.d(n,{Z:function(){return s},a:function(){return a}});var i=t(667294);let o={},r=i.createContext(o);function a(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);