"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["96430"],{778899(e,s,t){t.r(s),t.d(s,{metadata:()=>o,default:()=>m,frontMatter:()=>r,contentTitle:()=>a,toc:()=>d,assets:()=>l});var o=JSON.parse('{"id":"docs/WEB\u670D\u52A1\u5F00\u53D1/Session/Session-Memory","title":"Session - Memory","description":"Use memory storage to implement Session functionality in the GoFrame framework. Memory storage is simple and efficient, but does not support persistence, so Session data will be lost after the application restarts. Through example code, it is explained in detail how to set the expiration time of the Session and how to store and retrieve Session data.","source":"@site/i18n/en/docusaurus-plugin-content-docs/version-2.8.x/docs/WEB\u670D\u52A1\u5F00\u53D1/Session/Session-Memory.md","sourceDirName":"docs/WEB\u670D\u52A1\u5F00\u53D1/Session","slug":"/docs/web/session-memory","permalink":"/en/2.8.x/docs/web/session-memory","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.8.x/docs/WEB\u670D\u52A1\u5F00\u53D1/Session/Session-Memory.md","tags":[],"version":"2.8.x","lastUpdatedBy":"John Guo","lastUpdatedAt":1742194305000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/web/session-memory","title":"Session - Memory","sidebar_position":1,"hide_title":true,"keywords":["GoFrame","Session Storage","Memory Storage","Session Data","StorageMemory","gsession","GoFrame Framework","Session Example","Session Setting","Session Persistence"],"description":"Use memory storage to implement Session functionality in the GoFrame framework. Memory storage is simple and efficient, but does not support persistence, so Session data will be lost after the application restarts. Through example code, it is explained in detail how to set the expiration time of the Session and how to store and retrieve Session data."},"sidebar":"mainSidebar","previous":{"title":"Session - File","permalink":"/en/2.8.x/docs/web/session-file"},"next":{"title":"Session - Redis-KeyValue","permalink":"/en/2.8.x/docs/web/session-redis-key-value"}}'),i=t(474848),n=t(28453);let r={slug:"/docs/web/session-memory",title:"Session - Memory",sidebar_position:1,hide_title:!0,keywords:["GoFrame","Session Storage","Memory Storage","Session Data","StorageMemory","gsession","GoFrame Framework","Session Example","Session Setting","Session Persistence"],description:"Use memory storage to implement Session functionality in the GoFrame framework. Memory storage is simple and efficient, but does not support persistence, so Session data will be lost after the application restarts. Through example code, it is explained in detail how to set the expiration time of the Session and how to store and retrieve Session data."},a,l={},d=[{value:"Memory Storage",id:"memory-storage",level:2},{value:"Example Usage",id:"example-usage",level:2}];function c(e){let s={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.h2,{id:"memory-storage",children:"Memory Storage"}),"\n",(0,i.jsxs)(s.p,{children:["Memory storage is relatively simple and efficient, but it does not persistently store ",(0,i.jsx)(s.code,{children:"Session"})," data, so the ",(0,i.jsx)(s.code,{children:"Session"})," data will be lost after the application restarts. It can be used in specific business scenarios. The ",(0,i.jsx)(s.code,{children:"memory"})," storage of ",(0,i.jsx)(s.code,{children:"gsession"})," is implemented using the ",(0,i.jsx)(s.code,{children:"StorageMemory"})," object."]}),"\n",(0,i.jsx)(s.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n    "github.com/gogf/gf/v2/os/gsession"\n    "github.com/gogf/gf/v2/os/gtime"\n    "time"\n)\n\nfunc main() {\n    s := g.Server()\n    s.SetSessionMaxAge(time.Minute)\n    s.SetSessionStorage(gsession.NewStorageMemory())\n    s.Group("/", func(group *ghttp.RouterGroup) {\n        group.ALL("/set", func(r *ghttp.Request) {\n            r.Session.MustSet("time", gtime.Timestamp())\n            r.Response.Write("ok")\n        })\n        group.ALL("/get", func(r *ghttp.Request) {\n            r.Response.Write(r.Session.Data())\n        })\n        group.ALL("/del", func(r *ghttp.Request) {\n            _ = r.Session.RemoveAll()\n            r.Response.Write("ok")\n        })\n    })\n    s.SetPort(8199)\n    s.Run()\n}\n'})}),"\n",(0,i.jsxs)(s.p,{children:["In this example, to conveniently observe expiration, we set the ",(0,i.jsx)(s.code,{children:"Session"})," expiration time to ",(0,i.jsx)(s.code,{children:"1 minute"}),". After executing,"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["First, visit ",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8199/set",children:"http://127.0.0.1:8199/set"})," to set a ",(0,i.jsx)(s.code,{children:"Session"})," variable;"]}),"\n",(0,i.jsxs)(s.li,{children:["Then, visit ",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8199/get",children:"http://127.0.0.1:8199/get"})," to see that the ",(0,i.jsx)(s.code,{children:"Session"})," variable has been set and successfully retrieved;"]}),"\n",(0,i.jsxs)(s.li,{children:["Next, we stop the program and restart it. Visit ",(0,i.jsx)(s.a,{href:"http://127.0.0.1:8199/get",children:"http://127.0.0.1:8199/get"})," again to see that the ",(0,i.jsx)(s.code,{children:"Session"})," variable is gone;"]}),"\n"]})]})}function m(e={}){let{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,s,t){t.d(s,{R:()=>r,x:()=>a});var o=t(296540);let i={},n=o.createContext(i);function r(e){let s=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(n.Provider,{value:s},e.children)}}}]);