"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["75716"],{757665:function(e,n,o){o.r(n),o.d(n,{metadata:()=>t,contentTitle:()=>r,default:()=>u,assets:()=>c,toc:()=>d,frontMatter:()=>s});var t=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u9AD8\u7EA7\u7279\u6027/ORM\u9AD8\u7EA7\u7279\u6027-\u8FDE\u63A5\u6C60\u72B6\u6001","title":"ORM Senior - Connection Pool","description":"Use GoFrame framework\'s `DB.Stats` method to obtain the connection pool status of ORM objects. Through example code, developers can understand how to configure database connections and obtain detailed connection pool status information via GoFrame. Additionally, the specific fields of the connection pool status output and their meanings are introduced.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u9AD8\u7EA7\u7279\u6027/ORM\u9AD8\u7EA7\u7279\u6027-\u8FDE\u63A5\u6C60\u72B6\u6001.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u9AD8\u7EA7\u7279\u6027","slug":"/docs/core/gdb-senior-connection-pool","permalink":"/en/docs/core/gdb-senior-connection-pool","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u9AD8\u7EA7\u7279\u6027/ORM\u9AD8\u7EA7\u7279\u6027-\u8FDE\u63A5\u6C60\u72B6\u6001.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":8,"frontMatter":{"slug":"/docs/core/gdb-senior-connection-pool","title":"ORM Senior - Connection Pool","sidebar_position":8,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","ORM","Connection Pool","DB Stats","Database Connection","gdb","mysql","GoFrame database","GoFrame gdb"],"description":"Use GoFrame framework\'s `DB.Stats` method to obtain the connection pool status of ORM objects. Through example code, developers can understand how to configure database connections and obtain detailed connection pool status information via GoFrame. Additionally, the specific fields of the connection pool status output and their meanings are introduced."},"sidebar":"mainSidebar","previous":{"title":"ORM Senior - Type Conversion","permalink":"/en/docs/core/gdb-senior-type-converting"},"next":{"title":"ORM Senior - Embedded Struct","permalink":"/en/docs/core/gdb-senior-nested-struct-support"}}'),a=o("785893"),i=o("250065");let s={slug:"/docs/core/gdb-senior-connection-pool",title:"ORM Senior - Connection Pool",sidebar_position:8,hide_title:!0,keywords:["GoFrame","GoFrame Framework","ORM","Connection Pool","DB Stats","Database Connection","gdb","mysql","GoFrame database","GoFrame gdb"],description:"Use GoFrame framework's `DB.Stats` method to obtain the connection pool status of ORM objects. Through example code, developers can understand how to configure database connections and obtain detailed connection pool status information via GoFrame. Additionally, the specific fields of the connection pool status output and their meanings are introduced."},r=void 0,c={},d=[];function l(e){let n={code:"code",p:"p",pre:"pre",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["We can obtain the connection pool status of an ",(0,a.jsx)(n.code,{children:"orm"})," object using the ",(0,a.jsx)(n.code,{children:"DB.Stats"})," method. Let's look at an example:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    _ "github.com/gogf/gf/contrib/drivers/mysql/v2"\n\n    "github.com/gogf/gf/v2/database/gdb"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gctx"\n)\n\nfunc main() {\n    var ctx = gctx.New()\n    db, err := gdb.New(gdb.ConfigNode{\n        Link: "mysql:root:12345678@tcp(127.0.0.1:3306)/test",\n    })\n    if err != nil {\n        g.Log().Fatal(ctx, err)\n    }\n    err = db.PingMaster()\n    if err != nil {\n        g.Log().Fatal(ctx, err)\n    }\n    stats := db.Stats(ctx)\n    g.Dump(stats)\n}\n'})}),"\n",(0,a.jsx)(n.p,{children:"After execution, the terminal output is as follows, showing each database node and its corresponding connection pool status information."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-html",children:'[\n    {\n        node:  {\n            Host:                 "127.0.0.1",\n            Port:                 "3306",\n            User:                 "root",\n            Pass:                 "12345678",\n            Name:                 "test",\n            Type:                 "mysql",\n            Link:                 "",\n            Extra:                "",\n            Role:                 "",\n            Debug:                false,\n            Prefix:               "",\n            DryRun:               false,\n            Weight:               0,\n            Charset:              "utf8",\n            Protocol:             "tcp",\n            Timezone:             "",\n            Namespace:            "",\n            MaxIdleConnCount:     0,\n            MaxOpenConnCount:     0,\n            MaxConnLifeTime:      0,\n            QueryTimeout:         0,\n            ExecTimeout:          0,\n            TranTimeout:          0,\n            PrepareTimeout:       0,\n            CreatedAt:            "",\n            UpdatedAt:            "",\n            DeletedAt:            "",\n            TimeMaintainDisabled: false,\n        },\n        stats: {\n            MaxOpenConnections: 0,\n            OpenConnections:    1,\n            InUse:              0,\n            Idle:               1,\n            WaitCount:          0,\n            WaitDuration:       0,\n            MaxIdleClosed:      0,\n            MaxIdleTimeClosed:  0,\n            MaxLifetimeClosed:  0,\n        },\n    },\n]\n'})})]})}function u(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},250065:function(e,n,o){o.d(n,{Z:function(){return r},a:function(){return s}});var t=o(667294);let a={},i=t.createContext(a);function s(e){let n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);