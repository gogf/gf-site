"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["6716"],{52736(e,o,n){n.r(o),n.d(o,{metadata:()=>d,default:()=>h,frontMatter:()=>t,contentTitle:()=>a,toc:()=>l,assets:()=>c});var d=JSON.parse('{"id":"docs/\u5176\u4ED6\u8D44\u6599/\u51C6\u5907\u5F00\u53D1\u73AF\u5883/Go Module","title":"Go Module","description":"The usage of the Go Module package management tool, covering how to perform dependency management through Goland IDE and the command line, and providing practical guidance on setting up the go.mod file and using a proxy to download the GoFrame framework. By enabling the Go Module feature and choosing the appropriate proxy address, you can efficiently manage project package dependencies, thereby improving development efficiency.","source":"@site/i18n/en/docusaurus-plugin-content-docs/version-2.8.x/docs/\u5176\u4ED6\u8D44\u6599/\u51C6\u5907\u5F00\u53D1\u73AF\u5883/Go Module.md","sourceDirName":"docs/\u5176\u4ED6\u8D44\u6599/\u51C6\u5907\u5F00\u53D1\u73AF\u5883","slug":"/docs/install-go/go-module","permalink":"/en/2.8.x/docs/install-go/go-module","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.8.x/docs/\u5176\u4ED6\u8D44\u6599/\u51C6\u5907\u5F00\u53D1\u73AF\u5883/Go Module.md","tags":[],"version":"2.8.x","lastUpdatedBy":"John Guo","lastUpdatedAt":1742194305000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/install-go/go-module","title":"Go Module","sidebar_position":1,"hide_title":true,"keywords":["Go Module","GoFrame","package management tool","dependency management","go.mod","Goland IDE","vgo","package","GOPROXY","go get"],"description":"The usage of the Go Module package management tool, covering how to perform dependency management through Goland IDE and the command line, and providing practical guidance on setting up the go.mod file and using a proxy to download the GoFrame framework. By enabling the Go Module feature and choosing the appropriate proxy address, you can efficiently manage project package dependencies, thereby improving development efficiency."},"sidebar":"mainSidebar","previous":{"title":"Installation","permalink":"/en/2.8.x/docs/install-go/index"},"next":{"title":"Configuration","permalink":"/en/2.8.x/docs/install-go/config-env"}}'),i=n(474848),s=n(28453);let t={slug:"/docs/install-go/go-module",title:"Go Module",sidebar_position:1,hide_title:!0,keywords:["Go Module","GoFrame","package management tool","dependency management","go.mod","Goland IDE","vgo","package","GOPROXY","go get"],description:"The usage of the Go Module package management tool, covering how to perform dependency management through Goland IDE and the command line, and providing practical guidance on setting up the go.mod file and using a proxy to download the GoFrame framework. By enabling the Go Module feature and choosing the appropriate proxy address, you can efficiently manage project package dependencies, thereby improving development efficiency."},a,c={},l=[{value:"About <code>go.mod</code>",id:"about-gomod",level:2},{value:"Using <code>go.mod</code>",id:"using-gomod",level:2},{value:"Using Goland IDE vgo (recommended)",id:"using-goland-ide-vgo-recommended",level:3},{value:"Using the Command Line",id:"using-the-command-line",level:3}];function r(e){let o={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.code,{children:"Go Module"})," is an official package management tool provided since Go version ",(0,i.jsx)(o.code,{children:"1.11.1"}),", used for package management and dependencies in Go projects, similar to PHP's ",(0,i.jsx)(o.code,{children:"composer"})," and Node.js's ",(0,i.jsx)(o.code,{children:"npm"}),". This chapter introduces some commonly used commands/settings for ",(0,i.jsx)(o.code,{children:"Go Module"}),". For more detailed information, please refer to the official documentation: ",(0,i.jsx)(o.a,{href:"https://github.com/golang/go/wiki/Modules",children:"https://github.com/golang/go/wiki/Modules"})]}),"\n",(0,i.jsxs)(o.h2,{id:"about-gomod",children:["About ",(0,i.jsx)(o.code,{children:"go.mod"})]}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.code,{children:"go.mod"})," is the dependency description file for a Go project. The file primarily describes two things:"]}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["What is the current project name (",(0,i.jsx)(o.code,{children:"module"}),"). Each project should set a name, and packages in the current project can use this name to call each other."]}),"\n",(0,i.jsxs)(o.li,{children:["The names of third-party packages that the current project depends on. When the project runs, it will automatically analyze the code dependencies in the project, generate a ",(0,i.jsx)(o.code,{children:"go.sum"})," dependency analysis result, and then the Go compiler will download these third-party packages before compiling and running."]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["We've made some changes to the previous ",(0,i.jsx)(o.code,{children:"hello world"})," project, adding a ",(0,i.jsx)(o.code,{children:"go.mod"})," file (which can also be generated by using the ",(0,i.jsx)(o.code,{children:"go mod init project_name"})," command in the project's root directory) with the following content:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-go",children:"module my-hello\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Here, ",(0,i.jsx)(o.code,{children:"my-hello"})," is the name of the current project and can be set arbitrarily."]}),"\n",(0,i.jsxs)(o.p,{children:["Thus, the project's ",(0,i.jsx)(o.code,{children:"module"})," initialization is completed simply."]}),"\n",(0,i.jsxs)(o.p,{children:["Generally, the ",(0,i.jsx)(o.code,{children:"go.sum"})," dependency analysis file should be added to version control and committed along with the ",(0,i.jsx)(o.code,{children:"go.mod"})," file."]}),"\n",(0,i.jsxs)(o.h2,{id:"using-gomod",children:["Using ",(0,i.jsx)(o.code,{children:"go.mod"})]}),"\n",(0,i.jsxs)(o.p,{children:["Using ",(0,i.jsx)(o.code,{children:"go.mod"})," means managing project dependencies with ",(0,i.jsx)(o.code,{children:"go.mod"}),". We have two ",(0,i.jsx)(o.strong,{children:"ways"})," to use ",(0,i.jsx)(o.code,{children:"go.mod"}),": ",(0,i.jsx)(o.code,{children:"IDE-vgo"})," and ",(0,i.jsx)(o.code,{children:"command line"}),". Below, we demonstrate how to use these two methods to manage dependencies with the ",(0,i.jsx)(o.code,{children:"GoFrame"})," framework."]}),"\n",(0,i.jsxs)(o.blockquote,{children:["\n",(0,i.jsxs)(o.p,{children:["To have ",(0,i.jsx)(o.code,{children:"Goland"})," IDE support ",(0,i.jsx)(o.code,{children:"go.mod"}),", vgo support (including code dependency detection) must be enabled. The difference between these two methods lies only in the way of downloading dependency packages."]}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"using-goland-ide-vgo-recommended",children:"Using Goland IDE vgo (recommended)"}),"\n",(0,i.jsxs)(o.p,{children:[(0,i.jsx)(o.code,{children:"vgo"})," is a package management tool based on the ",(0,i.jsx)(o.code,{children:"Go Module"})," specification, similar to the official ",(0,i.jsx)(o.code,{children:"go mod"})," command tool."]}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["Set ",(0,i.jsx)(o.code,{children:"Goland"})," to enable ",(0,i.jsx)(o.code,{children:"vgo"})]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(209128).A+"",width:"2024",height:"1396"})}),"\n",(0,i.jsxs)(o.p,{children:["If your local environment already has ",(0,i.jsx)(o.code,{children:"VPN"})," functionality, you can ignore setting the ",(0,i.jsx)(o.code,{children:"proxy"}),"."]}),"\n",(0,i.jsxs)(o.p,{children:["Enter the proxy address to download dependency packages, or choose ",(0,i.jsx)(o.code,{children:"direct"})," to not use a proxy. Available reverse proxy addresses include:"]}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://goproxy.cn"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://goproxy.io"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://mirrors.aliyun.com/goproxy/"})}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["See the Go official website for more information: ",(0,i.jsx)(o.a,{href:"https://github.com/golang/go/wiki/Modules#are-there-always-on-module-repositories-and-enterprise-proxies",children:"https://github.com/golang/go/wiki/Modules#are-there-always-on-module-repositories-and-enterprise-proxies"})]}),"\n",(0,i.jsx)(o.p,{children:"Make sure to select an input proxy address here."}),"\n",(0,i.jsxs)(o.ol,{start:"2",children:["\n",(0,i.jsxs)(o.li,{children:["Manually modify the ",(0,i.jsx)(o.code,{children:"go.mod"})," file as follows:"]}),"\n"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-go",children:"module my-hello\n\n\nrequire github.com/gogf/gf latest\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Adding the dependency on the ",(0,i.jsx)(o.code,{children:"GoFrame"})," framework, where ",(0,i.jsx)(o.code,{children:"latest"})," means using the latest version, the IDE will immediately update and download the framework code. Upon success, the IDE will modify the ",(0,i.jsx)(o.code,{children:"go.mod"})," file and generate a ",(0,i.jsx)(o.code,{children:"go.sum"})," dependency analysis file."]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(320954).A+"",width:"800",height:"273"})}),"\n",(0,i.jsxs)(o.ol,{start:"3",children:["\n",(0,i.jsxs)(o.li,{children:["Subsequently, the ",(0,i.jsx)(o.code,{children:"go.mod"})," file is automatically updated to:"]}),"\n"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-go",children:"module my-hello\n\n\nrequire github.com/gogf/gf v1.6.13\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Where ",(0,i.jsx)(o.code,{children:"v1.6.13"})," represents the latest framework version detected by vgo."]}),"\n",(0,i.jsxs)(o.ol,{start:"4",children:["\n",(0,i.jsxs)(o.li,{children:["If the following situation occurs after downloading the latest code framework: ",(0,i.jsx)(o.a,{href:"https://www.jetbrains.com/help/go/create-a-project-with-vgo-integration.html",children:"https://www.jetbrains.com/help/go/create-a-project-with-vgo-integration.html"})]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(976266).A+"",width:"800",height:"292"})}),"\n",(0,i.jsxs)(o.ol,{start:"5",children:["\n",(0,i.jsxs)(o.li,{children:["Press the shortcut ",(0,i.jsx)(o.code,{children:"\u2325(option)+\u21A9(return)"})," or right-click and choose ",(0,i.jsx)(o.code,{children:"Sync packages of my-hello"})]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(863619).A+"",width:"800",height:"260"})}),"\n",(0,i.jsxs)(o.ol,{start:"6",children:["\n",(0,i.jsxs)(o.li,{children:["After waiting a few seconds, you can see the left ",(0,i.jsx)(o.code,{children:"Go Module"})," with content, and the terminal automatically outputs the downloaded framework version."]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(211287).A+"",width:"800",height:"435"})}),"\n",(0,i.jsx)(o.h3,{id:"using-the-command-line",children:"Using the Command Line"}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsxs)(o.li,{children:["Open ",(0,i.jsx)(o.code,{children:"Terminal"})," and execute in the project root directory:"]}),"\n"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:"export GO111MODULE=on GOPROXY=https://goproxy.cn; go get -u github.com/gogf/gf\n"})}),"\n",(0,i.jsxs)(o.p,{children:["This command will immediately download the latest stable version of the ",(0,i.jsx)(o.code,{children:"GoFrame"})," framework. The ",(0,i.jsx)(o.code,{children:"export GO111MODULE=on;"})," indicates enabling the ",(0,i.jsx)(o.code,{children:"Go Module"})," feature (Go ",(0,i.jsx)(o.code,{children:"1.11.x"})," versions are disabled by default and need to be manually enabled), and ",(0,i.jsx)(o.code,{children:"export GOPROXY=https://goproxy.cn"})," indicates using a proxy for download, for obvious reasons, and can also considerably increase the download speed of dependency packages. Other proxy addresses that can be used are:"]}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://goproxy.cn"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://goproxy.io"})}),"\n",(0,i.jsx)(o.li,{children:(0,i.jsx)(o.code,{children:"https://mirrors.aliyun.com/goproxy"})}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:(0,i.jsx)(o.img,{src:n(116400).A+"",width:"800",height:"430"})}),"\n",(0,i.jsxs)(o.ol,{start:"2",children:["\n",(0,i.jsxs)(o.li,{children:["Subsequently, the ",(0,i.jsx)(o.code,{children:"go.mod"})," file content is automatically updated to:"]}),"\n"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-go",children:"module my-hello\n\n\nrequire github.com/gogf/gf v1.6.13 // indirect\n"})}),"\n",(0,i.jsxs)(o.p,{children:["And generates a new ",(0,i.jsx)(o.code,{children:"go.sum"})," dependency analysis file, which is essentially a temporary file and not very meaningful for our daily development work."]})]})}function h(e={}){let{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(r,{...e})}):r(e)}},116400(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/2274104a3ec3a6d2ac7ea35ad374c85c-2c43604673051906d4a6fc3a3e6966cf.png"},976266(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/6c6bad791c9e0eee3c740f9cda0ea5c4-2202756c2cf6b9042872f180a06e4f3e.png"},211287(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/955367cd46f617411d664c5baa8af9ce-3a915d47bb15a4d91ef33856bca402ea.png"},320954(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/cb698537b6d68707fb4c1284530d9f90-ef7b5fc080c512fd03b873d49df13138.png"},863619(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/cf02717043547f5e1bf0a14b31d40b1c-fa828240ebcc998aacea5651bbd28bce.png"},209128(e,o,n){n.d(o,{A:()=>d});let d=n.p+"assets/images/f3f9552ca0703fb4e88ae2958b58815c-102d6773f287281f0ae31a581d98e8aa.png"},28453(e,o,n){n.d(o,{R:()=>t,x:()=>a});var d=n(296540);let i={},s=d.createContext(i);function t(e){let o=d.useContext(s);return d.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),d.createElement(s.Provider,{value:o},e.children)}}}]);