"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["912"],{973912:function(e,n,t){t.r(n),t.d(n,{metadata:()=>r,contentTitle:()=>a,default:()=>h,assets:()=>c,toc:()=>d,frontMatter:()=>o});var r=JSON.parse('{"id":"docs/WEB\u670D\u52A1\u5F00\u53D1/\u5F00\u59CB\u4F7F\u7528","title":"Getting Started","description":"GoFrame framework provides a powerful WebServer, implemented by the ghttp module, covering features such as routing, session management, and caching. It supports multiple port listening, domain binding, multi-instance operation, offering easy configuration management and server graceful restart capabilities, providing modularity and flexibility support for developers and reliable HTTP and HTTPS services for users.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/WEB\u670D\u52A1\u5F00\u53D1/\u5F00\u59CB\u4F7F\u7528.md","sourceDirName":"docs/WEB\u670D\u52A1\u5F00\u53D1","slug":"/docs/web/start","permalink":"/en/docs/web/start","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/WEB\u670D\u52A1\u5F00\u53D1/\u5F00\u59CB\u4F7F\u7528.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":0,"frontMatter":{"slug":"/docs/web/start","title":"Getting Started","sidebar_position":0,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","WebServer","ghttp","Router","Multiple Port Listening","Multi-instance Support","Domain Binding","Routing Features","HTTPS Support"],"description":"GoFrame framework provides a powerful WebServer, implemented by the ghttp module, covering features such as routing, session management, and caching. It supports multiple port listening, domain binding, multi-instance operation, offering easy configuration management and server graceful restart capabilities, providing modularity and flexibility support for developers and reliable HTTP and HTTPS services for users."},"sidebar":"mainSidebar","previous":{"title":"WEB Service Development","permalink":"/en/docs/web"},"next":{"title":"Router \uD83D\uDD25","permalink":"/en/docs/web/router"}}'),s=t("785893"),i=t("250065");let o={slug:"/docs/web/start",title:"Getting Started",sidebar_position:0,hide_title:!0,keywords:["GoFrame","GoFrame Framework","WebServer","ghttp","Router","Multiple Port Listening","Multi-instance Support","Domain Binding","Routing Features","HTTPS Support"],description:"GoFrame framework provides a powerful WebServer, implemented by the ghttp module, covering features such as routing, session management, and caching. It supports multiple port listening, domain binding, multi-instance operation, offering easy configuration management and server graceful restart capabilities, providing modularity and flexibility support for developers and reliable HTTP and HTTPS services for users."},a=void 0,c={},d=[{value:"Hello World",id:"hello-world",level:2},{value:"Static Service",id:"static-service",level:2},{value:"Multiple Port Listening",id:"multiple-port-listening",level:2},{value:"Multi-instance Support",id:"multi-instance-support",level:2},{value:"Domain Binding",id:"domain-binding",level:2},{value:"Routing Features",id:"routing-features",level:2},{value:"Configuration Management",id:"configuration-management",level:2},{value:"Graceful Restart",id:"graceful-restart",level:2},{value:"HTTPS Support",id:"https-support",level:2},{value:"More Features",id:"more-features",level:2}];function l(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"GoFrame"})," is a modular framework with well-developed infrastructure, where the ",(0,s.jsx)(n.code,{children:"WebServer"})," module is one of the core modules. We choose ",(0,s.jsx)(n.code,{children:"Web"})," service development as the entry point to the framework to make it easier for everyone to learn and understand."]})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"GoFrame"})," framework provides a very powerful ",(0,s.jsx)(n.code,{children:"WebServer"}),", implemented by the ",(0,s.jsx)(n.code,{children:"ghttp"})," module. It includes a rich and comprehensive set of components such as ",(0,s.jsx)(n.code,{children:"Router"}),", ",(0,s.jsx)(n.code,{children:"Cookie"}),", ",(0,s.jsx)(n.code,{children:"Session"}),", route registration, configuration management, template engine, cache control, etc., supporting features like hot restart, hot update, multi-domain, multi-port, multi-instance, ",(0,s.jsx)(n.code,{children:"HTTPS"}),", ",(0,s.jsx)(n.code,{children:"Rewrite"}),", ",(0,s.jsx)(n.code,{children:"PProf"}),", and more."]}),"\n",(0,s.jsx)(n.p,{children:"API Documentation:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp",children:"https://pkg.go.dev/github.com/gogf/gf/v2/net/ghttp"})}),"\n",(0,s.jsx)(n.h2,{id:"hello-world",children:"Hello World"}),"\n",(0,s.jsxs)(n.p,{children:["As usual, let's start with a ",(0,s.jsx)(n.code,{children:"Hello World"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request) {\n        r.Response.Write("Hello World!")\n    })\n    s.Run()\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This is the simplest service. By default, it does not support static file processing, and only has one function: accessing ",(0,s.jsx)(n.a,{href:"http://127.0.0.1/",children:"http://127.0.0.1/"})," will return ",(0,s.jsx)(n.code,{children:"Hello World!"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["At any time, you can get a default ",(0,s.jsx)(n.code,{children:"Server"})," object through the ",(0,s.jsx)(n.code,{children:"g.Server()"})," method, which is designed using the ",(0,s.jsx)(n.code,{children:"singleton pattern"}),", meaning that calling this method multiple times returns the same ",(0,s.jsx)(n.code,{children:"Server"})," object. By executing the ",(0,s.jsx)(n.code,{children:"Run()"})," method, the ",(0,s.jsx)(n.code,{children:"Server"})," starts listening. Without any additional settings, it listens on port ",(0,s.jsx)(n.code,{children:"80"})," by default."]}),"\n",(0,s.jsxs)(n.p,{children:["The route registration will be introduced in subsequent chapters. Let's see how to create a ",(0,s.jsx)(n.code,{children:"Server"})," that supports static files."]}),"\n",(0,s.jsx)(n.h2,{id:"static-service",children:"Static Service"}),"\n",(0,s.jsxs)(n.p,{children:["Create and run a ",(0,s.jsx)(n.code,{children:"WebServer"})," that supports static files:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n)\n\nfunc main() {\n    s := g.Server()\n    s.SetIndexFolder(true)\n    s.SetServerRoot("/home/www/")\n    s.Run()\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["After creating the ",(0,s.jsx)(n.code,{children:"Server"})," object, we can use the ",(0,s.jsx)(n.code,{children:"Set*"})," methods to set the ",(0,s.jsx)(n.code,{children:"Server"}),"'s properties. In this example, two property setting methods are involved:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetIndexFolder"})," is used to set whether to allow listing the files in the ",(0,s.jsx)(n.code,{children:"Server"}),"'s root directory (default is ",(0,s.jsx)(n.code,{children:"false"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"SetServerRoot"})," is used to set the ",(0,s.jsx)(n.code,{children:"Server"}),"'s root directory (similar to the ",(0,s.jsx)(n.code,{children:"root"})," configuration in ",(0,s.jsx)(n.code,{children:"nginx"}),", default is empty)."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," does not have any root directory settings by default. Only after setting the root directory does it support accessing static files under the corresponding root directory."]}),"\n",(0,s.jsx)(n.h2,{id:"multiple-port-listening",children:"Multiple Port Listening"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," supports multiple port listening at the same time, you just need to set multiple port numbers in the ",(0,s.jsx)(n.code,{children:"SetPort"})," parameter (of course, for the ",(0,s.jsx)(n.code,{children:"HTTPS"})," service, we can also use the ",(0,s.jsx)(n.code,{children:"SetHTTPSPort"})," to set and support listening on multiple port numbers. The introduction to the ",(0,s.jsx)(n.code,{children:"HTTPS"})," service can be found in the corresponding subsequent chapters)."]}),"\n",(0,s.jsx)(n.p,{children:"Let's see an example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request){\n        r.Response.Writeln("go frame!")\n    })\n    s.SetPort(8100, 8200, 8300)\n    s.Run()\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"After executing the above example, visiting the following URLs will yield the expected same result:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"http://127.0.0.1:8100/\nhttp://127.0.0.1:8200/\nhttp://127.0.0.1:8300/\n"})}),"\n",(0,s.jsx)(n.h2,{id:"multi-instance-support",children:"Multi-instance Support"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," supports running multiple instances in the same process. Let's see an example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n)\n\nfunc main() {\n    s1 := g.Server("s1")\n    s1.SetPort(8080)\n    s1.SetIndexFolder(true)\n    s1.SetServerRoot("/home/www/static1")\n    s1.Start()\n\n    s2 := g.Server("s2")\n    s2.SetPort(8088)\n    s2.SetIndexFolder(true)\n    s2.SetServerRoot("/home/www/static2")\n    s2.Start()\n\n    g.Wait()\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["It can be seen that in the statements supporting multiple ",(0,s.jsx)(n.code,{children:"Server"}),"s, different singleton name parameters are passed to the ",(0,s.jsx)(n.code,{children:"g.Server"})," method. This parameter is used to identify different ",(0,s.jsx)(n.code,{children:"Server"})," instances, so it needs to be unique. If you need to obtain the same ",(0,s.jsx)(n.code,{children:"Server"})," instance, just pass the same name. For example, in multiple ",(0,s.jsx)(n.code,{children:"goroutines"})," or different modules, you can get the same ",(0,s.jsx)(n.code,{children:"Server"})," instance through ",(0,s.jsx)(n.code,{children:"g.Server"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"domain-binding",children:"Domain Binding"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," supports multi-domain binding, and different domains can bind to different services."]}),"\n",(0,s.jsx)(n.p,{children:"Let's see a simple example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc Hello1(r *ghttp.Request) {\n    r.Response.Write("127.0.0.1: Hello1!")\n}\n\nfunc Hello2(r *ghttp.Request) {\n    r.Response.Write("localhost: Hello2!")\n}\n\nfunc main() {\n    s := g.Server()\n    s.Domain("127.0.0.1").BindHandler("/", Hello1)\n    s.Domain("localhost").BindHandler("/", Hello2)\n    s.Run()\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Accessing ",(0,s.jsx)(n.a,{href:"http://127.0.0.1/",children:"http://127.0.0.1/"})," and ",(0,s.jsx)(n.a,{href:"http://localhost/",children:"http://localhost/"})," will display different outputs."]}),"\n",(0,s.jsxs)(n.p,{children:["Additionally, the ",(0,s.jsx)(n.code,{children:"Domain"})," method supports multiple domain parameters, separated by a comma, such as:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'s.Domain("localhost1,localhost2,localhost3").BindHandler("/", Hello2)\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This statement registers the ",(0,s.jsx)(n.code,{children:"Hello2"})," method to the specified 3 domains (",(0,s.jsx)(n.code,{children:"localhost1~3"}),"), not visible to other domains."]}),"\n",(0,s.jsxs)(n.p,{children:["Note that: the parameters of the ",(0,s.jsx)(n.code,{children:"Domain"})," method must be ",(0,s.jsx)(n.strong,{children:"precise"})," domain names and do ",(0,s.jsx)(n.strong,{children:"not support wildcard forms"}),", such as ",(0,s.jsx)(n.code,{children:"*.goframe.org"})," or ",(0,s.jsx)(n.code,{children:".goframe.org"}),", which are not supported. ",(0,s.jsx)(n.code,{children:"api.goframe.org"})," or ",(0,s.jsx)(n.code,{children:"goframe.org"})," are considered correct domain parameters."]}),"\n",(0,s.jsx)(n.h2,{id:"routing-features",children:"Routing Features"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," provides very excellent routing features. Let's first see a simple example:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/net/ghttp"\n    "github.com/gogf/gf/v2/frame/g"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/{class}-{course}/:name/*act", func(r *ghttp.Request) {\n        r.Response.Writef(\n            "%v %v %v %v",\n            r.Get("class"),\n            r.Get("course"),\n            r.Get("name"),\n            r.Get("act"),\n        )\n    })\n    s.SetPort(8199)\n    s.Run()\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["This is an example of a mixed routing rule, used to display a specific class, subject, student, and corresponding action. After running, we can see the test result by visiting this address: ",(0,s.jsx)(n.a,{href:"http://127.0.0.1:8199/class3-math/john/score",children:"http://127.0.0.1:8199/class3-math/john/score"}),". On the page, you can see that the routing rules are parsed one by one, and the business layer can process the corresponding business logic according to the parsed parameters. For specific route registration management, please see the subsequent ",(0,s.jsx)(n.a,{href:"/en/docs/web/router-pattern",children:"Router - Route Patterns"})," chapter."]}),"\n",(0,s.jsx)(n.h2,{id:"configuration-management",children:"Configuration Management"}),"\n",(0,s.jsxs)(n.p,{children:["The core components of ",(0,s.jsx)(n.code,{children:"GoFrame"})," implement convenient configuration management features, allowing component functionality configuration through configuration file modifications. In most scenarios, we recommend using configuration files to manage component configurations. For ",(0,s.jsx)(n.code,{children:"Server"})," configurations, see the ",(0,s.jsx)(n.a,{href:"/en/docs/web/server-config",children:"Configuration"})," chapter."]}),"\n",(0,s.jsx)(n.h2,{id:"graceful-restart",children:"Graceful Restart"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," has built-in support for graceful restart features. Detailed introduction can be found in the ",(0,s.jsx)(n.a,{href:"/en/docs/web/senior-hot-reload",children:"Graceful Restart"})," chapter."]}),"\n",(0,s.jsx)(n.h2,{id:"https-support",children:"HTTPS Support"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"Server"})," supports ",(0,s.jsx)(n.code,{children:"HTTPS"})," services and also supports providing ",(0,s.jsx)(n.code,{children:"HTTP&HTTPS"})," services in a single process. Detailed ",(0,s.jsx)(n.code,{children:"HTTPS"})," introduction can be found in the ",(0,s.jsx)(n.a,{href:"/en/docs/web/senior-https",children:"HTTPS & TLS"})," chapter."]}),"\n",(0,s.jsx)(n.h2,{id:"more-features",children:"More Features"}),"\n",(0,s.jsx)(n.p,{children:"For more features and capabilities, please continue reading the subsequent chapters."})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},250065:function(e,n,t){t.d(n,{Z:function(){return a},a:function(){return o}});var r=t(667294);let s={},i=r.createContext(s);function o(e){let n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);