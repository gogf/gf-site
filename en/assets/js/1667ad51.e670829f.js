"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["43826"],{586887:function(e,r,n){n.r(r),n.d(r,{metadata:()=>o,contentTitle:()=>a,default:()=>h,assets:()=>l,toc:()=>c,frontMatter:()=>s});var o=JSON.parse('{"id":"docs/\u6846\u67B6\u8BBE\u8BA1/\u5168\u9519\u8BEF\u5806\u6808\u8BBE\u8BA1","title":"Error Stack","description":"GoFrame framework\'s strategy and design in error handling, which address common issues of missing error stacks and redundant logs in projects through unified error handling solutions and error components. The whole component of GoFrame framework supports error stack functionality, reducing the cost of troubleshooting and maintenance, and enhancing the stability and usability of projects.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6846\u67B6\u8BBE\u8BA1/\u5168\u9519\u8BEF\u5806\u6808\u8BBE\u8BA1.md","sourceDirName":"docs/\u6846\u67B6\u8BBE\u8BA1","slug":"/docs/design/error-stack","permalink":"/en/docs/design/error-stack","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6846\u67B6\u8BBE\u8BA1/\u5168\u9519\u8BEF\u5806\u6808\u8BBE\u8BA1.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732455643000,"sidebarPosition":5,"frontMatter":{"slug":"/docs/design/error-stack","title":"Error Stack","sidebar_position":5,"hide_title":true,"keywords":["GoFrame","GoFrame framework","error handling","error stack","unified error handling","log staking","error features","stack information","third-party components","error return"],"description":"GoFrame framework\'s strategy and design in error handling, which address common issues of missing error stacks and redundant logs in projects through unified error handling solutions and error components. The whole component of GoFrame framework supports error stack functionality, reducing the cost of troubleshooting and maintenance, and enhancing the stability and usability of projects."},"sidebar":"mainSidebar","previous":{"title":"OpenTelemetry Tracing","permalink":"/en/docs/design/tracing"},"next":{"title":"Interface and Generic","permalink":"/en/docs/design/interface-generic"}}'),t=n("785893"),i=n("250065");let s={slug:"/docs/design/error-stack",title:"Error Stack",sidebar_position:5,hide_title:!0,keywords:["GoFrame","GoFrame framework","error handling","error stack","unified error handling","log staking","error features","stack information","third-party components","error return"],description:"GoFrame framework's strategy and design in error handling, which address common issues of missing error stacks and redundant logs in projects through unified error handling solutions and error components. The whole component of GoFrame framework supports error stack functionality, reducing the cost of troubleshooting and maintenance, and enhancing the stability and usability of projects."},a=void 0,l={},c=[{value:"A. Pain Points of Project Error Handling",id:"a-pain-points-of-project-error-handling",level:2},{value:"1. Lack of a Unified Error Handling Solution, Logs All Over the Code",id:"1-lack-of-a-unified-error-handling-solution-logs-all-over-the-code",level:3},{value:"2. Lack of an Error Stack After a Request Error, Making It Difficult to Quickly Locate Issues",id:"2-lack-of-an-error-stack-after-a-request-error-making-it-difficult-to-quickly-locate-issues",level:3},{value:"3. Error Returns from Third-party Components Lack Stack Information",id:"3-error-returns-from-third-party-components-lack-stack-information",level:3},{value:"4. Diverse Error Components, Projects Tend to Wrap Another Layer",id:"4-diverse-error-components-projects-tend-to-wrap-another-layer",level:3},{value:"B. Full Error Stack Design of the Framework",id:"b-full-error-stack-design-of-the-framework",level:2},{value:"1. Unified Error Component",id:"1-unified-error-component",level:3},{value:"2. Unified Error Handling Solution",id:"2-unified-error-handling-solution",level:3},{value:"3. Full Component Support for Stack Errors",id:"3-full-component-support-for-stack-errors",level:3},{value:"4. Key Components Support Error Stack Printing",id:"4-key-components-support-error-stack-printing",level:3}];function d(e){let r={h2:"h2",h3:"h3",img:"img",p:"p",strong:"strong",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.h2,{id:"a-pain-points-of-project-error-handling",children:"A. Pain Points of Project Error Handling"}),"\n",(0,t.jsx)(r.p,{children:"In business projects, we often encounter the following pain points."}),"\n",(0,t.jsx)(r.h3,{id:"1-lack-of-a-unified-error-handling-solution-logs-all-over-the-code",children:"1. Lack of a Unified Error Handling Solution, Logs All Over the Code"}),"\n",(0,t.jsx)(r.p,{children:"To facilitate problem location when an interface fails, logs are seen everywhere in the code, taken as a matter of course. However, this overwhelming amount of disorganized logs usually increases maintenance workload without achieving its intended purpose."}),"\n",(0,t.jsx)(r.h3,{id:"2-lack-of-an-error-stack-after-a-request-error-making-it-difficult-to-quickly-locate-issues",children:"2. Lack of an Error Stack After a Request Error, Making It Difficult to Quickly Locate Issues"}),"\n",(0,t.jsx)(r.p,{children:"For example, when an 'error'-level mistake occurs at the lower level, only one error message is visible at the top level. How can we troubleshoot this?"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:n(594368).Z+"",width:"3570",height:"758"})}),"\n",(0,t.jsx)(r.p,{children:"A screenshot from a real-world case investigation"}),"\n",(0,t.jsx)(r.h3,{id:"3-error-returns-from-third-party-components-lack-stack-information",children:"3. Error Returns from Third-party Components Lack Stack Information"}),"\n",(0,t.jsx)(r.p,{children:"Not only third-party components, but all methods in the standard library return errors without a stack, posing a significant challenge for unified error handling at the business layer. Almost all errors returned from business layer code calls need to be wrapped again using methods like 'Wrap', so the business layer itself can achieve error stack returns. This maintenance cost is relatively high and almost relies on 'CodeReview' for human assurance, risking missing 'Wrap' handling."}),"\n",(0,t.jsx)(r.h3,{id:"4-diverse-error-components-projects-tend-to-wrap-another-layer",children:"4. Diverse Error Components, Projects Tend to Wrap Another Layer"}),"\n",(0,t.jsx)(r.p,{children:"There are many third-party error handling components. How to choose? Business projects often also wish to wrap another layer, further increasing the maintenance cost of error handling components."}),"\n",(0,t.jsx)(r.h2,{id:"b-full-error-stack-design-of-the-framework",children:"B. Full Error Stack Design of the Framework"}),"\n",(0,t.jsx)(r.h3,{id:"1-unified-error-component",children:"1. Unified Error Component"}),"\n",(0,t.jsx)(r.p,{children:"The 'GoFrame' framework provides the industry's most powerful error handling component, which is also the error component widely used within the framework, reducing the choice cost for business teams."}),"\n",(0,t.jsx)(r.h3,{id:"2-unified-error-handling-solution",children:"2. Unified Error Handling Solution"}),"\n",(0,t.jsx)(r.p,{children:"The 'GoFrame' framework provides powerful engineering design specifications, including a necessary unified error handling solution. Through the unified framework's engineering design, some common pain points have been solved through components and tools, allowing business teams to focus on the business itself, thereby making development work more efficient."}),"\n",(0,t.jsx)(r.p,{children:"Under the unified error handling solution, all method calls in the project take the 'error' return value as the basis for execution success or failure. If 'error' is not 'nil', return quickly and pass it layer by layer upward to handle errors at the top level. Furthermore, the critical components of the framework have already provided default error handling logic."}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:n(419258).Z+"",width:"3072",height:"1576"})}),"\n",(0,t.jsx)(r.h3,{id:"3-full-component-support-for-stack-errors",children:"3. Full Component Support for Stack Errors"}),"\n",(0,t.jsxs)(r.p,{children:["\uD83D\uDD25 The 'GoFrame' framework's error return objects in ",(0,t.jsx)(r.strong,{children:"all basic components"})," include error stacks! \uD83D\uDD25"]}),"\n",(0,t.jsxs)(r.p,{children:["\uD83D\uDD25 The 'GoFrame' framework's error return objects in ",(0,t.jsx)(r.strong,{children:"all basic components"})," include error stacks! \uD83D\uDD25"]}),"\n",(0,t.jsxs)(r.p,{children:["\uD83D\uDD25 The 'GoFrame' framework's error return objects in ",(0,t.jsx)(r.strong,{children:"all basic components"})," include error stacks! \uD83D\uDD25"]}),"\n",(0,t.jsx)(r.p,{children:"\uD83D\uDD25 Repeating important things three times! \uD83D\uDD25"}),"\n",(0,t.jsx)(r.p,{children:"This is a challenging feat because the components provided by the framework can cover almost all the needs of business projects, yet the framework indeed achieved it. Although the framework incurred significant initial costs (a separate version to realize this feature), it's a one-time setup with long-term benefits. This means if business projects use the unified 'GoFrame' basic framework, error handling will be more straightforward, the risk of missing error stacks will be significantly reduced, and projects will be more robust and easier for quick troubleshooting."}),"\n",(0,t.jsx)(r.h3,{id:"4-key-components-support-error-stack-printing",children:"4. Key Components Support Error Stack Printing"}),"\n",(0,t.jsxs)(r.p,{children:["The framework's key components provide ",(0,t.jsx)(r.strong,{children:"default handling"})," for error stack printing to improve usability and simplify the burden on users. These key components are the program's entry points, like 'HTTP/GRPC Server' and 'Command' command lines."]})]})}function h(e={}){let{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},419258:function(e,r,n){n.d(r,{Z:function(){return o}});let o=n.p+"assets/images/0237be84e57c222bd476dad67a883253-a941be83645aaf91c743e5c94f5efd35.png"},594368:function(e,r,n){n.d(r,{Z:function(){return o}});let o=n.p+"assets/images/d0a2ecfa83e3b3107e38a519bacf0f17-c777903d0df81e08ec27159774de1654.png"},250065:function(e,r,n){n.d(r,{Z:function(){return a},a:function(){return s}});var o=n(667294);let t={},i=o.createContext(t);function s(e){let r=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:r},e.children)}}}]);