"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["26265"],{593079:function(e,n,s){s.r(n),s.d(n,{metadata:()=>i,contentTitle:()=>a,default:()=>h,assets:()=>c,toc:()=>d,frontMatter:()=>o});var i=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u5B9E\u7528\u5DE5\u5177/\u552F\u4E00\u6570-guid","title":"Unique Number","description":"Generate high-performance and easy-to-use global unique numbers with the GUID module of the GoFrame framework. The string generated by GUID consists of numbers and lowercase English characters, with a fixed length of 32 bytes. The document details the mechanism of GUID generation, its usage, and its advantages in various scenarios.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/\u5B9E\u7528\u5DE5\u5177/\u552F\u4E00\u6570-guid.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u5B9E\u7528\u5DE5\u5177","slug":"/docs/components/util-guid","permalink":"/en/docs/components/util-guid","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/\u5B9E\u7528\u5DE5\u5177/\u552F\u4E00\u6570-guid.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732451468000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/components/util-guid","title":"Unique Number","sidebar_position":1,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","GUID","Unique Identification","High Performance","Easy to Use","Global Unique Number","Unique Number Generation","Go Language","Development Tool"],"description":"Generate high-performance and easy-to-use global unique numbers with the GUID module of the GoFrame framework. The string generated by GUID consists of numbers and lowercase English characters, with a fixed length of 32 bytes. The document details the mechanism of GUID generation, its usage, and its advantages in various scenarios."},"sidebar":"mainSidebar","previous":{"title":"Random","permalink":"/en/docs/components/util-grand"},"next":{"title":"Metadata","permalink":"/en/docs/components/util-gmeta"}}'),t=s("785893"),r=s("250065");let o={slug:"/docs/components/util-guid",title:"Unique Number",sidebar_position:1,hide_title:!0,keywords:["GoFrame","GoFrame Framework","GUID","Unique Identification","High Performance","Easy to Use","Global Unique Number","Unique Number Generation","Go Language","Development Tool"],description:"Generate high-performance and easy-to-use global unique numbers with the GUID module of the GoFrame framework. The string generated by GUID consists of numbers and lowercase English characters, with a fixed length of 32 bytes. The document details the mechanism of GUID generation, its usage, and its advantages in various scenarios."},a=void 0,c={},d=[{value:"Introduction",id:"introduction",level:3},{value:"Benchmark",id:"benchmark",level:3},{value:"Example 1, Basic Usage",id:"example-1-basic-usage",level:3},{value:"Example 2, Custom Parameters",id:"example-2-custom-parameters",level:3}];function l(e){let n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"guid"})," provides a more convenient and higher performance global unique number generation feature. The generated ",(0,t.jsx)(n.code,{children:"uid"})," string only includes ",(0,t.jsx)(n.strong,{children:"numbers and lowercase English characters"}),"."]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Advantages"}),": High performance, easy to use."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Disadvantages"}),": Limited character range, fixed length of ",(0,t.jsx)(n.code,{children:"32"})," bytes."]}),"\n"]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["The purpose of designing the ",(0,t.jsx)(n.code,{children:"guid"})," module is to provide a more convenient, higher performance unique number generation that can meet the requirements of most business scenarios. The design of ",(0,t.jsx)(n.code,{children:"guid"})," is relatively simple, and details can be found in the implementation source code."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Characters"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-text",children:"Type       Characters\nNumerical  0123456789\nEnglish    abcdefghijklmnopqrstuvwxyz\n"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Usage"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'import "github.com/gogf/gf/v2/util/guid"\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"API Documentation"}),":"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/util/guid",children:"https://pkg.go.dev/github.com/gogf/gf/v2/util/guid"})}),"\n",(0,t.jsx)(n.h3,{id:"introduction",children:"Introduction"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"guid"})," generates a ",(0,t.jsx)(n.code,{children:"32"})," byte unique number through the ",(0,t.jsx)(n.code,{children:"S"})," method, which is defined as follows:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:"func S(data ...[]byte) string\n"})}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"When used without any parameters, the unique number generated by this method will be composed as follows:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"MACHash(7) + PID(4) + TimestampNano(12) + Sequence(3) + RandomString(6)"})}),"\n",(0,t.jsx)(n.p,{children:"Where:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"MAC"})," represents the MAC address hash of the current machine, consisting of ",(0,t.jsx)(n.code,{children:"7"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"PID"})," represents the process ID of the current machine, consisting of ",(0,t.jsx)(n.code,{children:"4"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"TimestampNano"})," represents the current nanosecond timestamp, consisting of ",(0,t.jsx)(n.code,{children:"12"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Sequence"})," represents the concurrent safe sequence number of the current process, consisting of ",(0,t.jsx)(n.code,{children:"3"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RandomString"})," represents a random string, consisting of ",(0,t.jsx)(n.code,{children:"6"})," bytes;"]}),"\n"]}),"\n",(0,t.jsxs)(n.ol,{start:"2",children:["\n",(0,t.jsx)(n.li,{children:"When using any custom parameters, the unique number generated by this method will be composed as follows:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"DataHash(7/14) + TimestampNano(12) + Sequence(3) + RandomString(3/10)"})}),"\n",(0,t.jsx)(n.p,{children:"Main Points:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Data"})," represents custom parameters, with a type of ",(0,t.jsx)(n.code,{children:"[]byte"}),", supporting up to ",(0,t.jsx)(n.code,{children:"2"})," input parameters, consisting of ",(0,t.jsx)(n.code,{children:"7"})," or ",(0,t.jsx)(n.code,{children:"14"})," bytes;"]}),"\n",(0,t.jsx)(n.li,{children:"Note that the input custom parameters need to have some unique identification in the business context, making the generated unique number more valuable;"}),"\n",(0,t.jsxs)(n.li,{children:["Regardless of the length of each ",(0,t.jsx)(n.code,{children:"[]byte"})," parameter, they will eventually generate a ",(0,t.jsx)(n.code,{children:"7"})," byte hash value through a hash method."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"TimestampNano"})," represents the current nanosecond timestamp, consisting of ",(0,t.jsx)(n.code,{children:"12"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"Sequence"})," represents the concurrent safe sequence number of the current process, consisting of ",(0,t.jsx)(n.code,{children:"3"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"RandomString"})," represents a random string, consisting of ",(0,t.jsx)(n.code,{children:"3"})," or ",(0,t.jsx)(n.code,{children:"10"})," bytes, that is:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"1"})," custom parameter is given, the remaining bytes will be filled with random numbers, with a length of ",(0,t.jsx)(n.code,{children:"10"})," bytes;"]}),"\n",(0,t.jsxs)(n.li,{children:["If ",(0,t.jsx)(n.code,{children:"2"})," custom parameters are given, the remaining bytes will be filled with random numbers, with a length of ",(0,t.jsx)(n.code,{children:"3"})," bytes;"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"benchmark",children:"Benchmark"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"goos: darwin\ngoarch: amd64\npkg: github.com/gogf/gf/v2/util/guid\ncpu: Intel(R) Core(TM) i7-9750H CPU @ 2.60GHz\nBenchmark_S\nBenchmark_S-12                2665587           423.8 ns/op\nBenchmark_S_Data_1\nBenchmark_S_Data_1-12         2027568           568.2 ns/op\nBenchmark_S_Data_2\nBenchmark_S_Data_2-12         4352824           275.5 ns/op\nPASS\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-1-basic-usage",children:"Example 1, Basic Usage"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n    "github.com/gogf/gf/v2/util/guid"\n)\n\nfunc main() {\n    fmt.Printf("TraceId: %s", guid.S())\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"After execution, the output will be:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"TraceId: oa9sdw03dk0c35q9bdwcnz42p00trwfr\n"})}),"\n",(0,t.jsx)(n.h3,{id:"example-2-custom-parameters",children:"Example 2, Custom Parameters"}),"\n",(0,t.jsxs)(n.p,{children:["Our ",(0,t.jsx)(n.code,{children:"SessionId"})," generation needs to have good uniqueness and prevent easy collisions, so the following method can be used:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-go",children:'func CreateSessionId(r *ghttp.Request) string {\n    var (\n        address = request.RemoteAddr\n        header  = fmt.Sprintf("%v", request.Header)\n    )\n    return guid.S([]byte(address), []byte(header))\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["As you can see, ",(0,t.jsx)(n.code,{children:"SessionId"})," relies on two custom input parameters ",(0,t.jsx)(n.code,{children:"RemoteAddr"})," and ",(0,t.jsx)(n.code,{children:"Header"})," to generate, and these two parameters have a certain unique identification in the business context. The design of the ",(0,t.jsx)(n.code,{children:"guid.S"})," method ensures that the generated unique number will be extremely random and unique, meeting business needs and ensuring safety."]})]})}function h(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},250065:function(e,n,s){s.d(n,{Z:function(){return a},a:function(){return o}});var i=s(667294);let t={},r=i.createContext(t);function o(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);