"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["75922"],{480483(e,o,n){n.r(o),n.d(o,{metadata:()=>r,default:()=>p,frontMatter:()=>t,contentTitle:()=>a,toc:()=>l,assets:()=>c});var r=JSON.parse('{"id":"docs/\u9879\u76EE\u90E8\u7F72/\u4EE3\u7406\u90E8\u7F72","title":"Deployment - Proxy","description":"Deploy GoFrame applications using Nginx as a reverse proxy front-end access layer. By configuring static file extensions or directories, you can effectively separate static and dynamic requests to improve performance. Configuration examples show how to forward requests to a Golang application for a professional WebServer deployment solution.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u9879\u76EE\u90E8\u7F72/\u4EE3\u7406\u90E8\u7F72.md","sourceDirName":"docs/\u9879\u76EE\u90E8\u7F72","slug":"/docs/deploy/proxy","permalink":"/en/docs/deploy/proxy","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u9879\u76EE\u90E8\u7F72/\u4EE3\u7406\u90E8\u7F72.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732451468000,"sidebarPosition":1,"frontMatter":{"slug":"/docs/deploy/proxy","title":"Deployment - Proxy","sidebar_position":1,"hide_title":true,"keywords":["Proxy Deployment","GoFrame","Reverse Proxy","Nginx","Static Files","Golang Application","WebServer","Dynamic Requests","Load Balancing","Domain Configuration"],"description":"Deploy GoFrame applications using Nginx as a reverse proxy front-end access layer. By configuring static file extensions or directories, you can effectively separate static and dynamic requests to improve performance. Configuration examples show how to forward requests to a Golang application for a professional WebServer deployment solution."},"sidebar":"mainSidebar","previous":{"title":"Deployment - Standalone","permalink":"/en/docs/deploy/standalone"},"next":{"title":"Deployment - Container","permalink":"/en/docs/deploy/container"}}'),i=n(474848),s=n(28453);let t={slug:"/docs/deploy/proxy",title:"Deployment - Proxy",sidebar_position:1,hide_title:!0,keywords:["Proxy Deployment","GoFrame","Reverse Proxy","Nginx","Static Files","Golang Application","WebServer","Dynamic Requests","Load Balancing","Domain Configuration"],description:"Deploy GoFrame applications using Nginx as a reverse proxy front-end access layer. By configuring static file extensions or directories, you can effectively separate static and dynamic requests to improve performance. Configuration examples show how to forward requests to a Golang application for a professional WebServer deployment solution."},a,c={},l=[{value:"<code>Nginx</code>",id:"nginx",level:2},{value:"Static File Suffix",id:"static-file-suffix",level:3},{value:"Static File Directory",id:"static-file-directory",level:3}];function d(e){let o={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(o.p,{children:["Proxy deployment involves placing a layer of third-party ",(0,i.jsx)(o.code,{children:"WebServer"})," server in front to handle all requests, selectively forwarding some requests (often dynamically processed requests) to the backend ",(0,i.jsx)(o.code,{children:"Golang"})," applications for execution. The backend-deployed ",(0,i.jsx)(o.code,{children:"Golang"})," applications can be configured with multiple instances. This approach is commonly used in complex ",(0,i.jsx)(o.code,{children:"WebServer"})," configurations, such as scenarios requiring static file separation, multiple domain and certificate configurations, custom load balancing layers, and more."]}),"\n",(0,i.jsxs)(o.p,{children:["Although ",(0,i.jsx)(o.code,{children:"Golang"})," implemented ",(0,i.jsx)(o.code,{children:"WebServer"})," can handle static files, it is relatively simple and less performant compared to professional ",(0,i.jsx)(o.code,{children:"WebServer"})," like ",(0,i.jsx)(o.code,{children:"nginx"}),"/ ",(0,i.jsx)(o.code,{children:"apache"}),". Therefore, using ",(0,i.jsx)(o.code,{children:"Golang WebServer"})," as the front-end service to directly handle static file requests is not recommended."]}),"\n",(0,i.jsx)(o.h2,{id:"nginx",children:(0,i.jsx)(o.code,{children:"Nginx"})}),"\n",(0,i.jsxs)(o.p,{children:["We recommend using ",(0,i.jsx)(o.code,{children:"Nginx"})," as a reverse proxy front-end access layer, which has two configuration methods for separating static and dynamic requests."]}),"\n",(0,i.jsx)(o.h3,{id:"static-file-suffix",children:"Static File Suffix"}),"\n",(0,i.jsxs)(o.p,{children:["This approach differentiates by file name suffix, delegating specified static files to ",(0,i.jsx)(o.code,{children:"nginx"})," for processing, while other requests are forwarded to the ",(0,i.jsx)(o.code,{children:"golang"})," application. The configuration example is as follows:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-conf",children:"server {\n    listen       80;\n    server_name  goframe.org;\n\n    access_log   /var/log/gf-app-access.log;\n    error_log    /var/log/gf-app-error.log;\n\n    location ~ .*\\.(gif|jpg|jpeg|png|js|css|eot|ttf|woff|svg|otf)$ {\n        access_log off;\n        expires    1d;\n        root       /var/www/gf-app/public;\n        try_files  $uri @backend;\n    }\n\n    location / {\n        try_files $uri @backend;\n    }\n\n    location @backend {\n        proxy_pass                 http://127.0.0.1:8199;\n        proxy_redirect             off;\n        proxy_set_header           Host             $host;\n        proxy_set_header           X-Real-IP        $remote_addr;\n        proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n    }\n}\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Here, ",(0,i.jsx)(o.code,{children:"8199"})," is the local ",(0,i.jsx)(o.code,{children:"golang"})," application ",(0,i.jsx)(o.code,{children:"WebServer"})," listening port."]}),"\n",(0,i.jsxs)(o.p,{children:["For example, under this configuration, you can access the specified static file via ",(0,i.jsx)(o.code,{children:"http://goframe.org/my.png"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"static-file-directory",children:"Static File Directory"}),"\n",(0,i.jsxs)(o.p,{children:["This method distinguishes by file directory, delegating access requests for specified directories to ",(0,i.jsx)(o.code,{children:"nginx"}),", while other requests are forwarded to the ",(0,i.jsx)(o.code,{children:"golang"})," application. The configuration example is as follows:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-conf",children:"server {\n    listen       80;\n    server_name  goframe.org;\n\n    access_log   /var/log/gf-app-access.log;\n    error_log    /var/log/gf-app-error.log;\n\n    location ^~ /public {\n        access_log off;\n        expires    1d;\n        root       /var/www/gf-app;\n        try_files  $uri @backend;\n    }\n\n    location / {\n        try_files $uri @backend;\n    }\n\n    location @backend {\n        proxy_pass                 http://127.0.0.1:8199;\n        proxy_redirect             off;\n        proxy_set_header           Host             $host;\n        proxy_set_header           X-Real-IP        $remote_addr;\n        proxy_set_header           X-Forwarded-For  $proxy_add_x_forwarded_for;\n    }\n}\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Here, ",(0,i.jsx)(o.code,{children:"8199"})," is the local ",(0,i.jsx)(o.code,{children:"golang"})," application ",(0,i.jsx)(o.code,{children:"WebServer"})," listening port."]}),"\n",(0,i.jsxs)(o.p,{children:["For example, under this configuration, you can access static files via ",(0,i.jsx)(o.code,{children:"http://goframe.org/public/my.png"}),"."]})]})}function p(e={}){let{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453(e,o,n){n.d(o,{R:()=>t,x:()=>a});var r=n(296540);let i={},s=r.createContext(i);function t(e){let o=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(s.Provider,{value:o},e.children)}}}]);