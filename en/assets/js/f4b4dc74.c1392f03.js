"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["94262"],{890991:function(e,o,n){n.r(o),n.d(o,{metadata:()=>t,contentTitle:()=>c,default:()=>d,assets:()=>i,toc:()=>l,frontMatter:()=>s});var t=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406","title":"Cron Job - Logging","description":"Log management in the gcron component of the GoFrame framework. gcron supports setting log output files and levels, and by default, logs at the error level. Users can leverage all the features of the logging component through the GoFrame framework. The article provides Go code examples showing how to set and use gcron\'s logging feature.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron","slug":"/docs/components/os-gcron-logging","permalink":"/en/docs/components/os-gcron-logging","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":2,"frontMatter":{"slug":"/docs/components/os-gcron-logging","title":"Cron Job - Logging","sidebar_position":2,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","gcron","Log Management","Scheduled Task","Log Component","Log Output","Log Level","GoFrame Log","glog"],"description":"Log management in the gcron component of the GoFrame framework. gcron supports setting log output files and levels, and by default, logs at the error level. Users can leverage all the features of the logging component through the GoFrame framework. The article provides Go code examples showing how to set and use gcron\'s logging feature."},"sidebar":"mainSidebar","previous":{"title":"Cron Job - Usage","permalink":"/en/docs/components/os-gcron-example"},"next":{"title":"Cron Job","permalink":"/en/docs/components/os-gcron-differ-with-gtimer"}}'),r=n("785893"),g=n("250065");let s={slug:"/docs/components/os-gcron-logging",title:"Cron Job - Logging",sidebar_position:2,hide_title:!0,keywords:["GoFrame","GoFrame Framework","gcron","Log Management","Scheduled Task","Log Component","Log Output","Log Level","GoFrame Log","glog"],description:"Log management in the gcron component of the GoFrame framework. gcron supports setting log output files and levels, and by default, logs at the error level. Users can leverage all the features of the logging component through the GoFrame framework. The article provides Go code examples showing how to set and use gcron's logging feature."},c=void 0,i={},l=[];function a(e){let o={a:"a",admonition:"admonition",code:"code",img:"img",p:"p",pre:"pre",...(0,g.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o.p,{children:[(0,r.jsx)(o.code,{children:"gcron"})," supports logging functionality, allowing the setting of log output files and levels. By default, it only outputs logs at the ",(0,r.jsx)(o.code,{children:"LEVEL_WARN | LEVEL_ERRO | LEVEL_CRIT"})," error levels (including scheduled task exceptions), with runtime logs recorded at the ",(0,r.jsx)(o.code,{children:"LEVEL_DEBUG"})," level, which are not recorded by default. The ",(0,r.jsx)(o.code,{children:"gcron"})," component uses the unified logging component of the ",(0,r.jsx)(o.code,{children:"goframe"})," framework, allowing reuse of all the logging component features. Relevant methods:"]}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-go",children:"func SetLogger(logger glog.ILogger)\nfunc GetLogger() glog.ILogger\n"})}),"\n",(0,r.jsx)(o.admonition,{type:"tip",children:(0,r.jsxs)(o.p,{children:["For logging component features, please refer to the ",(0,r.jsx)(o.a,{href:"/en/docs/core/glog",children:"Logging"})," section."]})}),"\n",(0,r.jsx)(o.p,{children:"Usage example:"}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "github.com/gogf/gf/v2/os/glog"\n    "time"\n)\n\nfunc main() {\n    var (\n        err    error\n        ctx    = gctx.New()\n        logger = glog.New()\n    )\n    logger.SetLevel(glog.LEVEL_ALL)\n    gcron.SetLogger(logger)\n    _, err = gcron.Add(ctx, "* * * * * ?", func(ctx context.Context) {\n        g.Log().Info(ctx, "test")\n    })\n    if err != nil {\n        panic(err)\n    }\n    time.Sleep(3 * time.Second)\n}\n'})}),"\n",(0,r.jsx)(o.p,{children:"After execution, the terminal output is:"}),"\n",(0,r.jsx)(o.p,{children:(0,r.jsx)(o.img,{src:n(975272).Z+"",width:"2126",height:"418"})})]})}function d(e={}){let{wrapper:o}={...(0,g.a)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},975272:function(e,o,n){n.d(o,{Z:function(){return t}});let t=n.p+"assets/images/673cee2f61375b3979a03c30934fd8d8-8341cbf2382ef0237be8c41f7135e798.png"},250065:function(e,o,n){n.d(o,{Z:function(){return c},a:function(){return s}});var t=n(667294);let r={},g=t.createContext(r);function s(e){let o=t.useContext(g);return t.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(g.Provider,{value:o},e.children)}}}]);