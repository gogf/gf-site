"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["46796"],{283824(e,n,i){i.r(n),i.d(n,{metadata:()=>r,default:()=>h,frontMatter:()=>t,contentTitle:()=>o,toc:()=>d,assets:()=>c});var r=JSON.parse('{"id":"examples/observability/trace/provider/provider","title":"OpenTelemetry Provider Examples","description":"Examples demonstrating different OpenTelemetry trace provider configurations in GoFrame","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/examples/observability/trace/provider/provider.md","sourceDirName":"examples/observability/trace/provider","slug":"/examples/observability/trace/provider","permalink":"/en/examples/observability/trace/provider","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/examples/observability/trace/provider/provider.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1740107000000,"frontMatter":{"title":"OpenTelemetry Provider Examples","slug":"/examples/observability/trace/provider","keywords":["trace","provider","grpc","http","goframe"],"description":"Examples demonstrating different OpenTelemetry trace provider configurations in GoFrame","hide_title":true},"sidebar":"examplesSidebar","previous":{"title":"Multi-Process Example","permalink":"/en/examples/observability/trace/processes"},"next":{"title":"Load Balancer","permalink":"/en/examples/balancer"}}'),l=i(474848),s=i(28453);let t={title:"OpenTelemetry Provider Examples",slug:"/examples/observability/trace/provider",keywords:["trace","provider","grpc","http","goframe"],description:"Examples demonstrating different OpenTelemetry trace provider configurations in GoFrame",hide_title:!0},o="OpenTelemetry Provider Examples",c={},d=[{value:"Description",id:"description",level:2},{value:"Directory Structure",id:"directory-structure",level:2},{value:"Requirements",id:"requirements",level:2},{value:"Features",id:"features",level:2},{value:"Comparison of Providers",id:"comparison-of-providers",level:2},{value:"gRPC Provider (grpc/)",id:"grpc-provider-grpc",level:3},{value:"HTTP Provider (http/)",id:"http-provider-http",level:3},{value:"Usage",id:"usage",level:2},{value:"gRPC Provider Example",id:"grpc-provider-example",level:3},{value:"HTTP Provider Example",id:"http-provider-example",level:3},{value:"Implementation Details",id:"implementation-details",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2}];function a(e){let n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"opentelemetry-provider-examples",children:"OpenTelemetry Provider Examples"})}),"\n",(0,l.jsxs)(n.p,{children:["Github Source: ",(0,l.jsx)(n.a,{href:"https://github.com/gogf/examples/tree/main/observability/trace/provider",children:"https://github.com/gogf/examples/tree/main/observability/trace/provider"})]}),"\n",(0,l.jsx)(n.h2,{id:"description",children:"Description"}),"\n",(0,l.jsx)(n.p,{children:"This directory contains examples demonstrating different OpenTelemetry trace provider configurations in GoFrame applications. It includes:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["gRPC Provider (",(0,l.jsx)(n.code,{children:"grpc/"}),")"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Uses gRPC protocol for trace data transmission"}),"\n",(0,l.jsx)(n.li,{children:"Configures trace provider with gRPC exporter"}),"\n",(0,l.jsx)(n.li,{children:"Demonstrates resource and sampler configuration"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["HTTP Provider (",(0,l.jsx)(n.code,{children:"http/"}),")"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Uses HTTP protocol for trace data transmission"}),"\n",(0,l.jsx)(n.li,{children:"Configures trace provider with HTTP exporter"}),"\n",(0,l.jsx)(n.li,{children:"Shows resource and sampler configuration"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Internal Components (",(0,l.jsx)(n.code,{children:"internal/"}),")"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Common provider initialization code"}),"\n",(0,l.jsx)(n.li,{children:"Shared constants and configurations"}),"\n",(0,l.jsx)(n.li,{children:"Utility functions for tracing setup"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"directory-structure",children:"Directory Structure"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{children:".\n\u251C\u2500\u2500 grpc/           # gRPC provider example\n\u2502   \u2514\u2500\u2500 main.go     # gRPC provider implementation\n\u251C\u2500\u2500 http/           # HTTP provider example\n\u2502   \u2514\u2500\u2500 main.go     # HTTP provider implementation\n\u251C\u2500\u2500 internal/       # Shared components\n\u2502   \u251C\u2500\u2500 consts.go   # Constants definition\n\u2502   \u251C\u2500\u2500 provider.go # Provider initialization\n\u2502   \u2514\u2500\u2500 request.go  # Request utilities\n\u251C\u2500\u2500 go.mod          # Go module file\n\u2514\u2500\u2500 go.sum          # Go module checksums\n"})}),"\n",(0,l.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://golang.org/dl/",children:"Go"})," ",(0,l.jsx)(n.code,{children:"1.22"})," or higher"]}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://git-scm.com/downloads",children:"Git"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://goframe.org",children:"GoFrame"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"https://opentelemetry.io",children:"OpenTelemetry"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,l.jsx)(n.p,{children:"The examples showcase the following features:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Provider Configuration"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Resource configuration"}),"\n",(0,l.jsx)(n.li,{children:"Sampler configuration"}),"\n",(0,l.jsx)(n.li,{children:"Exporter setup"}),"\n",(0,l.jsx)(n.li,{children:"Context propagation"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Resource Attributes"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Service name"}),"\n",(0,l.jsx)(n.li,{children:"Host information"}),"\n",(0,l.jsx)(n.li,{children:"Process details"}),"\n",(0,l.jsx)(n.li,{children:"Custom attributes"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Sampling Strategies"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Always sample"}),"\n",(0,l.jsx)(n.li,{children:"Never sample"}),"\n",(0,l.jsx)(n.li,{children:"Parent-based sampling"}),"\n",(0,l.jsx)(n.li,{children:"Trace ID ratio based sampling"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Span Processing"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Simple span processor"}),"\n",(0,l.jsx)(n.li,{children:"Batch span processor"}),"\n",(0,l.jsx)(n.li,{children:"Span limits configuration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"comparison-of-providers",children:"Comparison of Providers"}),"\n",(0,l.jsx)(n.h3,{id:"grpc-provider-grpc",children:"gRPC Provider (grpc/)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Features:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High-performance streaming"}),"\n",(0,l.jsx)(n.li,{children:"Bidirectional communication"}),"\n",(0,l.jsx)(n.li,{children:"Connection multiplexing"}),"\n",(0,l.jsx)(n.li,{children:"Compression support"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Configuration:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"gRPC endpoint"}),"\n",(0,l.jsx)(n.li,{children:"Authentication headers"}),"\n",(0,l.jsx)(n.li,{children:"Compression options"}),"\n",(0,l.jsx)(n.li,{children:"Connection security"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Use Cases:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"High-volume tracing"}),"\n",(0,l.jsx)(n.li,{children:"Performance-critical systems"}),"\n",(0,l.jsx)(n.li,{children:"Streaming trace data"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"http-provider-http",children:"HTTP Provider (http/)"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Features:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Standard HTTP protocol"}),"\n",(0,l.jsx)(n.li,{children:"Simple configuration"}),"\n",(0,l.jsx)(n.li,{children:"Firewall friendly"}),"\n",(0,l.jsx)(n.li,{children:"Compression support"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Configuration:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"HTTP endpoint"}),"\n",(0,l.jsx)(n.li,{children:"URL path"}),"\n",(0,l.jsx)(n.li,{children:"Headers configuration"}),"\n",(0,l.jsx)(n.li,{children:"Compression level"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Use Cases:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Basic tracing needs"}),"\n",(0,l.jsx)(n.li,{children:"HTTP proxy environments"}),"\n",(0,l.jsx)(n.li,{children:"Simple deployment"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.h3,{id:"grpc-provider-example",children:"gRPC Provider Example"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Navigate to gRPC example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd grpc\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Run the example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go run main.go\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"http-provider-example",children:"HTTP Provider Example"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Navigate to HTTP example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"cd http\n"})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Run the example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"go run main.go\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"implementation-details",children:"Implementation Details"}),"\n",(0,l.jsx)(n.p,{children:"Both examples demonstrate:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Provider Setup"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Resource configuration"}),"\n",(0,l.jsx)(n.li,{children:"Sampler configuration"}),"\n",(0,l.jsx)(n.li,{children:"Exporter initialization"}),"\n",(0,l.jsx)(n.li,{children:"Context management"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Resource Configuration"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Service identification"}),"\n",(0,l.jsx)(n.li,{children:"Host information"}),"\n",(0,l.jsx)(n.li,{children:"Process attributes"}),"\n",(0,l.jsx)(n.li,{children:"Custom tags"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Sampling Configuration"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Sampling strategy selection"}),"\n",(0,l.jsx)(n.li,{children:"Sampling rate configuration"}),"\n",(0,l.jsx)(n.li,{children:"Parent context handling"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Error Handling"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Connection errors"}),"\n",(0,l.jsx)(n.li,{children:"Export errors"}),"\n",(0,l.jsx)(n.li,{children:"Shutdown handling"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Provider Issues:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check endpoint configuration"}),"\n",(0,l.jsx)(n.li,{children:"Verify authentication settings"}),"\n",(0,l.jsx)(n.li,{children:"Review connection errors"}),"\n",(0,l.jsx)(n.li,{children:"Check compression settings"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Resource Issues:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Verify service name"}),"\n",(0,l.jsx)(n.li,{children:"Check host information"}),"\n",(0,l.jsx)(n.li,{children:"Review attribute values"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Sampling Issues:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check sampling strategy"}),"\n",(0,l.jsx)(n.li,{children:"Verify sampling rate"}),"\n",(0,l.jsx)(n.li,{children:"Review parent context"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"General Issues:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Check network connectivity"}),"\n",(0,l.jsx)(n.li,{children:"Verify dependencies"}),"\n",(0,l.jsx)(n.li,{children:"Review error logs"}),"\n"]}),"\n"]}),"\n"]})]})}function h(e={}){let{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>t,x:()=>o});var r=i(296540);let l={},s=r.createContext(l);function t(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);