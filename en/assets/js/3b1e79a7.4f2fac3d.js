"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["42186"],{976424:function(n,e,r){r.r(e),r.d(e,{metadata:()=>c,contentTitle:()=>d,default:()=>x,assets:()=>l,toc:()=>a,frontMatter:()=>o});var c=JSON.parse('{"id":"\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","title":"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","description":"\u57FA\u672C\u4F7F\u7528","source":"@site/versioned_docs/version-2.3.x/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528.md","sourceDirName":"\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron","slug":"/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","permalink":"/en/2.3.x/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-2.3.x/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528.md","tags":[],"version":"2.3.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":1,"frontMatter":{"title":"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528","sidebar_position":1,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"\u5B9A\u65F6\u4EFB\u52A1-\u8868\u8FBE\u5F0F","permalink":"/en/2.3.x/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u8868\u8FBE\u5F0F"},"next":{"title":"\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406","permalink":"/en/2.3.x/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-\u65E5\u5FD7\u7BA1\u7406"}}'),t=r("785893"),i=r("250065");let o={title:"\u5B9A\u65F6\u4EFB\u52A1-\u57FA\u672C\u4F7F\u7528",sidebar_position:1,hide_title:!0},d=void 0,l={},a=[{value:"\u57FA\u672C\u4F7F\u7528",id:"\u57FA\u672C\u4F7F\u7528",level:2},{value:"\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",id:"\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",id:"\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",id:"\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",level:2},{value:"\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F",id:"\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F",level:2},{value:"\u4EFB\u52A1\u641C\u7D22",id:"\u4EFB\u52A1\u641C\u7D22",level:2},{value:"\u4EFB\u52A1\u505C\u6B62",id:"\u4EFB\u52A1\u505C\u6B62",level:2},{value:"\u4EFB\u52A1\u505C\u6B62\u5E76\u5220\u9664",id:"\u4EFB\u52A1\u505C\u6B62\u5E76\u5220\u9664",level:2},{value:"\u4EFB\u52A1\u542F\u52A8",id:"\u4EFB\u52A1\u542F\u52A8",level:2}];function s(n){let e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.a)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h2,{id:"\u57FA\u672C\u4F7F\u7528",children:"\u57FA\u672C\u4F7F\u7528"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        err error\n        ctx = gctx.New()\n    )\n    _, err = gcron.Add(ctx, "* * * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every second")\n    }, "MySecondCronJob")\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "0 30 * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour on the half hour")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "@hourly", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    _, err = gcron.Add(ctx, "@every 1h30m", func(ctx context.Context) {\n        g.Log().Print(ctx, "Every hour thirty")\n    })\n    if err != nil {\n        panic(err)\n    }\n\n    g.Dump(gcron.Entries())\n\n    time.Sleep(3 * time.Second)\n\n    g.Log().Print(ctx, `stop cronjob "MySecondCronJob"`)\n    gcron.Stop("MySecondCronJob")\n\n    time.Sleep(3 * time.Second)\n\n    g.Log().Print(ctx, `start cronjob "MySecondCronJob"`)\n    gcron.Start("MySecondCronJob")\n\n    time.Sleep(3 * time.Second)\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:'[\n    {\n        Name: "MySecondCronJob",\n        Job:  0x14077e0,\n        Time: "2021-11-14 12:13:53.445132 +0800 CST m=+0.006167069",\n    },\n    {\n        Name: "cron-1",\n        Job:  0x14078a0,\n        Time: "2021-11-14 12:13:53.44515 +0800 CST m=+0.006185688",\n    },\n    {\n        Name: "cron-2",\n        Job:  0x1407960,\n        Time: "2021-11-14 12:13:53.445161 +0800 CST m=+0.006196483",\n    },\n    {\n        Name: "cron-3",\n        Job:  0x1407a20,\n        Time: "2021-11-14 12:13:53.445218 +0800 CST m=+0.006252937",\n    },\n]\n2021-11-14 12:13:54.442 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:55.441 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:56.440 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:13:56.445 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} stop cronjob "MySecondCronJob"\n2021-11-14 12:13:59.445 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} start cronjob "MySecondCronJob"\n2021-11-14 12:14:00.443 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:14:01.442 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n2021-11-14 12:14:02.443 {189cwi9ngk0cfp7l8gcwciw100sr9cuu} Every second\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1",children:"\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1"}),"\n",(0,t.jsxs)(e.p,{children:["\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5373\u540C\u65F6\u53EA\u80FD\u6709\u4E00\u4E2A\u8BE5\u4EFB\u52A1\u6B63\u5728\u8FD0\u884C\u3002\u5F53\u7B2C\u4E8C\u4E2A\u76F8\u540C\u7684\u5B9A\u65F6\u4EFB\u52A1\u89E6\u53D1\u6267\u884C\u65F6\uFF0C\u5982\u679C\u53D1\u73B0\u5DF2\u6709\u8BE5\u4EFB\u52A1\u6B63\u5728\u6267\u884C\uFF0C\u7B2C\u4E8C\u4E2A\u4EFB\u52A1\u5C06\u4F1A\u9000\u51FA\u4E0D\u6267\u884C\uFF0C\u5B9A\u65F6\u5668\u5C06\u4F1A\u7EE7\u7EED\u7B49\u5F85\u4E0B\u4E00\u6B21\u5B9A\u65F6\u4EFB\u52A1\u7684\u89E6\u53D1\u68C0\u6D4B\uFF0C\u4EE5\u6B64\u7C7B\u63A8\u3002\u53EF\u4EE5\u4F7F\u7528 ",(0,t.jsx)(e.code,{children:"AddSingleton"})," \u6DFB\u52A0\u5355\u4F8B\u5B9A\u65F6\u4EFB\u52A1\u3002"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "context"\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/os/gcron"\n    "github.com/gogf/gf/v2/os/gctx"\n    "time"\n)\n\nfunc main() {\n    var (\n        err error\n        ctx = gctx.New()\n    )\n    _, err = gcron.AddSingleton(ctx, "* * * * * *", func(ctx context.Context) {\n        g.Log().Print(ctx, "doing")\n        time.Sleep(2 * time.Second)\n    })\n    if err != nil {\n        panic(err)\n    }\n    select {}\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-html",children:"2021-11-14 12:16:54.073 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:16:57.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:00.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:03.071 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:06.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n2021-11-14 12:17:09.072 {189cwi9nmm0cfp7niz319fc100zrw0ig} doing\n...\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1",children:"\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1"}),"\n",(0,t.jsxs)(e.p,{children:["\u5355\u6B21\u5B9A\u65F6\u4EFB\u52A1\uFF0C ",(0,t.jsx)(e.code,{children:"AddOnce"})," \u65B9\u6CD5\u7528\u4E8E\u6DFB\u52A0\u53EA\u8FD0\u884C\u4E00\u6B21\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5F53\u8FD0\u884C\u4E00\u6B21\u6570\u540E\u8BE5\u5B9A\u65F6\u4EFB\u52A1\u81EA\u52A8\u9500\u6BC1\uFF0C",(0,t.jsx)(e.code,{children:"Size"})," \u65B9\u6CD5\u53EF\u4EE5\u67E5\u770B\u8FD0\u884C\u72B6\u6001\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main()  {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddOnce(ctx, "@every 2s", func(ctx context.Context) {\n        array.Append(1)\n    })\n    fmt.Println(cron.Size(),array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(),array.Len())\n\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1 0\n0 1\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1",children:"\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1"}),"\n",(0,t.jsxs)(e.p,{children:["\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C ",(0,t.jsx)(e.code,{children:"AddTimes"})," \u65B9\u6CD5\u7528\u4E8E\u6DFB\u52A0\u8FD0\u884C\u6307\u5B9A\u6B21\u6570\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u5F53\u8FD0\u884C ",(0,t.jsx)(e.code,{children:"times"})," \u6B21\u6570\u540E\u8BE5\u5B9A\u65F6\u4EFB\u52A1\u81EA\u52A8\u9500\u6BC1\uFF0C ",(0,t.jsx)(e.code,{children:"Size"})," \u65B9\u6CD5\u53EF\u4EE5\u67E5\u770B\u8FD0\u884C\u72B6\u6001\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 2,func(ctx context.Context) {\n        array.Append(1)\n    })\n     fmt.Println(cron.Size(), array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(), array.Len())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(cron.Size(), array.Len())\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"1 0\n1 1\n0 2\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F",children:"\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F"}),"\n",(0,t.jsxs)(e.p,{children:["\u83B7\u53D6\u6240\u6709\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F\uFF0C ",(0,t.jsx)(e.code,{children:"Entries"})," \u65B9\u6CD5\u7528\u4E8E\u83B7\u53D6\u5F53\u524D\u6240\u6709\u5DF2\u6CE8\u518C\u7684\u5B9A\u65F6\u4EFB\u52A1\u4FE1\u606F\uFF0C\u4EE5\u5207\u7247\u7684\u5F62\u5F0F\u8FD4\u56DE\uFF08\u6309\u6CE8\u518C\u65F6\u95F4 ",(0,t.jsx)(e.code,{children:"asc"})," \u6392\u5E8F\uFF09\uFF0C\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 1s", 2,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 1s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    entries    :=    cron.Entries()\n    for  k, v := range entries{\n        fmt.Println(k,v.Name,v.Time)\n\n    }\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len())\n\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"0 cron2 2022-02-09 10:11:47.2421345 +0800 CST m=+0.159116501\n1 cron1 2022-02-09 10:11:47.2421345 +0800 CST m=+0.159116501\n3\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u4EFB\u52A1\u641C\u7D22",children:"\u4EFB\u52A1\u641C\u7D22"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Search"})," \u641C\u7D22\u8FD4\u56DE\u5177\u6709\u6307\u5B9A\u201C\u540D\u79F0\u201D\u7684\u8BA1\u5212\u4EFB\u52A1\u3002(\u8FD4\u56DE\u5B9A\u65F6\u4EFB\u52A1 ",(0,t.jsx)(e.code,{children:"*Entry"})," \u5BF9\u8C61\u6307\u9488)\uFF0C\u5982\u679C\u627E\u4E0D\u5230\uFF0C\u5219\u8FD4\u56DEnil\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 1s", 2,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 1s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    search    :=    cron.Search("cron2")\n\n    g.Log().Print(ctx, search)\n\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len())\n\n    // Output:\n    // 3\n}\n\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-html",children:'2022-02-09 10:52:30.011 {18a909957cfed11680c1b145da1ef096} {"Name":"cron2","Time":"2022-02-09T10:52:29.9972842+08:00"}\n'})}),"\n",(0,t.jsx)(e.h2,{id:"\u4EFB\u52A1\u505C\u6B62",children:"\u4EFB\u52A1\u505C\u6B62"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Stop"})," \u65B9\u6CD5\u7528\u4E8E\u505C\u6B62\u5B9A\u65F6\u4EFB\u52A1( ",(0,t.jsx)(e.code,{children:"Stop"}),"\u4F1A\u505C\u6B62\u4F46\u4E0D\u4F1A\u5220\u9664), \u53EF\u901A\u8FC7 ",(0,t.jsx)(e.code,{children:"name"})," \u53C2\u6570\u6307\u5B9A\u9700\u8981\u505C\u6B62\u7684\u4EFB\u52A1\u540D\u79F0\uFF0C\u5982\u679C\u6CA1\u6709\u6307\u5B9A ",(0,t.jsx)(e.code,{children:"name"}),"\uFF0C\u5B83\u5C06\u505C\u6B62\u6574\u4E2A ",(0,t.jsx)(e.code,{children:"cron"}),"\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 1,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    fmt.Println(array.Len(),cron.Size())\n    cron.Stop("cron2")\n    fmt.Println(array.Len(),cron.Size())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n\n    // Output:\n    // 1\n    // 1\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"0 2\n0 2\n1 1\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u4EFB\u52A1\u505C\u6B62\u5E76\u5220\u9664",children:"\u4EFB\u52A1\u505C\u6B62\u5E76\u5220\u9664"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Remove"})," \u65B9\u6CD5\u7528\u4E8E\u6839\u636E\u540D\u79F0 ",(0,t.jsx)(e.code,{children:"name"})," \u5220\u9664\u5B9A\u65F6\u4EFB\u52A1(\u505C\u6B62\u5E76\u5220\u9664)\uFF1B\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddTimes(ctx, "@every 2s", 1,func(ctx context.Context) {\n        array.Append(1)\n    },"cron1")\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    fmt.Println(array.Len(),cron.Size())\n    cron.Remove("cron2")\n    fmt.Println(array.Len(),cron.Size())\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n    // Output:\n    // 0 2\n    // 0 1\n    // 1 0\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"0 2\n0 1\n1 0\n"})}),"\n",(0,t.jsx)(e.h2,{id:"\u4EFB\u52A1\u542F\u52A8",children:"\u4EFB\u52A1\u542F\u52A8"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"Start"})," \u65B9\u6CD5\u7528\u4E8E\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1( ",(0,t.jsx)(e.code,{children:"Add"})," \u540E\u81EA\u52A8\u542F\u52A8\u5B9A\u65F6\u4EFB\u52A1), \u53EF\u901A\u8FC7 ",(0,t.jsx)(e.code,{children:"name"})," \u53C2\u6570\u6307\u5B9A\u9700\u8981\u542F\u52A8\u7684\u4EFB\u52A1\u540D\u79F0\u3002\u5982\u679C\u6CA1\u6709\u6307\u5B9A ",(0,t.jsx)(e.code,{children:"name"}),"\uFF0C\u5B83\u5C06\u542F\u52A8\u6574\u4E2A ",(0,t.jsx)(e.code,{children:"cron"}),"\u3002\u76F8\u5173\u65B9\u6CD5\uFF1A"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-go",children:'func main() {\n    var (\n        ctx = gctx.New()\n    )\n    cron := gcron.New()\n    array := garray.New(true)\n    cron.AddOnce(ctx, "@every 2s",func(ctx context.Context) {\n        array.Append(1)\n    },"cron2")\n    cron.Stop("cron2")\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n    cron.Start("cron2")\n    time.Sleep(3000 * time.Millisecond)\n    fmt.Println(array.Len(),cron.Size())\n\n    // Output:\n    // 0 1\n    // 1 0\n}\n'})}),"\n",(0,t.jsx)(e.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{children:"0 1\n1 0\n"})})]})}function x(n={}){let{wrapper:e}={...(0,i.a)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(s,{...n})}):s(n)}},250065:function(n,e,r){r.d(e,{Z:function(){return d},a:function(){return o}});var c=r(667294);let t={},i=c.createContext(t);function o(n){let e=c.useContext(i);return c.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:o(n.components),c.createElement(i.Provider,{value:e},n.children)}}}]);