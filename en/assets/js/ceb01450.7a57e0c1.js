"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["37798"],{115747(e,n,i){i.r(n),i.d(n,{metadata:()=>s,default:()=>h,frontMatter:()=>l,contentTitle:()=>o,toc:()=>c,assets:()=>t});var s=JSON.parse('{"id":"release/golang/go1.16","title":"Go 1.16 (2021-02-16)","description":"Go 1.16 was released in February 2021, introducing file embedding (embed) support and enabling Go Modules by default.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release/golang/go1.16.md","sourceDirName":"release/golang","slug":"/release/golang/go1.16","permalink":"/en/release/golang/go1.16","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/release/golang/go1.16.md","tags":[],"version":"current","lastUpdatedBy":"hailaz","lastUpdatedAt":1765275924000,"sidebarPosition":184,"frontMatter":{"title":"Go 1.16 (2021-02-16)","sidebar_position":184},"sidebar":"releaseSidebar","previous":{"title":"Go 1.17 (2021-08-16)","permalink":"/en/release/golang/go1.17"},"next":{"title":"Go 1.15 (2020-08-11)","permalink":"/en/release/golang/go1.15"}}'),d=i(474848),r=i(28453);let l={title:"Go 1.16 (2021-02-16)",sidebar_position:184},o,t={},c=[{value:"Major Changes",id:"major-changes",level:2},{value:"Toolchain",id:"toolchain",level:3},{value:"Runtime",id:"runtime",level:3},{value:"Standard Library",id:"standard-library",level:3},{value:"References",id:"references",level:2}];function a(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(n.p,{children:["Go 1.16 was released in February 2021, introducing file embedding (",(0,d.jsx)(n.code,{children:"embed"}),") support and enabling Go Modules by default."]}),"\n",(0,d.jsx)(n.h2,{id:"major-changes",children:"Major Changes"}),"\n",(0,d.jsx)(n.h3,{id:"toolchain",children:"Toolchain"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Go Modules Enabled by Default"}),": The default value of the ",(0,d.jsx)(n.code,{children:"GO111MODULE"})," environment variable is now ",(0,d.jsx)(n.code,{children:"on"}),". The Go command now runs in Module mode by default, regardless of whether the current directory contains a ",(0,d.jsx)(n.code,{children:"go.mod"})," file."]}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["The ",(0,d.jsx)(n.code,{children:"go install"})," command now supports the ",(0,d.jsx)(n.code,{children:"pkg@version"})," syntax for installing executables of a specific version without affecting the dependencies of the current project. For example: ",(0,d.jsx)(n.code,{children:"go install golang.org/x/tools/gopls@latest"}),"."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"go build"})," and ",(0,d.jsx)(n.code,{children:"go test"})," no longer automatically modify ",(0,d.jsx)(n.code,{children:"go.mod"})," and ",(0,d.jsx)(n.code,{children:"go.sum"}),". If dependencies need to be updated, ",(0,d.jsx)(n.code,{children:"go mod tidy"})," or ",(0,d.jsx)(n.code,{children:"go get"})," must be run explicitly."]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Embedding Static Files (Embed)"}),": Introduced the ",(0,d.jsx)(n.code,{children:"//go:embed"})," directive, allowing static files (such as HTML, CSS, images, etc.) to be directly embedded into the compiled Go binary."]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "embed"\n    "fmt"\n)\n\n//go:embed hello.txt\nvar f embed.FS\n\nfunc main() {\n    data, _ := f.ReadFile("hello.txt")\n    fmt.Print(string(data))\n}\n'})}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"Linker Optimization"}),": Linker speed improved by 20-25%, and memory usage reduced by 5-15%."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"go build -overlay"})}),": Supports the ",(0,d.jsx)(n.code,{children:"-overlay"})," flag, mainly for editor tools (such as gopls)."]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"go vet"})}),": Added checks for incorrect use of ",(0,d.jsx)(n.code,{children:"testing.T"})," in ",(0,d.jsx)(n.code,{children:"goroutines"}),"."]}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"runtime",children:"Runtime"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Apple Silicon (M1) Support"}),": Added ",(0,d.jsx)(n.code,{children:"darwin/arm64"})," port, officially supporting running Go programs natively on Macs with Apple Silicon (M1) chips."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"runtime/metrics"})}),": Added a new package providing a more stable and general interface for reading runtime metrics."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"GODEBUG=inittrace=1"})}),": Setting this environment variable traces the execution time and memory allocation of ",(0,d.jsx)(n.code,{children:"init"})," functions, helping to analyze startup performance."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:"Linux Memory Release"}),": On Linux, the runtime now defaults to using ",(0,d.jsx)(n.code,{children:"MADV_DONTNEED"})," to quickly release memory to the operating system, instead of ",(0,d.jsx)(n.code,{children:"MADV_FREE"}),"."]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"standard-library",children:"Standard Library"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"io/fs"})}),": Introduced the ",(0,d.jsx)(n.code,{children:"fs.FS"})," interface, defining an abstraction for read-only file systems. Many packages in the standard library (such as ",(0,d.jsx)(n.code,{children:"net/http"}),", ",(0,d.jsx)(n.code,{children:"html/template"}),") have been adapted to this interface."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"embed"})}),": Added the ",(0,d.jsx)(n.code,{children:"embed"})," standard library package, providing methods to access embedded files."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsxs)(n.strong,{children:[(0,d.jsx)(n.code,{children:"io/ioutil"})," Deprecation"]}),": The ",(0,d.jsx)(n.code,{children:"io/ioutil"})," package is marked as deprecated (although still usable, migration is recommended). Its functionality has been moved to the ",(0,d.jsx)(n.code,{children:"io"})," and ",(0,d.jsx)(n.code,{children:"os"})," packages:","\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.Discard"})," -> ",(0,d.jsx)(n.code,{children:"io.Discard"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.NopCloser"})," -> ",(0,d.jsx)(n.code,{children:"io.NopCloser"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.ReadAll"})," -> ",(0,d.jsx)(n.code,{children:"io.ReadAll"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.ReadDir"})," -> ",(0,d.jsx)(n.code,{children:"os.ReadDir"})," (returns ",(0,d.jsx)(n.code,{children:"os.DirEntry"})," slice)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.ReadFile"})," -> ",(0,d.jsx)(n.code,{children:"os.ReadFile"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.WriteFile"})," -> ",(0,d.jsx)(n.code,{children:"os.WriteFile"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.TempDir"})," -> ",(0,d.jsx)(n.code,{children:"os.MkdirTemp"})]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"ioutil.TempFile"})," -> ",(0,d.jsx)(n.code,{children:"os.CreateTemp"})]}),"\n"]}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"os/signal"})}),": Added ",(0,d.jsx)(n.code,{children:"NotifyContext"})," function, creating a Context that is canceled when a signal is received."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"path/filepath"})}),": Added ",(0,d.jsx)(n.code,{children:"WalkDir"})," function, which is more efficient than ",(0,d.jsx)(n.code,{children:"Walk"})," (avoids calling ",(0,d.jsx)(n.code,{children:"os.Lstat"})," for every file)."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"net/http"})}),": Adjusted default behavior for ",(0,d.jsx)(n.code,{children:"SameSite"})," cookie attribute."]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.strong,{children:(0,d.jsx)(n.code,{children:"strconv"})}),": ",(0,d.jsx)(n.code,{children:"ParseFloat"})," uses the faster Eisel-Lemire algorithm."]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,d.jsxs)(n.p,{children:["For more details, please refer to the official release notes: ",(0,d.jsx)(n.a,{href:"https://go.dev/doc/go1.16",children:"Go 1.16 Release Notes"})]})]})}function h(e={}){let{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},28453(e,n,i){i.d(n,{R:()=>l,x:()=>o});var s=i(296540);let d={},r=s.createContext(d);function l(e){let n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);