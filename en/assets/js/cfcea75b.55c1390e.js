"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["36425"],{622301:function(e,t,n){n.r(t),n.d(t,{metadata:()=>s,contentTitle:()=>c,default:()=>h,assets:()=>d,toc:()=>l,frontMatter:()=>a});var s=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-gcron","title":"Cron Job","description":"Usage of the gcron module in the GoFrame framework, providing crontab-like scheduled task management features, supporting second-level management. It introduces how to create, add, manage, and delete scheduled tasks, and emphasizes the impact of global timezone on task execution, suitable for developers needing to write scheduled tasks.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-gcron.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron","slug":"/docs/components/os-gcron","permalink":"/en/docs/components/os-gcron","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/\u7CFB\u7EDF\u76F8\u5173/\u5B9A\u65F6\u4EFB\u52A1-gcron/\u5B9A\u65F6\u4EFB\u52A1-gcron.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732716970000,"sidebarPosition":7,"frontMatter":{"slug":"/docs/components/os-gcron","title":"Cron Job","sidebar_position":7,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","gcron","Scheduled Task","crontab","CRON Syntax","Task Management","Programming Interface","Framework Tutorial","Go Language"],"description":"Usage of the gcron module in the GoFrame framework, providing crontab-like scheduled task management features, supporting second-level management. It introduces how to create, add, manage, and delete scheduled tasks, and emphasizes the impact of global timezone on task execution, suitable for developers needing to write scheduled tasks."},"sidebar":"mainSidebar","previous":{"title":"Logging","permalink":"/en/docs/components/os-glog"},"next":{"title":"Cron Job - Expressions","permalink":"/en/docs/components/os-gcron-pattern"}}'),o=n("785893"),r=n("250065"),i=n("203105");let a={slug:"/docs/components/os-gcron",title:"Cron Job",sidebar_position:7,hide_title:!0,keywords:["GoFrame","GoFrame Framework","gcron","Scheduled Task","crontab","CRON Syntax","Task Management","Programming Interface","Framework Tutorial","Go Language"],description:"Usage of the gcron module in the GoFrame framework, providing crontab-like scheduled task management features, supporting second-level management. It introduces how to create, add, manage, and delete scheduled tasks, and emphasizes the impact of global timezone on task execution, suitable for developers needing to write scheduled tasks."},c=void 0,d={},l=[{value:"Introduction",id:"introduction",level:2},{value:"Notes",id:"notes",level:2},{value:"Documentation",id:"documentation",level:2}];function u(e){let t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"gcron"})," module provides the implementation of scheduled tasks, supporting a configuration management style similar to ",(0,o.jsx)(t.code,{children:"crontab"}),", and manages scheduled tasks with a minimum granularity of ",(0,o.jsx)(t.code,{children:"seconds"}),"."]}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Usage"}),":"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'import "github.com/gogf/gf/v2/os/gcron"\n'})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"API Documentation"}),":"]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gcron",children:"https://pkg.go.dev/github.com/gogf/gf/v2/os/gcron"})}),"\n",(0,o.jsxs)(t.p,{children:[(0,o.jsx)(t.strong,{children:"Brief Description"}),":"]}),"\n",(0,o.jsxs)(t.ol,{children:["\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"New"})," method is used to create a custom scheduled task management object."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Add"})," method is used to add scheduled tasks, where:","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"pattern"})," parameter uses ",(0,o.jsx)(t.code,{children:"CRON syntax format"})," (for details, see the subsequent related description in this chapter)."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"job"})," parameter is the method (address) that needs to be executed."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"name"})," is an optional parameter used to assign a ",(0,o.jsx)(t.strong,{children:"unique"})," name to the scheduled task. Note that if a task with the same name already exists, adding the scheduled task will fail."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"AddSingleton"})," method is used to add singleton scheduled tasks, meaning only one copy of the task can run simultaneously (deduplication is performed in memory)."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"AddOnce"})," method is used to add scheduled tasks that run only once. When run once, the task automatically destroys itself."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"AddTimes"})," method is used to add scheduled tasks that run a specified number of times. When run ",(0,o.jsx)(t.code,{children:"times"})," times, the task automatically destroys itself."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Entries"})," method is used to obtain information on all currently registered scheduled tasks."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Remove"})," method is used to delete scheduled tasks by name (stop and delete)."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Search"})," method is used to search scheduled tasks by name (returns the ",(0,o.jsx)(t.code,{children:"*Entry"})," object pointer of the task)."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Start"})," method is used to start a scheduled task (",(0,o.jsx)(t.code,{children:"Add"})," automatically starts the task). The ",(0,o.jsx)(t.code,{children:"name"})," parameter can be specified to start the task."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Stop"})," method is used to stop a scheduled task (",(0,o.jsx)(t.code,{children:"Remove"})," stops and deletes). The ",(0,o.jsx)(t.code,{children:"name"})," parameter can be specified to stop the task."]}),"\n",(0,o.jsxs)(t.li,{children:["The ",(0,o.jsx)(t.code,{children:"Close"})," method is used to close the custom scheduled task management object."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"notes",children:"Notes"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsxs)(t.li,{children:["Influence of Global Timezone: Scheduled tasks strictly depend on time calculation, so the global timezone of the process greatly affects scheduled task execution. When adding scheduled tasks, pay attention to the global timezone settings of the current process. If no global timezone is set, the system timezone is used by default. For more information on timezone settings, please refer to: ",(0,o.jsx)(t.a,{href:"/en/docs/components/os-gtime-timezone",children:"Time - Time Zone"})]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"documentation",children:"Documentation"}),"\n","\n",(0,o.jsx)(i.Z,{})]})}function h(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},203105:function(e,t,n){n.d(t,{Z:()=>j});var s=n("785893");n("667294");var o=n("467026"),r=n("96693"),i=n("531183"),a=n("633876"),c=n("266026"),d=n("434751"),l=n("58608");let u={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function h(e){let{href:t,children:n}=e;return(0,s.jsx)(i.Z,{href:t,className:(0,o.Z)("card padding--lg",u.cardContainer),children:n})}function m(e){let{href:t,icon:n,title:r,description:i}=e;return(0,s.jsxs)(h,{href:t,children:[(0,s.jsxs)(l.Z,{as:"h2",className:(0,o.Z)("text--truncate",u.cardTitle),title:r,children:[n," ",r]}),i&&(0,s.jsx)("p",{className:(0,o.Z)("text--truncate",u.cardDescription),title:i,children:i})]})}function g(e){let{item:t}=e,n=(0,r.LM)(t),o=function(){let{selectMessage:e}=(0,a.c)();return t=>e(t,(0,d.I)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:t}))}();return n?(0,s.jsx)(m,{href:n,icon:"\uD83D\uDDC3\uFE0F",title:t.label,description:t.description??o(t.items.length)}):null}function p(e){let{item:t}=e,n=(0,c.Z)(t.href)?"\uD83D\uDCC4\uFE0F":"\uD83D\uDD17",o=(0,r.xz)(t.docId??void 0);return(0,s.jsx)(m,{href:t.href,icon:n,title:t.label,description:t.description??o?.description})}function f(e){let{item:t}=e;switch(t.type){case"link":return(0,s.jsx)(p,{item:t});case"category":return(0,s.jsx)(g,{item:t});default:throw Error(`unknown item type ${JSON.stringify(t)}`)}}function x(e){let{className:t}=e,n=(0,r.jA)();return(0,s.jsx)(j,{items:n.items,className:t})}function j(e){let{items:t,className:n}=e;if(!t)return(0,s.jsx)(x,{...e});let i=(0,r.MN)(t);return(0,s.jsx)("section",{className:(0,o.Z)("row",n),children:i.map((e,t)=>(0,s.jsx)("article",{className:"col col--6 margin-bottom--lg",children:(0,s.jsx)(f,{item:e})},t))})}},633876:function(e,t,n){n.d(t,{c:function(){return c}});var s=n(667294),o=n(49931);let r=["zero","one","two","few","many","other"];function i(e){return r.filter(t=>e.includes(t))}let a={locale:"en",pluralForms:i(["one","other"]),select:e=>1===e?"one":"other"};function c(){let e=function(){let{i18n:{currentLocale:e}}=(0,o.Z)();return(0,s.useMemo)(()=>{try{return function(e){let t=new Intl.PluralRules(e);return{locale:e,pluralForms:i(t.resolvedOptions().pluralCategories),select:e=>t.select(e)}}(e)}catch(t){return console.error(`Failed to use Intl.PluralRules for locale "${e}".
Docusaurus will fallback to the default (English) implementation.
Error: ${t.message}
`),a}},[e])}();return{selectMessage:(t,n)=>(function(e,t,n){let s=e.split("|");if(1===s.length)return s[0];s.length>n.pluralForms.length&&console.error(`For locale=${n.locale}, a maximum of ${n.pluralForms.length} plural forms are expected (${n.pluralForms.join(",")}), but the message contains ${s.length}: ${e}`);let o=n.select(t);return s[Math.min(n.pluralForms.indexOf(o),s.length-1)]})(n,t,e)}}},250065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return i}});var s=n(667294);let o={},r=s.createContext(o);function i(e){let t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);