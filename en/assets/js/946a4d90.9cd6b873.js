"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["3069"],{751506:function(e,r,n){n.r(r),n.d(r,{metadata:()=>o,contentTitle:()=>a,default:()=>h,assets:()=>d,toc:()=>c,frontMatter:()=>s});var o=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u9519\u8BEF\u5904\u7406/\u9519\u8BEF\u5904\u7406-\u9519\u8BEF\u6BD4\u8F83","title":"Error Handling - Comparison","description":"Comparison methods in error handling within the GoFrame framework, including the usage of Equal and Is methods. The Equal method is used to determine if two error objects are the same, while the Is method is used to determine if a given error is in a specified error chain. Interface definitions and usage examples are provided to help developers better understand and apply these methods.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u9519\u8BEF\u5904\u7406/\u9519\u8BEF\u5904\u7406-\u9519\u8BEF\u6BD4\u8F83.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u9519\u8BEF\u5904\u7406","slug":"/docs/core/gerror-comparison","permalink":"/en/docs/core/gerror-comparison","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u9519\u8BEF\u5904\u7406/\u9519\u8BEF\u5904\u7406-\u9519\u8BEF\u6BD4\u8F83.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":2,"frontMatter":{"slug":"/docs/core/gerror-comparison","title":"Error Handling - Comparison","sidebar_position":2,"hide_title":true,"keywords":["GoFrame","GoFrame Framework","Error Handling","Error Comparison","Equal Method","Is Method","Error Object","Interface Definition","Error Component","Standard Library"],"description":"Comparison methods in error handling within the GoFrame framework, including the usage of Equal and Is methods. The Equal method is used to determine if two error objects are the same, while the Is method is used to determine if a given error is in a specified error chain. Interface definitions and usage examples are provided to help developers better understand and apply these methods."},"sidebar":"mainSidebar","previous":{"title":"Error Handling - Stack","permalink":"/en/docs/core/gerror-stack"},"next":{"title":"Error Handling - Other Features","permalink":"/en/docs/core/gerror-other"}}'),t=n("785893"),i=n("250065");let s={slug:"/docs/core/gerror-comparison",title:"Error Handling - Comparison",sidebar_position:2,hide_title:!0,keywords:["GoFrame","GoFrame Framework","Error Handling","Error Comparison","Equal Method","Is Method","Error Object","Interface Definition","Error Component","Standard Library"],description:"Comparison methods in error handling within the GoFrame framework, including the usage of Equal and Is methods. The Equal method is used to determine if two error objects are the same, while the Is method is used to determine if a given error is in a specified error chain. Interface definitions and usage examples are provided to help developers better understand and apply these methods."},a=void 0,d={},c=[{value:"<code>Equal</code> Comparison Method",id:"equal-comparison-method",level:2},{value:"Interface Definition",id:"interface-definition",level:3},{value:"Usage Example",id:"usage-example",level:3},{value:"<code>Is</code> Inclusion Judgment",id:"is-inclusion-judgment",level:2}];function l(e){let r={admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h2,{id:"equal-comparison-method",children:[(0,t.jsx)(r.code,{children:"Equal"})," Comparison Method"]}),"\n",(0,t.jsxs)(r.p,{children:["Error objects support comparison, and the ",(0,t.jsx)(r.code,{children:"Equal"})," method is used to fully determine whether two ",(0,t.jsx)(r.code,{children:"errors"})," are the same. This is mainly achieved through the following method:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:"// Equal reports whether current error `err` equals to error `target`.\n// Please note that, in default comparison for `Error`,\n// the errors are considered the same if both the `code` and `text` of them are the same.\nfunc Equal(err, target error) bool\n"})}),"\n",(0,t.jsx)(r.h3,{id:"interface-definition",children:"Interface Definition"}),"\n",(0,t.jsx)(r.p,{children:"If a custom error data structure needs to support comparison, the custom error structure needs to implement the following interface:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:"// IEqual is the interface for Equal feature.\ntype IEqual interface {\n    Error() string\n    Equal(target error) bool\n}\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Error objects created by the ",(0,t.jsx)(r.code,{children:"GoFrame"})," framework's error component already implement this interface, and the component's default comparison logic checks the error code and error message."]}),"\n",(0,t.jsx)(r.admonition,{type:"info",children:(0,t.jsx)(r.p,{children:"Note that if both errors do not carry error codes and their error messages are the same, the component considers the two errors to be the same."})}),"\n",(0,t.jsx)(r.h3,{id:"usage-example",children:"Usage Example"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'func ExampleEqual() {\n    err1 := errors.New("permission denied")\n    err2 := gerror.New("permission denied")\n    err3 := gerror.NewCode(gcode.CodeNotAuthorized, "permission denied")\n    fmt.Println(gerror.Equal(err1, err2))\n    fmt.Println(gerror.Equal(err2, err3))\n\n    // Output:\n    // true\n    // false\n}\n'})}),"\n",(0,t.jsxs)(r.h2,{id:"is-inclusion-judgment",children:[(0,t.jsx)(r.code,{children:"Is"})," Inclusion Judgment"]}),"\n",(0,t.jsxs)(r.p,{children:["Error objects support ",(0,t.jsx)(r.strong,{children:"inclusion"})," judgment. The ",(0,t.jsx)(r.code,{children:"Is"})," method is used to determine whether the given ",(0,t.jsx)(r.code,{children:"error"})," is in a specified ",(0,t.jsx)(r.code,{children:"error"})," chain (if the ",(0,t.jsx)(r.code,{children:"error"})," carries a stack, it will be judged recursively). This is mainly achieved through the following method:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:"// Is reports whether current error `err` has error `target` in its chaining errors.\n// It is just for implements for stdlib errors.Unwrap from Go version 1.17.\nfunc Is(err, target error) bool\n"})}),"\n",(0,t.jsx)(r.p,{children:"Usage Example"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-go",children:'func ExampleIs() {\n    err1 := errors.New("permission denied")\n    err2 := gerror.Wrap(err1, "operation failed")\n    fmt.Println(gerror.Is(err1, err1))\n    fmt.Println(gerror.Is(err2, err2))\n    fmt.Println(gerror.Is(err2, err1))\n    fmt.Println(gerror.Is(err1, err2))\n\n    // Output:\n    // false\n    // true\n    // true\n    // false\n}\n'})})]})}function h(e={}){let{wrapper:r}={...(0,i.a)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},250065:function(e,r,n){n.d(r,{Z:function(){return a},a:function(){return s}});var o=n(667294);let t={},i=o.createContext(t);function s(e){let r=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:r},e.children)}}}]);