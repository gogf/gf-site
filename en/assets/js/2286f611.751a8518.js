"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["68812"],{921085(e,n,o){o.r(n),o.d(n,{metadata:()=>s,default:()=>h,frontMatter:()=>r,contentTitle:()=>l,toc:()=>c,assets:()=>d});var s=JSON.parse('{"id":"release/golang/go1.24","title":"Go 1.24 (2025-02-11)","description":"Go 1.24 was released in February 2025, six months after Go 1.23. Most changes are in the implementation of the toolchain, runtime, and libraries. Go 1.24 continues to uphold the Go 1 compatibility promise. Almost all Go programs are expected to continue to compile and run as before.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release/golang/go1.24.md","sourceDirName":"release/golang","slug":"/release/golang/go1.24","permalink":"/en/release/golang/go1.24","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/release/golang/go1.24.md","tags":[],"version":"current","lastUpdatedBy":"hailaz","lastUpdatedAt":1765414622000,"sidebarPosition":176,"frontMatter":{"title":"Go 1.24 (2025-02-11)","sidebar_position":176},"sidebar":"releaseSidebar","previous":{"title":"Go 1.25 (2025-08-12)","permalink":"/en/release/golang/go1.25"},"next":{"title":"Go 1.23 (2024-08-13)","permalink":"/en/release/golang/go1.23"}}'),i=o(474848),t=o(28453);let r={title:"Go 1.24 (2025-02-11)",sidebar_position:176},l,d={},c=[{value:"Language Changes",id:"language-changes",level:2},{value:"Toolchain",id:"toolchain",level:2},{value:"Go Command",id:"go-command",level:3},{value:"Cgo",id:"cgo",level:3},{value:"Objdump",id:"objdump",level:3},{value:"Vet",id:"vet",level:3},{value:"GOCACHEPROG",id:"gocacheprog",level:3},{value:"Runtime",id:"runtime",level:2},{value:"References",id:"references",level:2}];function a(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Go 1.24 was released in February 2025, six months after ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/go1.23",children:"Go 1.23"}),". Most changes are in the implementation of the toolchain, runtime, and libraries. Go 1.24 continues to uphold the ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/go1compat",children:"Go 1 compatibility promise"}),". Almost all Go programs are expected to continue to compile and run as before."]}),"\n",(0,i.jsx)(n.h2,{id:"language-changes",children:"Language Changes"}),"\n",(0,i.jsxs)(n.p,{children:["Go 1.24 now fully supports ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/46477",children:"generic type aliases"}),". Type aliases can be parameterized just like defined types. See the ",(0,i.jsx)(n.a,{href:"https://go.dev/ref/spec#Alias_declarations",children:"language specification"})," for details. This feature can currently be disabled by setting ",(0,i.jsx)(n.code,{children:"GOEXPERIMENT=noaliastypeparams"}),", but this setting will be removed in Go 1.25."]}),"\n",(0,i.jsx)(n.h2,{id:"toolchain",children:"Toolchain"}),"\n",(0,i.jsx)(n.h3,{id:"go-command",children:"Go Command"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Tool Dependency Management"}),": Go modules can now track executable dependencies using the ",(0,i.jsx)(n.code,{children:"tool"})," directive in ",(0,i.jsx)(n.code,{children:"go.mod"})," and run those tools using the ",(0,i.jsx)(n.code,{children:"go tool"}),' command. This eliminates the previous workaround of using "tools.go" files. See the ',(0,i.jsx)(n.a,{href:"https://go.dev/doc/modules/managing-dependencies#tools",children:"documentation"})," for more information."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Added the ",(0,i.jsx)(n.code,{children:"-tool"})," flag to ",(0,i.jsx)(n.code,{children:"go get"})," to add tool directives to the current module."]}),"\n",(0,i.jsxs)(n.li,{children:["Added the ",(0,i.jsx)(n.code,{children:"tool"})," meta-pattern to refer to all tools in the current module. You can use ",(0,i.jsx)(n.code,{children:"go get tool"})," to upgrade all tools or ",(0,i.jsx)(n.code,{children:"go install tool"})," to install them to the GOBIN directory."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Cache Improvements"}),": Executables created by ",(0,i.jsx)(n.code,{children:"go run"})," and the new ",(0,i.jsx)(n.code,{children:"go tool"})," behavior are now cached in the Go build cache, making repeated executions faster. See ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/69290",children:"#69290"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"JSON Output"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"go build"})," and ",(0,i.jsx)(n.code,{children:"go install"})," commands now accept the ",(0,i.jsx)(n.code,{children:"-json"})," flag to report build output and failures in structured JSON format. See ",(0,i.jsx)(n.code,{children:"go help buildjson"})," for details."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"go test -json"})," now reports build output and failures in JSON format interleaved with test results. These are distinguished by a new ",(0,i.jsx)(n.code,{children:"Action"})," type. To restore text build output, set the ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/godebug",children:"GODEBUG"})," ",(0,i.jsx)(n.code,{children:"gotestjsonbuildtext=1"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Private Module Authentication"}),": Added the ",(0,i.jsx)(n.code,{children:"GOAUTH"})," environment variable to provide a flexible way to authenticate private module fetches. See ",(0,i.jsx)(n.code,{children:"go help goauth"})," for more information."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Version Information"}),": The ",(0,i.jsx)(n.code,{children:"go build"})," command now sets the main module's version in the compiled binary based on version control system tags and/or commits. If there are uncommitted changes, a ",(0,i.jsx)(n.code,{children:"+dirty"})," suffix is appended. Use the ",(0,i.jsx)(n.code,{children:"-buildvcs=false"})," flag to omit version control information."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Toolchain Tracing"}),": Added the ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/godebug",children:"GODEBUG"})," setting ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/toolchain#select",children:"toolchaintrace=1"})," to trace the ",(0,i.jsx)(n.code,{children:"go"})," command's toolchain selection process."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"cgo",children:"Cgo"}),"\n",(0,i.jsx)(n.p,{children:"Cgo supports new annotations to improve runtime performance:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"#cgo noescape cFunctionName"}),": Tells the compiler that memory passed to the C function does not escape."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"#cgo nocallback cFunctionName"}),": Tells the compiler that the C function does not call any Go functions."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"https://go.dev/pkg/cmd/cgo#hdr-Optimizing_calls_of_C_code",children:"cgo documentation"})," for more information."]}),"\n",(0,i.jsxs)(n.p,{children:["Cgo now better detects multiple incompatible declarations of C functions across files. For example, if ",(0,i.jsx)(n.code,{children:"f"})," is declared as both ",(0,i.jsx)(n.code,{children:"void f(int)"})," and ",(0,i.jsx)(n.code,{children:"void f(double)"}),", cgo reports an error instead of potentially generating incorrect call sequences for ",(0,i.jsx)(n.code,{children:"f(0)"}),". See ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/67699",children:"#67699"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"objdump",children:"Objdump"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://go.dev/cmd/objdump",children:"objdump"})," tool now supports disassembly for the 64-bit LoongArch (",(0,i.jsx)(n.code,{children:"GOARCH=loong64"}),"), RISC-V (",(0,i.jsx)(n.code,{children:"GOARCH=riscv64"}),"), and S390X (",(0,i.jsx)(n.code,{children:"GOARCH=s390x"}),") architectures."]}),"\n",(0,i.jsx)(n.h3,{id:"vet",children:"Vet"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:["New ",(0,i.jsx)(n.code,{children:"tests"})," Analyzer"]}),": Reports common mistakes in tests, fuzz tests, benchmarks, and examples, such as misformatted names, incorrect signatures, or examples documenting non-existent identifiers. Some of these mistakes can cause tests not to run. This analyzer is part of the analyzers run by ",(0,i.jsx)(n.code,{children:"go test"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"printf"})," Analyzer Improvements"]}),": Now reports calls like ",(0,i.jsx)(n.code,{children:"fmt.Printf(s)"})," where ",(0,i.jsx)(n.code,{children:"s"})," is a non-constant format string with no other arguments. Such calls are often mistakes because ",(0,i.jsx)(n.code,{children:"s"})," may contain ",(0,i.jsx)(n.code,{children:"%"})," symbols; ",(0,i.jsx)(n.code,{children:"fmt.Print"})," should be used instead. See ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/60529",children:"#60529"}),". This check is only applied when the language version (as specified by the ",(0,i.jsx)(n.code,{children:"go"})," directive in go.mod or ",(0,i.jsx)(n.code,{children:"//go:build"})," comments) is at least Go 1.24 to avoid breaking CI when upgrading to the 1.24 toolchain."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"buildtag"})," Analyzer Improvements"]}),": Reports diagnostics when invalid Go ",(0,i.jsx)(n.a,{href:"https://go.dev/pkg/cmd/go#hdr-Build_constraints",children:"major version build constraints"})," are present in ",(0,i.jsx)(n.code,{children:"//go:build"})," directives. For example, ",(0,i.jsx)(n.code,{children:"//go:build go1.23.1"})," refers to a point release; ",(0,i.jsx)(n.code,{children:"//go:build go1.23"})," should be used instead. See ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/64127",children:"#64127"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"copylock"})," Analyzer Improvements"]}),': Reports diagnostics when variables declared in the three-clause "for" loop (e.g., ',(0,i.jsx)(n.code,{children:"for i := iter(); done(i); i = next(i) { ... }"}),") contain ",(0,i.jsx)(n.code,{children:"sync.Locker"})," (e.g., ",(0,i.jsx)(n.code,{children:"sync.Mutex"}),"). Go 1.22 changed the behavior of such loops to create a new variable for each iteration, copying the value from the previous iteration; this copying is unsafe for locks. See ",(0,i.jsx)(n.a,{href:"https://go.dev/issue/66387",children:"#66387"}),"."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"gocacheprog",children:"GOCACHEPROG"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"cmd/go"})," internal binary and test caching mechanism can now be implemented by a subprocess named by the ",(0,i.jsx)(n.code,{children:"GOCACHEPROG"})," environment variable, which implements a JSON protocol between the ",(0,i.jsx)(n.code,{children:"cmd/go"})," tool and the subprocess. This previously required GOEXPERIMENT. See the ",(0,i.jsx)(n.a,{href:"https://go.dev/cmd/go/internal/cacheprog",children:"documentation"})," for protocol details."]}),"\n",(0,i.jsx)(n.h2,{id:"runtime",children:"Runtime"}),"\n",(0,i.jsx)(n.p,{children:"The runtime includes several performance improvements, reducing average CPU overhead by 2\u20133%, depending on the application. These improvements include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"New Map Implementation"}),": A new built-in ",(0,i.jsx)(n.code,{children:"map"})," implementation based on ",(0,i.jsx)(n.a,{href:"https://abseil.io/about/design/swisstables",children:"Swiss Tables"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Efficient Memory Allocation"}),": More efficient memory allocation for small objects."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"New Mutex Implementation"}),": A new runtime internal mutex implementation."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The new map implementation and new mutex implementation can be disabled by setting ",(0,i.jsx)(n.code,{children:"GOEXPERIMENT=noswissmap"})," and ",(0,i.jsx)(n.code,{children:"GOEXPERIMENT=nospinbitmutex"})," at build time, respectively."]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.p,{children:["For more details, please refer to the official release notes: ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/go1.24",children:"Go 1.24 Release Notes"})]})]})}function h(e={}){let{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453(e,n,o){o.d(n,{R:()=>r,x:()=>l});var s=o(296540);let i={},t=s.createContext(i);function r(e){let n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);