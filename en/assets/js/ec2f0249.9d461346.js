"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["44619"],{796006:function(e,t,i){i.r(t),i.d(t,{metadata:()=>n,contentTitle:()=>a,default:()=>m,assets:()=>d,toc:()=>l,frontMatter:()=>s});var n=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u65F6\u95F4\u7EF4\u62A4/\u65F6\u95F4\u7EF4\u62A4-SoftTimeOption","title":"Time Fields - SoftTimeOption","description":"Introduction on how to use SoftTimeOption in the GoFrame framework to control time writing granularity, converting from second-level to millisecond-level timestamps, and providing relevant MySQL table structures and example code to help developers flexibly configure time fields, supporting multiple time granularity options to meet different project needs, and inserting data through ORM methods","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u65F6\u95F4\u7EF4\u62A4/\u65F6\u95F4\u7EF4\u62A4-SoftTimeOption.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u65F6\u95F4\u7EF4\u62A4","slug":"/docs/core/gdb-chaining-soft-time-option","permalink":"/en/docs/core/gdb-chaining-soft-time-option","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u65F6\u95F4\u7EF4\u62A4/\u65F6\u95F4\u7EF4\u62A4-SoftTimeOption.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732541616000,"sidebarPosition":3,"frontMatter":{"slug":"/docs/core/gdb-chaining-soft-time-option","title":"Time Fields - SoftTimeOption","sidebar_position":3,"hide_title":true,"keywords":["GoFrame","Time Maintenance","SoftTimeOption","Database Operation","Time Granularity","Millisecond Timestamp","MySQL Table Structure","ORM Operation","Time Field","Big Integer Storage"],"description":"Introduction on how to use SoftTimeOption in the GoFrame framework to control time writing granularity, converting from second-level to millisecond-level timestamps, and providing relevant MySQL table structures and example code to help developers flexibly configure time fields, supporting multiple time granularity options to meet different project needs, and inserting data through ORM methods"},"sidebar":"mainSidebar","previous":{"title":"Time Fields - Boolean Fields","permalink":"/en/docs/core/gdb-chaining-soft-time-bool-fields"},"next":{"title":"ORM Model - Schema","permalink":"/en/docs/core/gdb-chaining-schema"}}'),o=i("785893"),r=i("250065");let s={slug:"/docs/core/gdb-chaining-soft-time-option",title:"Time Fields - SoftTimeOption",sidebar_position:3,hide_title:!0,keywords:["GoFrame","Time Maintenance","SoftTimeOption","Database Operation","Time Granularity","Millisecond Timestamp","MySQL Table Structure","ORM Operation","Time Field","Big Integer Storage"],description:"Introduction on how to use SoftTimeOption in the GoFrame framework to control time writing granularity, converting from second-level to millisecond-level timestamps, and providing relevant MySQL table structures and example code to help developers flexibly configure time fields, supporting multiple time granularity options to meet different project needs, and inserting data through ORM methods"},a=void 0,d={},l=[{value:"Example SQL",id:"example-sql",level:2},{value:"<code>created_at</code> Write Time",id:"created_at-write-time",level:2}];function c(e){let t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(t.p,{children:["In the previous ",(0,o.jsx)(t.a,{href:"/en/docs/core/gdb-chaining-soft-time-numeric-fields",children:"Time Fields - Integer Fields"})," example, the time fields are written with second-level timestamps. But what if we want to control the granularity of time writing and write millisecond-level timestamps? We can use ",(0,o.jsx)(t.code,{children:"SoftTimeOption"})," to control the granularity of the written time values."]}),"\n",(0,o.jsx)(t.h2,{id:"example-sql",children:"Example SQL"}),"\n",(0,o.jsxs)(t.p,{children:["Here's the ",(0,o.jsx)(t.code,{children:"MySQL"})," table structure used in the following example code. Since we need to write values with a granularity finer than seconds, the field type uses ",(0,o.jsx)(t.code,{children:"big int"})," for storage."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sql",children:"CREATE TABLE `user` (\n  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,\n  `name` varchar(45) NOT NULL,\n  `status` tinyint DEFAULT 0,\n  `created_at` bigint unsigned DEFAULT NULL,\n  `updated_at` bigint unsigned DEFAULT NULL,\n  `deleted_at` bigint unsigned DEFAULT NULL,\n  PRIMARY KEY (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\n"})}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["If you try to test and view the ",(0,o.jsx)(t.code,{children:"SQL"})," statements executed by ",(0,o.jsx)(t.code,{children:"ORM"})," operations, it is recommended to enable ",(0,o.jsx)(t.code,{children:"debug"})," mode (Documents: ",(0,o.jsx)(t.a,{href:"/en/docs/core/gdb-senior-debugging",children:"ORM Senior - Debug Mode"}),"), and the ",(0,o.jsx)(t.code,{children:"SQL"})," statements will automatically be printed in the log output."]})}),"\n",(0,o.jsxs)(t.h2,{id:"created_at-write-time",children:[(0,o.jsx)(t.code,{children:"created_at"})," Write Time"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:'// INSERT INTO `user`(`name`,`created_at`,`updated_at`,`deleted_at`) VALUES(\'john\',1731484186556,1731484186556,0)\ng.Model("user").SoftTime(gdb.SoftTimeOption{\n  SoftTimeType: gdb.SoftTimeTypeTimestampMilli,\n}).Data(g.Map{"name": "john"}).Insert()\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The ",(0,o.jsx)(t.code,{children:"SoftTimeType"})," controls the time granularity, with the following granularity options:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-go",children:"const (\n    SoftTimeTypeAuto           SoftTimeType = 0 // (Default) Auto detect the field type by table field type.\n    SoftTimeTypeTime           SoftTimeType = 1 // Using datetime as the field value.\n    SoftTimeTypeTimestamp      SoftTimeType = 2 // In unix seconds.\n    SoftTimeTypeTimestampMilli SoftTimeType = 3 // In unix milliseconds.\n    SoftTimeTypeTimestampMicro SoftTimeType = 4 // In unix microseconds.\n    SoftTimeTypeTimestampNano  SoftTimeType = 5 // In unix nanoseconds.\n)\n"})})]})}function m(e={}){let{wrapper:t}={...(0,r.a)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},250065:function(e,t,i){i.d(t,{Z:function(){return a},a:function(){return s}});var n=i(667294);let o={},r=n.createContext(o);function s(e){let t=n.useContext(r);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);