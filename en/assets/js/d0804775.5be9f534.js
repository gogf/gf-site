"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["45458"],{838549:function(e,r,t){t.r(r),t.d(r,{metadata:()=>s,contentTitle:()=>a,default:()=>l,assets:()=>i,toc:()=>d,frontMatter:()=>o});var s=JSON.parse('{"id":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u6570\u636E\u67E5\u8BE2/ORM\u67E5\u8BE2-Scan\u6620\u5C04","title":"Model Query - Scan","description":"Techniques for using the Scan method for ORM queries in the GoFrame framework, mainly including how to convert query results to struct objects and struct arrays. Illustrated with example code demonstrating the usage of the Scan method, such as converting a single record to a struct object and multiple records to a struct array, helping users effectively handle database query results.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u6570\u636E\u67E5\u8BE2/ORM\u67E5\u8BE2-Scan\u6620\u5C04.md","sourceDirName":"docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u6570\u636E\u67E5\u8BE2","slug":"/docs/core/gdb-chaining-query-scan","permalink":"/en/docs/core/gdb-chaining-query-scan","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u6838\u5FC3\u7EC4\u4EF6/\u6570\u636E\u5E93ORM/ORM\u94FE\u5F0F\u64CD\u4F5C/ORM\u94FE\u5F0F\u64CD\u4F5C-\u6570\u636E\u67E5\u8BE2/ORM\u67E5\u8BE2-Scan\u6620\u5C04.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732440306000,"sidebarPosition":3,"frontMatter":{"slug":"/docs/core/gdb-chaining-query-scan","title":"Model Query - Scan","sidebar_position":3,"hide_title":true,"keywords":["GoFrame","GoFrame framework","ORM query","Scan method","struct conversion","struct array","gdb","query result","struct object","Go framework"],"description":"Techniques for using the Scan method for ORM queries in the GoFrame framework, mainly including how to convert query results to struct objects and struct arrays. Illustrated with example code demonstrating the usage of the Scan method, such as converting a single record to a struct object and multiple records to a struct array, helping users effectively handle database query results."},"sidebar":"mainSidebar","previous":{"title":"Model Query - Exist","permalink":"/en/docs/core/gdb-chaining-query-exist"},"next":{"title":"Model Query - ScanAndCount","permalink":"/en/docs/core/gdb-chaining-query-scan-and-count"}}'),n=t("785893"),c=t("250065");let o={slug:"/docs/core/gdb-chaining-query-scan",title:"Model Query - Scan",sidebar_position:3,hide_title:!0,keywords:["GoFrame","GoFrame framework","ORM query","Scan method","struct conversion","struct array","gdb","query result","struct object","Go framework"],description:"Techniques for using the Scan method for ORM queries in the GoFrame framework, mainly including how to convert query results to struct objects and struct arrays. Illustrated with example code demonstrating the usage of the Scan method, such as converting a single record to a struct object and multiple records to a struct array, helping users effectively handle database query results."},a=void 0,i={},d=[{value:"<code>struct</code> Object",id:"struct-object",level:2},{value:"<code>struct</code> Array",id:"struct-array",level:2}];function u(e){let r={code:"code",h2:"h2",p:"p",pre:"pre",...(0,c.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"Scan"})," method supports converting query results into a struct or struct array. The ",(0,n.jsx)(r.code,{children:"Scan"})," method will automatically identify the type of conversion to execute based on the given parameter type."]}),"\n",(0,n.jsxs)(r.h2,{id:"struct-object",children:[(0,n.jsx)(r.code,{children:"struct"})," Object"]}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"Scan"})," method supports converting query results into a ",(0,n.jsx)(r.code,{children:"struct"})," object. The query result should be a specific single record, and the ",(0,n.jsx)(r.code,{children:"pointer"})," parameter should be the pointer address of the ",(0,n.jsx)(r.code,{children:"struct"})," object (",(0,n.jsx)(r.code,{children:"*struct"})," or ",(0,n.jsx)(r.code,{children:"**struct"}),"). For example:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-go",children:'type User struct {\n    Id         int\n    Passport   string\n    Password   string\n    NickName   string\n    CreateTime *gtime.Time\n}\nuser := User{}\ng.Model("user").Where("id", 1).Scan(&user)\n'})}),"\n",(0,n.jsx)(r.p,{children:"Or"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-go",children:'var user = User{}\ng.Model("user").Where("id", 1).Scan(&user)\n'})}),"\n",(0,n.jsx)(r.p,{children:"The first two methods pre-initialize the object (allocate memory in advance), while the recommended method is:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-go",children:'var user *User\ng.Model("user").Where("id", 1).Scan(&user)\n'})}),"\n",(0,n.jsxs)(r.p,{children:["This method initializes and allocates memory only when data is queried. Note the difference in usage, especially the difference in parameter types (the first two methods pass a ",(0,n.jsx)(r.code,{children:"*User"})," type, while this method actually passes a ",(0,n.jsx)(r.code,{children:"**User"})," type)."]}),"\n",(0,n.jsxs)(r.h2,{id:"struct-array",children:[(0,n.jsx)(r.code,{children:"struct"})," Array"]}),"\n",(0,n.jsxs)(r.p,{children:["The ",(0,n.jsx)(r.code,{children:"Scan"})," method supports converting multiple query results into a ",(0,n.jsx)(r.code,{children:"[]struct/[]*struct"})," array. The query result should be a result set composed of multiple records, and the ",(0,n.jsx)(r.code,{children:"pointer"})," should be the pointer address of the array. For example:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-go",children:'var users []User\ng.Model("user").Scan(&users)\n'})}),"\n",(0,n.jsx)(r.p,{children:"Or"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-go",children:'var users []*User\ng.Model("user").Scan(&users)\n'})})]})}function l(e={}){let{wrapper:r}={...(0,c.a)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(u,{...e})}):u(e)}},250065:function(e,r,t){t.d(r,{Z:function(){return a},a:function(){return o}});var s=t(667294);let n={},c=s.createContext(n);function o(e){let r=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(c.Provider,{value:r},e.children)}}}]);