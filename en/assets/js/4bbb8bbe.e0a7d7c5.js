"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["85520"],{133797:function(e,n,r){r.r(n),r.d(n,{metadata:()=>i,contentTitle:()=>o,default:()=>g,assets:()=>a,toc:()=>s,frontMatter:()=>l});var i=JSON.parse('{"id":"\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gring -\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784","title":"gring (\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784)","description":"gring","source":"@site/versioned_docs/version-1.16.x/\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gring -\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784.md","sourceDirName":"\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784","slug":"/\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gring -\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784","permalink":"/en/1.16.x/\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gring -\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/versioned_docs/version-1.16.x/\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gring -\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784.md","tags":[],"version":"1.16.x","lastUpdatedBy":"John","lastUpdatedAt":1730365530000,"sidebarPosition":9,"frontMatter":{"title":"gring (\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784)","sidebar_position":9,"hide_title":true},"sidebar":"tutorialSidebar","previous":{"title":"gpool (\u5BF9\u8C61\u590D\u7528\u6C60)","permalink":"/en/1.16.x/\u6A21\u5757\u5217\u8868/\u6570\u636E\u7ED3\u6784/gpool -\u5BF9\u8C61\u590D\u7528\u6C60"},"next":{"title":"gregex (\u6B63\u5219\u8868\u8FBE\u5F0F)","permalink":"/en/1.16.x/\u6A21\u5757\u5217\u8868/\u6587\u672C\u5904\u7406/gregex -\u6B63\u5219\u8868\u8FBE\u5F0F"}}'),d=r("785893"),t=r("250065");let l={title:"gring (\u5E76\u53D1\u5B89\u5168\u73AF\u7ED3\u6784)",sidebar_position:9,hide_title:!0},o=void 0,a={},s=[{value:"gring",id:"gring",level:2},{value:"\u4F7F\u7528\u793A\u4F8B\uFF0C\u7EA6\u745F\u592B\u95EE\u9898",id:"\u4F7F\u7528\u793A\u4F8B\u7EA6\u745F\u592B\u95EE\u9898",level:3}];function c(e){let n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.h2,{id:"gring",children:"gring"}),"\n",(0,d.jsx)(n.p,{children:"\u652F\u6301\u5E76\u53D1\u5B89\u5168\u5F00\u5173\u7684\u73AF\u7ED3\u6784\uFF0C\u5FAA\u73AF\u53CC\u5411\u94FE\u8868\u3002"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F7F\u7528\u573A\u666F"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"ring"})," \u8FD9\u79CD\u6570\u636E\u7ED3\u6784\u5728\u5E95\u5C42\u5F00\u53D1\u4E2D\u7528\u5F97\u6BD4\u8F83\u591A\u4E00\u4E9B\uFF0C\u5982\uFF1A\u5E76\u53D1\u9501\u63A7\u5236\u3001\u7F13\u51B2\u533A\u63A7\u5236\u3002 ",(0,d.jsx)(n.code,{children:"ring"})," \u7684\u7279\u70B9\u5728\u4E8E\uFF0C\u5176\u5FC5\u987B\u6709\u56FA\u5B9A\u7684\u5927\u5C0F\uFF0C\u5F53\u4E0D\u505C\u5730\u5F80 ",(0,d.jsx)(n.code,{children:"ring"})," \u4E2D\u8FFD\u52A0\u5199\u6570\u636E\u65F6\uFF0C\u5982\u679C\u6570\u636E\u5927\u5C0F\u8D85\u8FC7\u5BB9\u91CF\u5927\u5C0F\uFF0C\u65B0\u503C\u5C06\u4F1A\u5C06\u65E7\u503C\u8986\u76D6\u3002"]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u4F7F\u7528\u65B9\u5F0F"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'import "github.com/gogf/gf/container/gring"\n\n'})}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.strong,{children:"\u63A5\u53E3\u6587\u6863"}),"\uFF1A"]}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.a,{href:"https://godoc.org/github.com/gogf/gf/container/gring",children:"https://godoc.org/github.com/gogf/gf/container/gring"})}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"gring"})," \u652F\u6301\u94FE\u5F0F\u64CD\u4F5C\u3002"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\u4F7F\u7528\u793A\u4F8B\u7EA6\u745F\u592B\u95EE\u9898",children:"\u4F7F\u7528\u793A\u4F8B\uFF0C\u7EA6\u745F\u592B\u95EE\u9898"}),"\n",(0,d.jsxs)(n.p,{children:["\u6211\u4EEC\u4F7F\u7528 ",(0,d.jsx)(n.code,{children:"ring"})," \u6765\u6A21\u62DF\u4E00\u4E0B ",(0,d.jsx)(n.a,{href:"https://baike.baidu.com/item/%E7%BA%A6%E7%91%9F%E5%A4%AB%E9%97%AE%E9%A2%98/3857719",children:"\u7EA6\u745F\u592B\u95EE\u9898"}),"\uFF1A"]}),"\n",(0,d.jsxs)(n.blockquote,{children:["\n",(0,d.jsx)(n.p,{children:"\u8457\u540D\u72B9\u592A\u5386\u53F2\u5B66\u5BB6 Josephus\u6709\u8FC7\u4EE5\u4E0B\u7684\u6545\u4E8B\uFF1A\u5728\u7F57\u9A6C\u4EBA\u5360\u9886\u4E54\u5854\u5E15\u7279\u540E\uFF0C39 \u4E2A\u72B9\u592A\u4EBA\u4E0EJosephus\u53CA\u4ED6\u7684\u670B\u53CB\u8EB2\u5230\u4E00\u4E2A\u6D1E\u4E2D\uFF0C39\u4E2A\u72B9\u592A\u4EBA\u51B3\u5B9A\u5B81\u613F\u6B7B\u4E5F\u4E0D\u8981\u88AB\u654C\u4EBA\u6293\u5230\uFF0C\u4E8E\u662F\u51B3\u5B9A\u4E86\u4E00\u4E2A\u81EA\u6740\u65B9\u5F0F\uFF0C41\u4E2A\u4EBA\u6392\u6210\u4E00\u4E2A\u5706\u5708\uFF0C\u7531\u7B2C1\u4E2A\u4EBA\u5F00\u59CB\u62A5\u6570\uFF0C\u6BCF\u62A5\u6570\u5230\u7B2C3\u4EBA\u8BE5\u4EBA\u5C31\u5FC5\u987B\u81EA\u6740\uFF0C\u7136\u540E\u518D\u7531\u4E0B\u4E00\u4E2A\u91CD\u65B0\u62A5\u6570\uFF0C\u76F4\u5230\u6240\u6709\u4EBA\u90FD\u81EA\u6740\u8EAB\u4EA1\u4E3A\u6B62\u3002\u7136\u800CJosephus \u548C\u4ED6\u7684\u670B\u53CB\u5E76\u4E0D\u60F3\u9075\u4ECE\u3002\u9996\u5148\u4ECE\u4E00\u4E2A\u4EBA\u5F00\u59CB\uFF0C\u8D8A\u8FC7k-2\u4E2A\u4EBA\uFF08\u56E0\u4E3A\u7B2C\u4E00\u4E2A\u4EBA\u5DF2\u7ECF\u88AB\u8D8A\u8FC7\uFF09\uFF0C\u5E76\u6740\u6389\u7B2Ck\u4E2A\u4EBA\u3002\u63A5\u7740\uFF0C\u518D\u8D8A\u8FC7k-1\u4E2A\u4EBA\uFF0C\u5E76\u6740\u6389\u7B2Ck\u4E2A\u4EBA\u3002\u8FD9\u4E2A\u8FC7\u7A0B\u6CBF\u7740\u5706\u5708\u4E00\u76F4\u8FDB\u884C\uFF0C\u76F4\u5230\u6700\u7EC8\u53EA\u5269\u4E0B\u4E00\u4E2A\u4EBA\u7559\u4E0B\uFF0C\u8FD9\u4E2A\u4EBA\u5C31\u53EF\u4EE5\u7EE7\u7EED\u6D3B\u7740\u3002\u95EE\u9898\u662F\uFF0C\u7ED9\u5B9A\u4E86\u548C\uFF0C\u4E00\u5F00\u59CB\u8981\u7AD9\u5728\u4EC0\u4E48\u5730\u65B9\u624D\u80FD\u907F\u514D\u88AB\u5904\u51B3\uFF1F"}),"\n"]}),"\n",(0,d.jsx)(n.p,{children:"\u4EE5\u4E0B\u793A\u4F8B\u4E3A\u975E\u5E76\u53D1\u5B89\u5168\u573A\u666F\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n    "github.com/gogf/gf/container/gring"\n)\n\ntype Player struct {\n    position int  // \u4F4D\u7F6E\n    alive    bool // \u662F\u5426\u5B58\u6D3B\n}\n\nconst (\n    playerCount = 41  // \u73A9\u5BB6\u4EBA\u6570\n    startPos    = 1   // \u5F00\u59CB\u62A5\u6570\u4F4D\u7F6E\n)\n\nvar (\n    deadline = 3\n)\n\nfunc main() {\n    r := gring.New(playerCount)\n\n    // \u8BBE\u7F6E\u6240\u6709\u73A9\u5BB6\u521D\u59CB\u503C\n    for i := 1; i <= playerCount; i++ {\n        r.Put(&Player{i, true})\n    }\n\n    // \u5982\u679C\u5F00\u59CB\u62A5\u6570\u7684\u4F4D\u7F6E\u4E0D\u4E3A1\uFF0C\u5219\u8BBE\u7F6E\u5F00\u59CB\u4F4D\u7F6E\n    if startPos > 1 {\n        r.Move(startPos - 1)\n    }\n\n    counter   := 1  // \u62A5\u6570\u4ECE1\u5F00\u59CB\uFF0C\u56E0\u4E3A\u4E0B\u9762\u7684\u5FAA\u73AF\u4ECE\u7B2C\u4E8C\u4E2A\u5F00\u59CB\u8BA1\u7B97\n    deadCount := 0  // \u6B7B\u4EA1\u4EBA\u6570\uFF0C\u521D\u59CB\u503C\u4E3A0\n\n    // \u76F4\u5230\u6240\u6709\u4EBA\u90FD\u6B7B\u4EA1\uFF0C\u5426\u5219\u5FAA\u73AF\u4E00\u76F4\u6267\u884C\n    for deadCount < playerCount {\n        // \u8DF3\u5230\u4E0B\u4E00\u4E2A\u4EBA\n        r.Next()\n\n        // \u5982\u679C\u662F\u6D3B\u7740\u7684\u4EBA\uFF0C\u5219\u62A5\u6570\n        if r.Val().(*Player).alive {\n            counter++\n        }\n\n        // \u5982\u679C\u62A5\u6570\u4E3Adeadline\uFF0C\u5219\u6B64\u4EBA\u6DD8\u6C70\u51FA\u5C40\n        if counter == deadline {\n            r.Val().(*Player).alive = false\n            fmt.Printf("Player %d died!\\n", r.Val().(*Player).position)\n            deadCount++\n            counter = 0\n        }\n    }\n}\n\n'})}),"\n",(0,d.jsx)(n.p,{children:"\u6267\u884C\u540E\uFF0C\u8F93\u51FA\u7ED3\u679C\u4E3A\uFF1A"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-html",children:"Player 3 died!\nPlayer 6 died!\nPlayer 9 died!\nPlayer 12 died!\nPlayer 15 died!\nPlayer 18 died!\nPlayer 21 died!\nPlayer 24 died!\nPlayer 27 died!\nPlayer 30 died!\nPlayer 33 died!\nPlayer 36 died!\nPlayer 39 died!\nPlayer 1 died!\nPlayer 5 died!\nPlayer 10 died!\nPlayer 14 died!\nPlayer 19 died!\nPlayer 23 died!\nPlayer 28 died!\nPlayer 32 died!\nPlayer 37 died!\nPlayer 41 died!\nPlayer 7 died!\nPlayer 13 died!\nPlayer 20 died!\nPlayer 26 died!\nPlayer 34 died!\nPlayer 40 died!\nPlayer 8 died!\nPlayer 17 died!\nPlayer 29 died!\nPlayer 38 died!\nPlayer 11 died!\nPlayer 25 died!\nPlayer 2 died!\nPlayer 22 died!\nPlayer 4 died!\nPlayer 35 died!\nPlayer 16 died!\nPlayer 31 died!\n\n"})}),"\n",(0,d.jsxs)(n.p,{children:["\u53EF\u4EE5\u770B\u5230 ",(0,d.jsx)(n.code,{children:"16"})," \u548C ",(0,d.jsx)(n.code,{children:"31"})," \u662F\u6700\u540E\u4E24\u4E2A\u51FA\u961F\u5217\u7684\uFF0C\u56E0\u6B64Josephus\u5C06\u4ED6\u7684\u670B\u53CB\u4E0E\u81EA\u5DF1\u5B89\u6392\u5728\u7B2C ",(0,d.jsx)(n.code,{children:"16"})," \u4E2A\u4E0E\u7B2C ",(0,d.jsx)(n.code,{children:"31"})," \u4E2A\u4F4D\u7F6E\u662F\u5B89\u5168\u7684\u3002"]})]})}function g(e={}){let{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(c,{...e})}):c(e)}},250065:function(e,n,r){r.d(n,{Z:function(){return o},a:function(){return l}});var i=r(667294);let d={},t=i.createContext(d);function l(e){let n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);