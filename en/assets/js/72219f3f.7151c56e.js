"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["62406"],{160722(e,n,r){r.r(n),r.d(n,{metadata:()=>s,default:()=>h,frontMatter:()=>l,contentTitle:()=>a,toc:()=>t,assets:()=>d});var s=JSON.parse('{"id":"release/golang/go1.22","title":"Go 1.22 (2024-02-06)","description":"Go 1.22 was released in February 2024, primarily addressing the long-standing loop variable issue and enhancing HTTP routing capabilities.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/release/golang/go1.22.md","sourceDirName":"release/golang","slug":"/release/golang/go1.22","permalink":"/en/release/golang/go1.22","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/release/golang/go1.22.md","tags":[],"version":"current","lastUpdatedBy":"hailaz","lastUpdatedAt":1765275924000,"sidebarPosition":178,"frontMatter":{"title":"Go 1.22 (2024-02-06)","sidebar_position":178},"sidebar":"releaseSidebar","previous":{"title":"Go 1.23 (2024-08-13)","permalink":"/en/release/golang/go1.23"},"next":{"title":"Go 1.21 (2023-08-08)","permalink":"/en/release/golang/go1.21"}}'),i=r(474848),o=r(28453);let l={title:"Go 1.22 (2024-02-06)",sidebar_position:178},a,d={},t=[{value:"Major Changes",id:"major-changes",level:2},{value:"Language",id:"language",level:3},{value:"Toolchain",id:"toolchain",level:3},{value:"Runtime",id:"runtime",level:3},{value:"Standard Library",id:"standard-library",level:3},{value:"References",id:"references",level:2}];function c(e){let n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Go 1.22 was released in February 2024, primarily addressing the long-standing loop variable issue and enhancing HTTP routing capabilities."}),"\n",(0,i.jsx)(n.h2,{id:"major-changes",children:"Major Changes"}),"\n",(0,i.jsx)(n.h3,{id:"language",children:"Language"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Loop Variable Scope"}),": Variables declared in a ",(0,i.jsx)(n.code,{children:"for"})," loop are now created as new instances for each iteration. This solves the common issue of closures capturing loop variables."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Range over integers"}),": ",(0,i.jsx)(n.code,{children:"for range"})," now supports integers, e.g., ",(0,i.jsx)(n.code,{children:"for i := range 10"})," will iterate from 0 to 9."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Range-over-function (Preview)"}),": Introduced preview support for ",(0,i.jsx)(n.code,{children:"range-over-function"})," iterators (enabled via ",(0,i.jsx)(n.code,{children:"GOEXPERIMENT=rangefunc"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"toolchain",children:"Toolchain"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Go Command"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Workspaces now support ",(0,i.jsx)(n.code,{children:"vendor"})," directories."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"go get"})," is no longer supported in non-module legacy ",(0,i.jsx)(n.code,{children:"GOPATH"})," mode."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"go test -cover"})," can now report coverage for packages without test files (as 0%)."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Trace"}),": The ",(0,i.jsx)(n.code,{children:"trace"})," tool's Web UI has been updated, improving readability and thread-oriented views."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Vet"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adapted to the new loop variable semantics, no longer reporting loop variable references that are no longer issues."}),"\n",(0,i.jsxs)(n.li,{children:["Added checks: missing values after ",(0,i.jsx)(n.code,{children:"append"}),", direct calls to ",(0,i.jsx)(n.code,{children:"time.Since"})," in ",(0,i.jsx)(n.code,{children:"defer"}),", mismatched key-value pairs in ",(0,i.jsx)(n.code,{children:"log/slog"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"runtime",children:"Runtime"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Performance Optimization"}),": The runtime now keeps type-based GC metadata near heap objects, improving CPU performance (1-3%) and reducing memory overhead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PGO Enhancements"}),": PGO builds can now devirtualize more calls, with performance improvements typically between 2-14%."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Inlining Enhancements (Preview)"}),": Introduced a preview of an enhanced inlining phase (enabled via ",(0,i.jsx)(n.code,{children:"GOEXPERIMENT=newinliner"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"standard-library",children:"Standard Library"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"math/rand/v2"})}),": Introduced the ",(0,i.jsx)(n.code,{children:"math/rand/v2"})," package, providing faster and more standard random number generators (such as ChaCha8, PCG) and cleaning up old APIs."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsxs)(n.strong,{children:[(0,i.jsx)(n.code,{children:"net/http"})," Routing Enhancements"]}),": ",(0,i.jsx)(n.code,{children:"http.ServeMux"})," now supports method matching (e.g., ",(0,i.jsx)(n.code,{children:"GET /items"}),") and wildcards (e.g., ",(0,i.jsx)(n.code,{children:"/items/{id}"}),", ",(0,i.jsx)(n.code,{children:"/files/{path...}"}),")."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"go/version"})}),": Added ",(0,i.jsx)(n.code,{children:"go/version"})," package for parsing and comparing Go version strings."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"slices"})}),": Added ",(0,i.jsx)(n.code,{children:"Concat"})," function for concatenating slices; functions that shrink slices like ",(0,i.jsx)(n.code,{children:"Delete"})," now zero out the deleted elements."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"cmp"})}),": Added ",(0,i.jsx)(n.code,{children:"Or"})," function, returning the first non-zero value in a sequence."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"database/sql"})}),": Added ",(0,i.jsx)(n.code,{children:"Null[T]"})," type for scanning nullable columns of any column type."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.p,{children:["For more details, please refer to the official release notes: ",(0,i.jsx)(n.a,{href:"https://go.dev/doc/go1.22",children:"Go 1.22 Release Notes"})]})]})}function h(e={}){let{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},28453(e,n,r){r.d(n,{R:()=>l,x:()=>a});var s=r(296540);let i={},o=s.createContext(i);function l(e){let n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);