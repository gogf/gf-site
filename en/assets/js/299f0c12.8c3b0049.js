"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["81460"],{739038:function(e,t,r){r.r(t),r.d(t,{metadata:()=>n,contentTitle:()=>o,default:()=>m,assets:()=>l,toc:()=>d,frontMatter:()=>s});var n=JSON.parse('{"id":"quick/\u5FEB\u901F\u5F00\u59CB/\u83B7\u53D6\u8BF7\u6C42\u53C2\u6570","title":"Parameters Retrieving","description":"Retrieve request parameters submitted by the client in a Web Server using the GoFrame framework, focusing on handling parameters submitted via HTTP methods like Query String, Form, and Body using the r.Get method. Learn how to handle default parameter values and automatic parameter type recognition. Detailed example code demonstrates receiving and processing parameters in GoFrame, and analyzes common issues, laying the foundation for structured processing of parameter objects in later sections.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/quick/\u5FEB\u901F\u5F00\u59CB/\u83B7\u53D6\u8BF7\u6C42\u53C2\u6570.md","sourceDirName":"quick/\u5FEB\u901F\u5F00\u59CB","slug":"/quick/request-input","permalink":"/en/quick/request-input","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/quick/\u5FEB\u901F\u5F00\u59CB/\u83B7\u53D6\u8BF7\u6C42\u53C2\u6570.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732612158000,"sidebarPosition":3,"frontMatter":{"slug":"/quick/request-input","title":"Parameters Retrieving","hide_title":true,"sidebar_position":3,"keywords":["GoFrame","GoFrame Framework","Request Parameters","HTTP Parameter Retrieval","Web Server Development","Query String","HTTP Methods","Parameter Handling","ghttp","Go Programming"],"description":"Retrieve request parameters submitted by the client in a Web Server using the GoFrame framework, focusing on handling parameters submitted via HTTP methods like Query String, Form, and Body using the r.Get method. Learn how to handle default parameter values and automatic parameter type recognition. Detailed example code demonstrates receiving and processing parameters in GoFrame, and analyzes common issues, laying the foundation for structured processing of parameter objects in later sections."},"sidebar":"quickSidebar","previous":{"title":"Hello World","permalink":"/en/quick/hello-world"},"next":{"title":"Parameters Structure","permalink":"/en/quick/request-struct"}}'),a=r("785893"),i=r("250065");let s={slug:"/quick/request-input",title:"Parameters Retrieving",hide_title:!0,sidebar_position:3,keywords:["GoFrame","GoFrame Framework","Request Parameters","HTTP Parameter Retrieval","Web Server Development","Query String","HTTP Methods","Parameter Handling","ghttp","Go Programming"],description:"Retrieve request parameters submitted by the client in a Web Server using the GoFrame framework, focusing on handling parameters submitted via HTTP methods like Query String, Form, and Body using the r.Get method. Learn how to handle default parameter values and automatic parameter type recognition. Detailed example code demonstrates receiving and processing parameters in GoFrame, and analyzes common issues, laying the foundation for structured processing of parameter objects in later sections."},o=void 0,l={},d=[{value:"Handling Parameters",id:"handling-parameters",level:2},{value:"Testing the API",id:"testing-the-api",level:2},{value:"Room for Improvement",id:"room-for-improvement",level:2}];function c(e){let t={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,i.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:"Now that we've created a basic web server, let's learn how to handle client-submitted parameters. For simplicity, we'll focus on parameters passed via query strings."}),"\n",(0,a.jsx)(t.h2,{id:"handling-parameters",children:"Handling Parameters"}),"\n",(0,a.jsx)(t.p,{children:'Let\'s modify our "Hello World" example to handle user input:'}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",metastring:'title="main.go"',children:'package main\n\nimport (\n    "github.com/gogf/gf/v2/frame/g"\n    "github.com/gogf/gf/v2/net/ghttp"\n)\n\nfunc main() {\n    s := g.Server()\n    s.BindHandler("/", func(r *ghttp.Request) {\n        r.Response.Writef(\n            "Hello %s! Your Age is %d",\n            r.Get("name", "unknown").String(),\n            r.Get("age").Int(),\n        )\n    })\n    s.SetPort(8000)\n    s.Run()\n}\n'})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"GoFrame"})," framework makes parameter handling straightforward. In this example, we use the ",(0,a.jsx)(t.code,{children:"r.Get"})," method, which can retrieve parameters from any HTTP method (Query String, Form, Body, etc.). It automatically detects and parses the submission format, including ",(0,a.jsx)(t.code,{children:"json"})," and ",(0,a.jsx)(t.code,{children:"xml"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Here's the method signature:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-go",children:"func (r *Request) Get(key string, def ...interface{}) *gvar.Var\n"})}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"Get"})," method takes two parameters:"]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"The parameter name to look up"}),"\n",(0,a.jsx)(t.li,{children:"An optional default value to use if the parameter is missing"}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:["It returns a ",(0,a.jsx)(t.code,{children:"*gvar.Var"})," object - a versatile type provided by ",(0,a.jsx)(t.code,{children:"GoFrame"})," that can be converted to various data types as needed."]}),"\n",(0,a.jsx)(t.h2,{id:"testing-the-api",children:"Testing the API"}),"\n",(0,a.jsxs)(t.p,{children:["Let's test with parameters at ",(0,a.jsx)(t.a,{href:"http://127.0.0.1:8000/?name=john&age=18",children:"http://127.0.0.1:8000/?name=john&age=18"}),":"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"img.png",src:r(442915).Z+"",width:"1024",height:"226"})}),"\n",(0,a.jsxs)(t.p,{children:["And without parameters at ",(0,a.jsx)(t.a,{href:"http://127.0.0.1:8000/",children:"http://127.0.0.1:8000/"}),":"]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"alt text",src:r(613572).Z+"",width:"676",height:"216"})}),"\n",(0,a.jsx)(t.p,{children:"Notice how the default values kick in:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:["When ",(0,a.jsx)(t.code,{children:"name"}),' is missing, it defaults to "unknown"']}),"\n",(0,a.jsxs)(t.li,{children:["When ",(0,a.jsx)(t.code,{children:"age"})," is missing, it defaults to 0 (the zero value for integers)"]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"room-for-improvement",children:"Room for Improvement"}),"\n",(0,a.jsx)(t.p,{children:"While we've successfully handled parameters, there are some issues with this approach:"}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsx)(t.li,{children:"Hardcoding parameter names is error-prone - a simple typo could cause bugs that are hard to track down"}),"\n",(0,a.jsxs)(t.li,{children:["There's no clear way to document:","\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"The business purpose of each parameter"}),"\n",(0,a.jsx)(t.li,{children:"Expected data types"}),"\n",(0,a.jsx)(t.li,{children:"Validation rules"}),"\n",(0,a.jsx)(t.li,{children:"Parameter descriptions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"In the next section, we'll solve these problems by introducing structured parameter objects."})]})}function m(e={}){let{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},613572:function(e,t,r){r.d(t,{Z:function(){return n}});let n=r.p+"assets/images/QQ_1730178667265-2756e74c7ed56021caad46f6071172b0.png"},442915:function(e,t,r){r.d(t,{Z:function(){return n}});let n=r.p+"assets/images/img-0c2fc34c17e9ca5ab24ca490b332cc85.png"},250065:function(e,t,r){r.d(t,{Z:function(){return o},a:function(){return s}});var n=r(667294);let a={},i=n.createContext(a);function s(e){let t=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);