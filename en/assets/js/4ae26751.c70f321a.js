"use strict";(self.webpackChunkgf_site=self.webpackChunkgf_site||[]).push([["53187"],{171169:function(e,t,s){s.r(t),s.d(t,{metadata:()=>n,contentTitle:()=>a,default:()=>g,assets:()=>c,toc:()=>d,frontMatter:()=>r});var n=JSON.parse('{"id":"docs/\u7EC4\u4EF6\u5217\u8868/\u5355\u5143\u6D4B\u8BD5/\u5355\u5143\u6D4B\u8BD5-gtest","title":"Unit Testing","description":"The usage of the gtest module under the GoFrame framework, providing convenient and lightweight unit testing methods. gtest extends the functionality of the standard library testing, adding multiple testing features such as test case isolation and common assertion methods. It is suitable for most unit testing scenarios and can be combined with third-party testing frameworks like testify and goconvey for more complex testing.","source":"@site/i18n/en/docusaurus-plugin-content-docs/current/docs/\u7EC4\u4EF6\u5217\u8868/\u5355\u5143\u6D4B\u8BD5/\u5355\u5143\u6D4B\u8BD5-gtest.md","sourceDirName":"docs/\u7EC4\u4EF6\u5217\u8868/\u5355\u5143\u6D4B\u8BD5","slug":"/docs/components/test-gtest","permalink":"/en/docs/components/test-gtest","draft":false,"unlisted":false,"editUrl":"https://github.com/gogf/gf-site/blob/main/docs/docs/\u7EC4\u4EF6\u5217\u8868/\u5355\u5143\u6D4B\u8BD5/\u5355\u5143\u6D4B\u8BD5-gtest.md","tags":[],"version":"current","lastUpdatedBy":"John","lastUpdatedAt":1732443619000,"sidebarPosition":0,"frontMatter":{"slug":"/docs/components/test-gtest","title":"Unit Testing","sidebar_position":0,"hide_title":true,"keywords":["GoFrame","unit testing","gtest","test assertions","GoFrame framework","test framework","test cases","Assert","goconvey","testify"],"description":"The usage of the gtest module under the GoFrame framework, providing convenient and lightweight unit testing methods. gtest extends the functionality of the standard library testing, adding multiple testing features such as test case isolation and common assertion methods. It is suitable for most unit testing scenarios and can be combined with third-party testing frameworks like testify and goconvey for more complex testing."},"sidebar":"mainSidebar","previous":{"title":"Testing","permalink":"/en/docs/components/test"},"next":{"title":"Errors","permalink":"/en/docs/components/error"}}'),i=s("785893"),o=s("250065");let r={slug:"/docs/components/test-gtest",title:"Unit Testing",sidebar_position:0,hide_title:!0,keywords:["GoFrame","unit testing","gtest","test assertions","GoFrame framework","test framework","test cases","Assert","goconvey","testify"],description:"The usage of the gtest module under the GoFrame framework, providing convenient and lightweight unit testing methods. gtest extends the functionality of the standard library testing, adding multiple testing features such as test case isolation and common assertion methods. It is suitable for most unit testing scenarios and can be combined with third-party testing frameworks like testify and goconvey for more complex testing."},a=void 0,c={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Usage Example",id:"usage-example",level:2}];function l(e){let t={a:"a",admonition:"admonition",br:"br",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(t.p,{children:["The ",(0,i.jsx)(t.code,{children:"gtest"})," module offers simplified, lightweight, and commonly used unit testing methods. It is an extension encapsulated on the standard library ",(0,i.jsx)(t.code,{children:"testing"}),", mainly adding the following features:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Isolation of multiple test items within unit test cases."}),"\n",(0,i.jsx)(t.li,{children:"Addition of a series of commonly used test assertion methods."}),"\n",(0,i.jsx)(t.li,{children:"Assertion methods support various common format assertions, increasing usability."}),"\n",(0,i.jsx)(t.li,{children:"Unified formatting of error messages when test failures occur."}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"gtest"})," is designed to be simple and easy to use, capable of meeting the vast majority of unit testing scenarios. For more complex testing scenarios, consider third-party testing frameworks such as ",(0,i.jsx)(t.code,{children:"testify"})," and ",(0,i.jsx)(t.code,{children:"goconvey"}),"."]})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Usage"}),"\uFF1A"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'import "github.com/gogf/gf/v2/test/gtest"\n'})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"API Documentation"}),"\uFF1A\nThis chapter may not be updated in a timely manner; for a more comprehensive introduction to the API, please refer to the API documentation.",(0,i.jsx)(t.br,{}),"\n",(0,i.jsx)(t.a,{href:"https://pkg.go.dev/github.com/gogf/gf/v2/test/gtest",children:"https://pkg.go.dev/github.com/gogf/gf/v2/test/gtest"})]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:"func C(t *testing.T, f func(t *T))\nfunc Assert(value, expect interface{})\nfunc AssertEQ(value, expect interface{})\nfunc AssertGE(value, expect interface{})\nfunc AssertGT(value, expect interface{})\nfunc AssertIN(value, expect interface{})\nfunc AssertLE(value, expect interface{})\nfunc AssertLT(value, expect interface{})\nfunc AssertNE(value, expect interface{})\nfunc AssertNI(value, expect interface{})\nfunc Error(message ...interface{})\nfunc Fatal(message ...interface{})\n"})}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.strong,{children:"Brief Explanation"}),"\uFF1A"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["Use the ",(0,i.jsx)(t.code,{children:"C"})," method to create a ",(0,i.jsx)(t.code,{children:"Case"}),", representing a unit test case. A unit test method can contain multiple ",(0,i.jsx)(t.code,{children:"C"}),", where each ",(0,i.jsx)(t.code,{children:"C"})," often represents one of the possible tests of the method."]}),"\n",(0,i.jsxs)(t.li,{children:["The assertion method ",(0,i.jsx)(t.code,{children:"Assert"})," supports comparison of variables of any type. When performing assertion comparison with ",(0,i.jsx)(t.code,{children:"AssertEQ"}),", it also compares types, i.e., it performs strict assertions."]}),"\n",(0,i.jsxs)(t.li,{children:["When using size comparison assertion methods such as ",(0,i.jsx)(t.code,{children:"AssertGE"}),", the parameters support both string and number comparison, where string comparison is case-sensitive."]}),"\n",(0,i.jsxs)(t.li,{children:["Inclusion assertion methods ",(0,i.jsx)(t.code,{children:"AssertIN"})," and ",(0,i.jsx)(t.code,{children:"AssertNI"})," support parameters of the ",(0,i.jsx)(t.code,{children:"slice"})," type but do not currently support ",(0,i.jsx)(t.code,{children:"map"})," type parameters."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["The package name for unit testing can either be ",(0,i.jsx)(t.code,{children:"package_name_test"})," or directly use ",(0,i.jsx)(t.code,{children:"package_name"})," (the same name as the test package). Both approaches are quite common and are also both involved in the Go official standard library. However, it should be noted that when you need to test private methods/private variables of the package, you must use the ",(0,i.jsx)(t.code,{children:"package_name"})," naming form. Also, when using the ",(0,i.jsx)(t.code,{children:"package_name"})," naming method, ensure that methods related to unit testing (non-",(0,i.jsx)(t.code,{children:"Test*"})," test methods) are generally defined as private and not publicly exposed."]}),"\n",(0,i.jsx)(t.h2,{id:"usage-example",children:"Usage Example"}),"\n",(0,i.jsxs)(t.p,{children:["For example, one of the unit test cases of the ",(0,i.jsx)(t.code,{children:"gstr"})," module:"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'package gstr_test\n\nimport (\n    "github.com/gogf/gf/v2/test/gtest"\n    "github.com/gogf/gf/v2/text/gstr"\n    "testing"\n)\n\nfunc Test_Trim(t *testing.T) {\n    gtest.C(t, func(t *gtest.T) {\n        t.Assert(gstr.Trim(" 123456\\n "),      "123456")\n        t.Assert(gstr.Trim("#123456#;", "#;"), "123456")\n    })\n}\n'})}),"\n",(0,i.jsx)(t.p,{children:"It can also be used like this:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-go",children:'package gstr_test\n\nimport (\n    . "github.com/gogf/gf/v2/test/gtest"\n    "github.com/gogf/gf/v2/text/gstr"\n    "testing"\n)\n\nfunc Test_Trim(t *testing.T) {\n    C(t, func() {\n        Assert(gstr.Trim(" 123456\\n "),      "123456")\n        Assert(gstr.Trim("#123456#;", "#;"), "123456")\n    })\n}\n'})}),"\n",(0,i.jsxs)(t.p,{children:["A unit test case can contain multiple ",(0,i.jsx)(t.code,{children:"C"}),", and a ",(0,i.jsx)(t.code,{children:"C"})," can perform multiple assertions. If assertions pass, it directly proceeds with a PASS; however, if assertions fail, the following error information is output, and the current unit test case's execution is terminated (subsequent other unit test cases will not be terminated)."]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-text",children:"=== RUN   Test_Trim\n[ASSERT] EXPECT 123456#; == 123456\n1. /Users/john/Workspace/Go/GOPATH/src/github.com/gogf/gf/v2/text/gstr/gstr_z_unit_trim_test.go:20\n2. /Users/john/Workspace/Go/GOPATH/src/github.com/gogf/gf/v2/text/gstr/gstr_z_unit_trim_test.go:18\n--- FAIL: Test_Trim (0.00s)\nFAIL\n"})})]})}function g(e={}){let{wrapper:t}={...(0,o.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},250065:function(e,t,s){s.d(t,{Z:function(){return a},a:function(){return r}});var n=s(667294);let i={},o=n.createContext(i);function r(e){let t=n.useContext(o);return n.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),n.createElement(o.Provider,{value:t},e.children)}}}]);