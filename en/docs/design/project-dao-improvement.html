<!doctype html><html lang=en-US dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/框架设计/工程开发设计/DAO封装设计/DAO-工程痛点及改进" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Pain Points and Improvements In Business Project | GoFrame - A powerful framework for faster, easier, and more efficient project development</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://goframe.org/en/docs/design/project-dao-improvement><meta data-rh=true property=og:locale content=en_US><meta data-rh=true property=og:locale:alternate content=zh_Hans><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Pain Points and Improvements In Business Project | GoFrame - A powerful framework for faster, easier, and more efficient project development"><meta data-rh=true name=description content="The DAO engineering pain points and corresponding improvement strategies in project development using the GoFrame framework. Enhance data operation management efficiency through automated data model management, separation of data and business models, automated DAO code management, and introduction of DO data conversion models. Emphasize the importance of data operation permission consolidation to reduce maintenance costs and risks associated with data operations."><meta data-rh=true property=og:description content="The DAO engineering pain points and corresponding improvement strategies in project development using the GoFrame framework. Enhance data operation management efficiency through automated data model management, separation of data and business models, automated DAO code management, and introduction of DO data conversion models. Emphasize the importance of data operation permission consolidation to reduce maintenance costs and risks associated with data operations."><meta data-rh=true name=keywords content="GoFrame,GoFrame Framework,DAO Improvement,Database Operation,Data Model,Business Model,ORM Abstraction,Engineering Design,Data Permission,Automated Code Generation"><link data-rh=true rel=icon href=/en/img/favicon.ico><link data-rh=true rel=canonical href=https://goframe.org/en/docs/design/project-dao-improvement><link data-rh=true rel=alternate href=https://goframe.org/docs/design/project-dao-improvement hreflang=zh-Hans><link data-rh=true rel=alternate href=https://goframe.org/en/docs/design/project-dao-improvement hreflang=en-US><link data-rh=true rel=alternate href=https://goframe.org/docs/design/project-dao-improvement hreflang=x-default><link data-rh=true rel=preconnect href=https://ZQUL8VI47R-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="GoFrame - A powerful framework for faster, easier, and more efficient project development" href=/en/opensearch.xml><script src=https://hm.baidu.com/hm.js?38f38a0626fd7805722db06243cd0fa7 async></script><link rel=stylesheet href=/en/assets/css/styles.b09a3e0d.css><script src=/en/assets/js/main.9d91b445.js defer></script><script src=/en/assets/js/runtime~main.ae76532e.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" sidebarid=quickSidebar href=/en/quick/install>Quick Start</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/en/docs/core>Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button sidebarid=courseSidebar href=/en/course>Courses</a><ul class=dropdown__menu><li><a class=dropdown__link sidebarid=courseSidebar href=/en/course/bilibili-video>Video Tutorial(Chinese)</a><li><a class=dropdown__link sidebarid=courseStarBookSidebar href=/en/course/starbook>Practical Tutorial - Star English Book</a><li><a class=dropdown__link sidebarid=courseProximaBookSidebar href=/en/course/proxima-book>Microservice Tutorial - Proxima Book</a></ul></div><a class="navbar__item navbar__link" href=/en/examples/grpc>Examples</a><a class="navbar__item navbar__link" href=/en/showcase>Show Case</a><a class="navbar__item navbar__link" href=/en/release/note>Releases</a><a class="navbar__item navbar__link" sidebarid=communitySidebar href=/en/share/group>Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/en/docs/design/project-dao-improvement>2.8.x(Latest)</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/en/docs/design/project-dao-improvement>2.8.x(Latest)</a><li><a class=dropdown__link href=/en/2.7.x/docs/design/project-dao-improvement>2.7.x</a><li><a class=dropdown__link href=/en/2.6.x/项目开发>2.6.x</a><li><a class=dropdown__link href=/en/2.5.x/项目开发>2.5.x</a><li><a class=dropdown__link href=/en/2.4.x/开发工具>2.4.x</a><li><a class=dropdown__link href=/en/2.3.x/开发工具>2.3.x</a><li><a class=dropdown__link href=/en/2.2.x/开发工具>2.2.x</a><li><a class=dropdown__link href=/en/2.1.x/开发工具>2.1.x</a><li><a class=dropdown__link href=/en/2.0.x/开发工具>2.0.x</a><li><a class=dropdown__link href=/en/1.16.x/开发工具>1.16.x</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/design/project-dao-improvement rel="noopener noreferrer" class=dropdown__link lang=zh-Hans>简体中文</a><li><a href=/en/docs/design/project-dao-improvement rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en-US>English</a></ul></div><a href=https://github.com/gogf/gf target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/cli>CLI Tool</a><button aria-label="Expand sidebar category 'CLI Tool'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/core>Core Components 🔥</a><button aria-label="Expand sidebar category 'Core Components 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/components>Components Category</a><button aria-label="Expand sidebar category 'Components Category'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/web>WEB Service Development</a><button aria-label="Expand sidebar category 'WEB Service Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/micro-service>Microservice Development</a><button aria-label="Expand sidebar category 'Microservice Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/obs>Service Observability</a><button aria-label="Expand sidebar category 'Service Observability'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/faq>Frequently Asked Questions (FAQ)</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/deploy>Project Deployment</a><button aria-label="Expand sidebar category 'Project Deployment'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/en/docs/design>Framework Design</a><button aria-label="Collapse sidebar category 'Framework Design'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/modular>Modular Design</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/unified>Unified Framework Design</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/en/docs/design/project>Engineering Design 🔥</a><button aria-label="Collapse sidebar category 'Engineering Design 🔥'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-layer>Code Layering</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-structure>Project Structure🔥</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/en/docs/design/project-dao>DAO Encapsulation</a><button aria-label="Collapse sidebar category 'DAO Encapsulation'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-dao-pain>Pain Points and Improvements In ORM Component</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/en/docs/design/project-dao-improvement>Pain Points and Improvements In Business Project</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-struct-parameter>Structured Programming</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-models>Data and Business Models</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/project-mono-repo>Mono-Repo Management</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/tracing>OpenTelemetry Tracing</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/error-stack>Error Stack</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/interface-generic>Interface and Generic</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/initialization>Implicit and Explicit Init</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/enums>Golang Enums</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/design/context-variable>Context Shared Variables</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/other>Other Documents</a><button aria-label="Expand sidebar category 'Other Documents'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/changelog>Docs Changelog</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/design><span itemprop=name>Framework Design</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/design/project><span itemprop=name>Engineering Design 🔥</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/design/project-dao><span itemprop=name>DAO Encapsulation</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Pain Points and Improvements In Business Project</span><meta itemprop=position content=4></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.8.x(Latest)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=1-introduction>1. Introduction<a href=#1-introduction class=hash-link aria-label="Direct link to 1. Introduction" title="Direct link to 1. Introduction">​</a></h2>
<p>We all know that developing business projects is inextricably linked to using database operation components, and the database is the core of most business projects, which is the origin of the nickname "CRUD engineer." When performing database operations in business projects, a rather low approach is to directly "Open/New" and then engage in various SQL string operations. Slightly more standard projects might consider selecting or encapsulating an ORM abstraction layer to improve CRUD efficiency and reduce the risk of data operations. More rigorous projects might further consider engineering management by introducing design patterns and concepts such as DAO/DTO/VO.</p>
<p>In the information age, data is extremely important and data operations are highly sensitive, so GoFrame framework's engineering approach to data operation management is rigorous. We provide necessary ORM abstractions, necessary DAO encapsulations, and necessary engineering norms and constraints. Additionally, we do not adopt a standardized design but maintain a simple, flexible, and easy-to-extend engineering design approach.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=2-engineering-pain-points>2. Engineering Pain Points<a href=#2-engineering-pain-points class=hash-link aria-label="Direct link to 2. Engineering Pain Points" title="Direct link to 2. Engineering Pain Points">​</a></h2>
<p>In some rigorous business projects, even with ORM & DAO abstractions and preliminary engineering design in place, the following common pain points still exist.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=1-data-set-and-code-structure-asynchrony>1. Data Set and Code Structure Asynchrony<a href=#1-data-set-and-code-structure-asynchrony class=hash-link aria-label="Direct link to 1. Data Set and Code Structure Asynchrony" title="Direct link to 1. Data Set and Code Structure Asynchrony">​</a></h3>
<p>When manually maintaining the data structures corresponding to data sets in the code, it's like digging a pit—just waiting to see who falls into it later.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=2-ambiguity-between-data-model-and-business-model>2. Ambiguity between Data Model and Business Model<a href=#2-ambiguity-between-data-model-and-business-model class=hash-link aria-label="Direct link to 2. Ambiguity between Data Model and Business Model" title="Direct link to 2. Ambiguity between Data Model and Business Model">​</a></h3>
<p>Confusing the responsibilities of data models with business models, and coupling data models with business logic and interface definitions, increases maintenance costs and risks associated with data models changes. Common pain points include:</p>
<ul>
<li>In the <code>model</code>, there are both business-related data structures (business model) and data structures corresponding to data sets (data model). How can they be efficiently isolated and managed?</li>
<li>In business processes, using data models as the <strong>input parameters</strong> and even embedding data models directly into the API interface input data structure (always finding ways to use data models in business models).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=3-too-much-business-logic-encapsulation-in-the-dao-layer>3. Too Much Business Logic Encapsulation in the DAO Layer<a href=#3-too-much-business-logic-encapsulation-in-the-dao-layer class=hash-link aria-label="Direct link to 3. Too Much Business Logic Encapsulation in the DAO Layer" title="Direct link to 3. Too Much Business Logic Encapsulation in the DAO Layer">​</a></h3>
<p>Have you ever felt that any data operation has a reason to be thrown into the <code>DAO</code>?</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=4-using-data-models-as-parameters-for-ormdao-operations>4. Using Data Models as Parameters for ORM/DAO Operations<a href=#4-using-data-models-as-parameters-for-ormdao-operations class=hash-link aria-label="Direct link to 4. Using Data Models as Parameters for ORM/DAO Operations" title="Direct link to 4. Using Data Models as Parameters for ORM/DAO Operations">​</a></h3>
<p>You might think this is correct, but unclear data structures imply costs and risks. Any operation should clearly specify inputs/outputs; otherwise, it lacks rigor, especially in data operations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=5-open-data-operation-permissions-allowing-calls-from-anywhere-in-the-project>5. Open Data Operation Permissions, Allowing Calls from Anywhere in the Project<a href=#5-open-data-operation-permissions-allowing-calls-from-anywhere-in-the-project class=hash-link aria-label="Direct link to 5. Open Data Operation Permissions, Allowing Calls from Anywhere in the Project" title="Direct link to 5. Open Data Operation Permissions, Allowing Calls from Anywhere in the Project">​</a></h3>
<p>Data operation permissions should be consolidated as much as possible. If overly open, maintenance costs and risks will exponentially increase as business and personnel complexity grows.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=6-using-the-same-data-structure-from-top-level-business-to-bottom-level-data-set-operations>6. Using the Same Data Structure from Top-level Business to Bottom-level Data Set Operations<a href=#6-using-the-same-data-structure-from-top-level-business-to-bottom-level-data-set-operations class=hash-link aria-label="Direct link to 6. Using the Same Data Structure from Top-level Business to Bottom-level Data Set Operations" title="Direct link to 6. Using the Same Data Structure from Top-level Business to Bottom-level Data Set Operations">​</a></h3>
<p>A common issue is designing a large structure, such as a data model (some even design all attributes as pointers or <code>interface{}</code>), passing it seamlessly from top-level business through to bottom-level data operations, with method logic determining parameters based on specific input attributes. What problems does this cause?</p>
<ul>
<li>Method parameter definitions are unclear, resulting in extra collaboration costs and risks due to ambiguity.</li>
<li>The same data structure is coupled with multiple methods, meaning any change in the data structure will affect all related methods.</li>
<li>Related methods cannot be fully reused (especially methods in the <code>service</code> layer).</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=3-engineering-improvements>3. Engineering Improvements<a href=#3-engineering-improvements class=hash-link aria-label="Direct link to 3. Engineering Improvements" title="Direct link to 3. Engineering Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=1-automated-data-model-management>1. Automated Data Model Management<a href=#1-automated-data-model-management class=hash-link aria-label="Direct link to 1. Automated Data Model Management" title="Direct link to 1. Automated Data Model Management">​</a></h3>
<p>Implement automated generation of data models from data sets using tools to avoid asynchrony caused by manual maintenance.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=2-separation-of-data-and-business-models>2. Separation of Data and Business Models<a href=#2-separation-of-data-and-business-models class=hash-link aria-label="Direct link to 2. Separation of Data and Business Models" title="Direct link to 2. Separation of Data and Business Models">​</a></h3>
<p>Maintain data models through an <code>entity</code> package and business models through a <code>model</code> package, distinguishing responsibilities per package. Data models are tool-maintained, and business models are defined and maintained by developers based on business scenarios.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=3-automated-dao-code-management>3. Automated DAO Code Management<a href=#3-automated-dao-code-management class=hash-link aria-label="Direct link to 3. Automated DAO Code Management" title="Direct link to 3. Automated DAO Code Management">​</a></h3>
<p>Implement automated generation of <code>DAO</code> code from data sets using tools to increase production efficiency. Only basic data operations autogenerated, with no specific business logic encapsulation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=4-introduction-of-do-data-conversion-model>4. Introduction of DO Data Conversion Model<a href=#4-introduction-of-do-data-conversion-model class=hash-link aria-label="Direct link to 4. Introduction of DO Data Conversion Model" title="Direct link to 4. Introduction of DO Data Conversion Model">​</a></h3>
<p>Avoid using data models directly as <code>DAO</code> parameters to avoid pitfalls. The GoFrame framework introduces a <code>DO</code> package that automatically converts to data set corresponding data structures during <code>DAO</code> operations, enhancing operational efficiency and reducing risks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=5-consolidating-data-operation-permissions>5. Consolidating Data Operation Permissions<a href=#5-consolidating-data-operation-permissions class=hash-link aria-label="Direct link to 5. Consolidating Data Operation Permissions" title="Direct link to 5. Consolidating Data Operation Permissions">​</a></h3>
<p>Since data operations are centrally maintained by the <code>DAO</code> package, it can be migrated to the <code>internal</code> directory of the corresponding <code>logic</code> layer business module, ensuring that only <code>logic</code> layer business logic code can execute data operations through <code>DAO</code>.</p>
<p>This is a stricter usage limitation, used selectively based on developer needs. The default project templates and tools of the framework do not consolidate data operation permissions. This consolidation can be achieved through framework development tool configurations to generate <code>dao</code> code for different <code>logic</code> business module locations.</div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/gogf/gf-site/blob/main/docs/docs/框架设计/工程开发设计/DAO封装设计/DAO-工程痛点及改进.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2024-11-24T13:40:43.000Z itemprop=dateModified>Nov 24, 2024</time></b> by <b>John</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/docs/design/project-dao-pain><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Pain Points and Improvements In ORM Component</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/docs/design/project-struct-parameter><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Structured Programming</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#1-introduction class="table-of-contents__link toc-highlight">1. Introduction</a><li><a href=#2-engineering-pain-points class="table-of-contents__link toc-highlight">2. Engineering Pain Points</a><ul><li><a href=#1-data-set-and-code-structure-asynchrony class="table-of-contents__link toc-highlight">1. Data Set and Code Structure Asynchrony</a><li><a href=#2-ambiguity-between-data-model-and-business-model class="table-of-contents__link toc-highlight">2. Ambiguity between Data Model and Business Model</a><li><a href=#3-too-much-business-logic-encapsulation-in-the-dao-layer class="table-of-contents__link toc-highlight">3. Too Much Business Logic Encapsulation in the DAO Layer</a><li><a href=#4-using-data-models-as-parameters-for-ormdao-operations class="table-of-contents__link toc-highlight">4. Using Data Models as Parameters for ORM/DAO Operations</a><li><a href=#5-open-data-operation-permissions-allowing-calls-from-anywhere-in-the-project class="table-of-contents__link toc-highlight">5. Open Data Operation Permissions, Allowing Calls from Anywhere in the Project</a><li><a href=#6-using-the-same-data-structure-from-top-level-business-to-bottom-level-data-set-operations class="table-of-contents__link toc-highlight">6. Using the Same Data Structure from Top-level Business to Bottom-level Data Set Operations</a></ul><li><a href=#3-engineering-improvements class="table-of-contents__link toc-highlight">3. Engineering Improvements</a><ul><li><a href=#1-automated-data-model-management class="table-of-contents__link toc-highlight">1. Automated Data Model Management</a><li><a href=#2-separation-of-data-and-business-models class="table-of-contents__link toc-highlight">2. Separation of Data and Business Models</a><li><a href=#3-automated-dao-code-management class="table-of-contents__link toc-highlight">3. Automated DAO Code Management</a><li><a href=#4-introduction-of-do-data-conversion-model class="table-of-contents__link toc-highlight">4. Introduction of DO Data Conversion Model</a><li><a href=#5-consolidating-data-operation-permissions class="table-of-contents__link toc-highlight">5. Consolidating Data Operation Permissions</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Follow Us On WeChat</div><ul class="footer__items clean-list"><li class=footer__item><img src=/img/wechat.jpg width=110></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright ©2024 GoFrame OpenSource Team</div></div></div></footer></div>