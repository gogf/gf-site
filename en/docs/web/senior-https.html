<!doctype html><html lang=en-US dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/WEB服务开发/高级特性/HTTPS & TLS" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>HTTPS & TLS | GoFrame - A powerful framework for faster, easier, and more efficient project development</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://goframe.org/en/docs/web/senior-https><meta data-rh=true property=og:locale content=en_US><meta data-rh=true property=og:locale:alternate content=zh_Hans><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="HTTPS & TLS | GoFrame - A powerful framework for faster, easier, and more efficient project development"><meta data-rh=true name=description content="Build an HTTPS service using the GoFrame framework, including preparation, example code, and how to obtain a free SSL certificate via Let's Encrypt. Additionally, it discusses methods to support both HTTP and HTTPS access protocols under the same WebServer, ensuring your application is more secure."><meta data-rh=true property=og:description content="Build an HTTPS service using the GoFrame framework, including preparation, example code, and how to obtain a free SSL certificate via Let's Encrypt. Additionally, it discusses methods to support both HTTP and HTTPS access protocols under the same WebServer, ensuring your application is more secure."><meta data-rh=true name=keywords content="GoFrame,HTTPS,TLS,WebServer,Certbot,Let’s Encrypt,SSL证书,ghttp,自动续期,证书生成"><link data-rh=true rel=icon href=/en/img/favicon.ico><link data-rh=true rel=canonical href=https://goframe.org/en/docs/web/senior-https><link data-rh=true rel=alternate href=https://goframe.org/docs/web/senior-https hreflang=zh-Hans><link data-rh=true rel=alternate href=https://goframe.org/en/docs/web/senior-https hreflang=en-US><link data-rh=true rel=alternate href=https://goframe.org/docs/web/senior-https hreflang=x-default><link data-rh=true rel=preconnect href=https://ZQUL8VI47R-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="GoFrame - A powerful framework for faster, easier, and more efficient project development" href=/en/opensearch.xml><script src=https://hm.baidu.com/hm.js?38f38a0626fd7805722db06243cd0fa7 async></script><link rel=stylesheet href=/en/assets/css/styles.b09a3e0d.css><script src=/en/assets/js/main.9d91b445.js defer></script><script src=/en/assets/js/runtime~main.ae76532e.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" sidebarid=quickSidebar href=/en/quick/install>Quick Start</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/en/docs/core>Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button sidebarid=courseSidebar href=/en/course>Courses</a><ul class=dropdown__menu><li><a class=dropdown__link sidebarid=courseSidebar href=/en/course/bilibili-video>Video Tutorial(Chinese)</a><li><a class=dropdown__link sidebarid=courseStarBookSidebar href=/en/course/starbook>Practical Tutorial - Star English Book</a><li><a class=dropdown__link sidebarid=courseProximaBookSidebar href=/en/course/proxima-book>Microservice Tutorial - Proxima Book</a></ul></div><a class="navbar__item navbar__link" href=/en/examples/grpc>Examples</a><a class="navbar__item navbar__link" href=/en/showcase>Show Case</a><a class="navbar__item navbar__link" href=/en/release/note>Releases</a><a class="navbar__item navbar__link" sidebarid=communitySidebar href=/en/share/group>Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/en/docs/web/senior-https>2.8.x(Latest)</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/en/docs/web/senior-https>2.8.x(Latest)</a><li><a class=dropdown__link href=/en/2.7.x/docs/web/senior-https>2.7.x</a><li><a class=dropdown__link href=/en/2.6.x/项目开发>2.6.x</a><li><a class=dropdown__link href=/en/2.5.x/项目开发>2.5.x</a><li><a class=dropdown__link href=/en/2.4.x/开发工具>2.4.x</a><li><a class=dropdown__link href=/en/2.3.x/开发工具>2.3.x</a><li><a class=dropdown__link href=/en/2.2.x/开发工具>2.2.x</a><li><a class=dropdown__link href=/en/2.1.x/开发工具>2.1.x</a><li><a class=dropdown__link href=/en/2.0.x/开发工具>2.0.x</a><li><a class=dropdown__link href=/en/1.16.x/开发工具>1.16.x</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/web/senior-https rel="noopener noreferrer" class=dropdown__link lang=zh-Hans>简体中文</a><li><a href=/en/docs/web/senior-https rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en-US>English</a></ul></div><a href=https://github.com/gogf/gf target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/cli>CLI Tool</a><button aria-label="Expand sidebar category 'CLI Tool'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/core>Core Components 🔥</a><button aria-label="Expand sidebar category 'Core Components 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/components>Components Category</a><button aria-label="Expand sidebar category 'Components Category'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/en/docs/web>WEB Service Development</a><button aria-label="Collapse sidebar category 'WEB Service Development'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/start>Getting Started</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/router>Router 🔥</a><button aria-label="Expand sidebar category 'Router 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/api-document>API Document</a><button aria-label="Expand sidebar category 'API Document'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/request>Request 🔥</a><button aria-label="Expand sidebar category 'Request 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/response>Response</a><button aria-label="Expand sidebar category 'Response'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/server-config>Configuration</a><button aria-label="Expand sidebar category 'Configuration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/cookie>Cookie</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/session>Session</a><button aria-label="Expand sidebar category 'Session'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/panic-handling>Exception Handling</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/http-client>HTTPClient</a><button aria-label="Expand sidebar category 'HTTPClient'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/paging>Pagination</a><button aria-label="Expand sidebar category 'Pagination'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/en/docs/web/senior>Advanced Features</a><button aria-label="Collapse sidebar category 'Advanced Features'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-static-server>Static File Service</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-logging>Logging</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/en/docs/web/senior-https>HTTPS & TLS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-hot-reload>Graceful Restart</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-cors>CORS</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-csrf>CSRF</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-hook>HOOK Callbacks</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-websocket>WebSocket</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-status-handler>Status Code Handling</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-pprof>PProf Performance Analysis</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-same-site>SameSite</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/senior-server-metrics>HTTPServer - Metrics</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/performance>Performance</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/faq>FAQ</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/micro-service>Microservice Development</a><button aria-label="Expand sidebar category 'Microservice Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/obs>Service Observability</a><button aria-label="Expand sidebar category 'Service Observability'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/faq>Frequently Asked Questions (FAQ)</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/deploy>Project Deployment</a><button aria-label="Expand sidebar category 'Project Deployment'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/design>Framework Design</a><button aria-label="Expand sidebar category 'Framework Design'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/other>Other Documents</a><button aria-label="Expand sidebar category 'Other Documents'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/changelog>Docs Changelog</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/web><span itemprop=name>WEB Service Development</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/web/senior><span itemprop=name>Advanced Features</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>HTTPS & TLS</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.8.x(Latest)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h2 class="anchor anchorWithStickyNavbar_LWe7" id=https-service>HTTPS Service<a href=#https-service class=hash-link aria-label="Direct link to HTTPS Service" title="Direct link to HTTPS Service">​</a></h2>
<p>Establishing an <code>HTTPS</code> service is very simple, using the <code>EnableHTTPS(certFile, keyFile string) error</code> method provided by the framework's WebServer. Obviously, this method requires two parameters, namely, two certificate files used for <code>HTTPS</code> asymmetric encryption and the corresponding key file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=preparation>Preparation<a href=#preparation class=hash-link aria-label="Direct link to Preparation" title="Direct link to Preparation">​</a></h3>
<p>For local demonstrations, we can use the <code>openssl</code> command to generate a local certificate and the corresponding key file for testing. The command is as follows:</p>
<ol>
<li>Use the common <code>RSA</code> algorithm to generate a key file</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">openssl genrsa </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.key </span><span class="token number" style=color:#ae81ff>2048</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Additionally, we can use the <code>ECDSA</code> algorithm to generate the key file:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">openssl ecparam </span><span class="token parameter variable" style=color:#f8f8f2>-genkey</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-name</span><span class="token plain"> secp384r1 </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.key</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ol start=2>
<li>Generate a certificate file based on the key file</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">openssl req </span><span class="token parameter variable" style=color:#f8f8f2>-new</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-x509</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-key</span><span class="token plain"> server.key </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.crt </span><span class="token parameter variable" style=color:#f8f8f2>-days</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>365</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ol start=3>
<li>(Optional) Generate a public key file based on the key, which is used for client-server communication</li>
</ol>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">openssl rsa </span><span class="token parameter variable" style=color:#f8f8f2>-in</span><span class="token plain"> server.key </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.key.public</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The <code>openssl</code> supports many algorithms and command parameters. If you want to learn more, please use the <code>man openssl</code> command to view. In this example, the local environment (<code>Ubuntu</code>) uses the command to generate the related key, public key, and certificate files as follows:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">$ openssl genrsa </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.key </span><span class="token number" style=color:#ae81ff>2048</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Generating RSA private key, </span><span class="token number" style=color:#ae81ff>2048</span><span class="token plain"> bit long modulus</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token plain">.+++</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token plain">.+++</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">unable to </span><span class="token function" style=color:#e6db74>write</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>'random state'</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">e is </span><span class="token number" style=color:#ae81ff>65537</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">0x10001</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ openssl req </span><span class="token parameter variable" style=color:#f8f8f2>-new</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-x509</span><span class="token plain"> </span><span class="token parameter variable" style=color:#f8f8f2>-key</span><span class="token plain"> server.key </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.crt </span><span class="token parameter variable" style=color:#f8f8f2>-days</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>365</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">You are about to be asked to enter information that will be incorporated</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">into your certificate request.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">What you are about to enter is what is called a Distinguished Name or a DN.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">There are quite a few fields but you can leave some blank</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">For some fields, there will be a default value,</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">If you enter </span><span class="token string" style=color:#a6e22e>'.'</span><span class="token plain">, the field will be left blank.</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">-----</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Country Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>2</span><span class="token plain"> letter code</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain">AU</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:CH</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">State or Province Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">full name</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain">Some-State</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:SiChuan</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Locality Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">eg, city</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:Chengdu</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Organization Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">eg, company</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token plain">Internet Widgits Pty Ltd</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:John.cn</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Organizational Unit Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">eg, section</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:Dev</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Common Name </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">e.g. server FQDN or YOUR name</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:John</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Email Address </span><span class="token punctuation" style=color:#f8f8f2>[</span><span class="token punctuation" style=color:#f8f8f2>]</span><span class="token plain">:john@johng.cn</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ openssl rsa </span><span class="token parameter variable" style=color:#f8f8f2>-in</span><span class="token plain"> server.key </span><span class="token parameter variable" style=color:#f8f8f2>-out</span><span class="token plain"> server.key.public</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">writing RSA key</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">$ ll</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">total </span><span class="token number" style=color:#ae81ff>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">drwxrwxr-x  </span><span class="token number" style=color:#ae81ff>2</span><span class="token plain"> john john </span><span class="token number" style=color:#ae81ff>4096</span><span class="token plain"> Apr </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>21</span><span class="token plain">:26 ./</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">drwxr-xr-x </span><span class="token number" style=color:#ae81ff>90</span><span class="token plain"> john john </span><span class="token number" style=color:#ae81ff>4096</span><span class="token plain"> Apr </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>20</span><span class="token plain">:55 </span><span class="token punctuation" style=color:#f8f8f2>..</span><span class="token plain">/</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">-rw-rw-r--  </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> john john </span><span class="token number" style=color:#ae81ff>1383</span><span class="token plain"> Apr </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>21</span><span class="token plain">:26 server.crt</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">-rw-rw-r--  </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> john john </span><span class="token number" style=color:#ae81ff>1675</span><span class="token plain"> Apr </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>21</span><span class="token plain">:25 server.key</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">-rw-rw-r--  </span><span class="token number" style=color:#ae81ff>1</span><span class="token plain"> john john </span><span class="token number" style=color:#ae81ff>1675</span><span class="token plain"> Apr </span><span class="token number" style=color:#ae81ff>23</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>21</span><span class="token plain">:26 server.key.public</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>When generating the certificate, the command prompts you to enter some information, which you can leave blank by pressing enter. We randomly filled in some information here.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example-code>Example Code<a href=#example-code class=hash-link aria-label="Direct link to Example Code" title="Direct link to Example Code">​</a></h3>
<p>Based on the generated key and certificate files, we demonstrate how to use <code>ghttp.Server</code> to implement an HTTPS service. The example code is as follows:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s </span><span class="token operator" style=color:#66d9ef>:=</span><span class="token plain"> ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>GetServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>BindHandler</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#66d9ef>func</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">r </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Request</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        r</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Response</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Writeln</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"Hello world from HTTPS!"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>EnableHTTPS</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/home/john/https/server.crt"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"/home/john/https/server.key"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>8199</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Run</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>As you can see, we directly pass the addresses of the previously generated certificate and key files to <code>EnableHTTPS</code>, and set the HTTPS service port using <code>s.SetPort(8199)</code>. Of course, we can also use <code>s.SetHTTPSPort(8199)</code> to achieve this. In a single service, there is no difference between the two, but when <code>WebServer</code> needs to support both <code>HTTP</code> and <code>HTTPS</code> services simultaneously, their roles are different. We will introduce this feature later. Afterward, we visit the page <a href=https://127.0.0.1:8199/ target=_blank rel="noopener noreferrer">https://127.0.0.1:8199/</a> to see the effect:</p>
<p><img decoding=async loading=lazy src=/en/assets/images/5dc4bd89fa1808fd5bd803fbb51d8436-d2ad2a10a3ae3705bfecb3f5655ad95f.png width=728 height=533 class=img_ev3q></p>
<p>You can see the browser gives a prompt, mainly because the certificate we generated is private, not provided by a third-party trusted company. Browsers usually come with some third-party trusted HTTPS certificate authorities. HTTPS certificates provided by these authorities are considered authoritative and trustworthy by the browser, which is why this prompt does not appear. Generally, this kind of third-party trusted authority certificate cost ranges from a few thousand to tens of thousands of RMB per year. Interested friends can learn more through search engines.</p>
<p><img decoding=async loading=lazy src=/en/assets/images/cf2c20d3a4af3e5f3efe850b5fa89bc1-c5fed081f8357feb61290c444a692f54.png width=732 height=699 class=img_ev3q></p>
<p>Here, we directly click <code>Advanced</code>, then click <code>Proceed to 127.0.0.1 (unsafe)</code>, and finally, you can see the expected result output on the page:</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,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" width=729 height=79 class=img_ev3q></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=support-for-https-and-http>Support for <code>HTTPS</code> and <code>HTTP</code><a href=#support-for-https-and-http class=hash-link aria-label="Direct link to support-for-https-and-http" title="Direct link to support-for-https-and-http">​</a></h2>
<p>We often encounter situations where we need to provide the same service through both HTTP and HTTPS, that is, the only difference is the port and access protocol, while everything else is the same. If we run it using the traditional method of multiple <code>WebServers</code>, it will be cumbersome. To easily solve the developer's troubles, <code>ghttp</code> provides a very convenient feature: supports "the same" <code>WebServer</code> to simultaneously support both <code>HTTPS</code> and <code>HTTP</code> access protocols. Let's take a look at an example:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s </span><span class="token operator" style=color:#66d9ef>:=</span><span class="token plain"> ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>GetServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>BindHandler</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#66d9ef>func</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">r </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Request</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        r</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Response</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Writeln</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"You can see this content through both HTTP and HTTPS!"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>EnableHTTPS</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/home/john/https/server.crt"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"/home/john/https/server.key"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetHTTPSPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>443</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>SetPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>80</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Run</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After execution, accessing these two addresses locally <a href=http://127.0.0.1/ target=_blank rel="noopener noreferrer">http://127.0.0.1/</a> and <a href=https://127.0.0.1/ target=_blank rel="noopener noreferrer">https://127.0.0.1/</a> will show the same content (it should be noted that due to some systems' permission restrictions, WebServer binding <code>80</code> and <code>443</code> ports require <code>root/administrator</code> permissions. If an error is reported when starting, you can change the port number and re-execute it).</p>
<p>In this example, we used two methods to enable HTTPS features:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">s </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">Server</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>EnableHTTPS</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">certFile</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> keyFile </span><span class="token builtin" style=color:#e6db74>string</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token builtin" style=color:#e6db74>error</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">s </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">Server</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>SetHTTPSPort</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">port </span><span class="token operator" style=color:#66d9ef>...</span><span class="token builtin" style=color:#e6db74>int</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token builtin" style=color:#e6db74>error</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>One is to add certificate and key files, and the other is to set the listening port for the HTTPS protocol. Once these two properties are set, the WebServer will enable the HTTPS feature. Moreover, the example also sets the listening port for HTTP services through the <code>SetPort</code> method, so the WebServer will simultaneously listen to the specified HTTPS and HTTP service ports.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=using-lets-encrypt-free-certificates>Using <code>Let’s Encrypt</code> Free Certificates<a href=#using-lets-encrypt-free-certificates class=hash-link aria-label="Direct link to using-lets-encrypt-free-certificates" title="Direct link to using-lets-encrypt-free-certificates">​</a></h2>
<p>There are many <code>SSL free certificate</code> authorities, such as:</p>
<ol>
<li><code>Tencent Cloud DV SSL Certificate</code>: <a href=https://cloud.tencent.com/product/ssl target=_blank rel="noopener noreferrer">https://cloud.tencent.com/product/ssl</a></li>
<li><code>Let’s Encrypt</code>: <a href=https://letsencrypt.org/ target=_blank rel="noopener noreferrer">https://letsencrypt.org/</a></li>
<li><code>CloudFlare SSL</code>: <a href=https://www.cloudflare.com/ target=_blank rel="noopener noreferrer">https://www.cloudflare.com/</a></li>
<li><code>StartSSL</code>: <a href=https://www.startcomca.com/ target=_blank rel="noopener noreferrer">https://www.startcomca.com/</a></li>
<li><code>Wosign沃通SSL</code>: <a href=https://www.wosign.com/ target=_blank rel="noopener noreferrer">https://www.wosign.com/</a></li>
<li><code>loovit.net AlphaSSL</code>: <a href="https://www.lowendtalk.com/entry/register?Target=discussion%2Fcomment%2F2306096" target=_blank rel="noopener noreferrer">https://www.lowendtalk.com/entry/register?Target=discussion%2Fcomment%2F2306096</a></li>
</ol>
<p>The following example uses <code>Let's Encrypt</code> to introduce how to apply, use, and renew a free certificate.</p>
<p><code>Let’s Encrypt</code> official website: <a href=https://letsencrypt.org/ target=_blank rel="noopener noreferrer">https://letsencrypt.org/</a></p>
<p>The following is an example of how to apply for a <code>Let's Encrypt</code> free certificate and use it with the <code>GoFrame</code> framework under the <code>Ubuntu</code> system.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=install-certbot>Install <code>Certbot</code><a href=#install-certbot class=hash-link aria-label="Direct link to install-certbot" title="Direct link to install-certbot">​</a></h3>
<p><code>Certbot</code> official website: <a href=https://certbot.eff.org/ target=_blank rel="noopener noreferrer">https://certbot.eff.org/</a></p>
<p>To apply for a <code>Let’s Encrypt</code> free certificate, you need to use the <code>certbot</code> tool:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">sudo apt</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">get update</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">sudo apt</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">get install software</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">properties</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">common</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">sudo add</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">apt</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">repository ppa</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain">certbot</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">certbot</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">sudo apt</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">get update</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">sudo apt</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">get install certbot</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=apply-for-a-certificate>Apply for a Certificate<a href=#apply-for-a-certificate class=hash-link aria-label="Direct link to Apply for a Certificate" title="Direct link to Apply for a Certificate">​</a></h3>
<p>Use the following command:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">certbot certonly </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">standalone </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">d domain_name </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">staple</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">ocsp </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">m email_address </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">agree</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">tos</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>For example:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">root@ip</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>172</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>31</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>41</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>204</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain">~# certbot certonly </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">standalone </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">d goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">staple</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">ocsp </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">m john@goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">agree</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">tos</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Saving debug log to </span><span class="token operator" style=color:#66d9ef>/</span><span class="token keyword" style=color:#66d9ef>var</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">log</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">log</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Plugins selected</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> Authenticator standalone</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> Installer None</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Starting </span><span class="token builtin" style=color:#e6db74>new</span><span class="token plain"> HTTPS connection </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token number" style=color:#ae81ff>1</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"> acme</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">v02</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">api</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">letsencrypt</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Obtaining a </span><span class="token builtin" style=color:#e6db74>new</span><span class="token plain"> certificate</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Performing the following challenges</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">http</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>01</span><span class="token plain"> challenge </span><span class="token keyword" style=color:#66d9ef>for</span><span class="token plain"> goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Waiting </span><span class="token keyword" style=color:#66d9ef>for</span><span class="token plain"> verification</span><span class="token operator" style=color:#66d9ef>...</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">Cleaning up challenges</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">IMPORTANT NOTES</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain"> Congratulations</span><span class="token operator" style=color:#66d9ef>!</span><span class="token plain"> Your certificate and chain have been saved at</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   </span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">etc</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">live</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">fullchain</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">pem</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   Your key file has been saved at</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   </span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">etc</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">live</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">privkey</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">pem</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   Your cert will expire on </span><span class="token number" style=color:#ae81ff>2019</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>01</span><span class="token operator" style=color:#66d9ef>-</span><span class="token number" style=color:#ae81ff>25.</span><span class="token plain"> To obtain a </span><span class="token builtin" style=color:#e6db74>new</span><span class="token plain"> or tweaked</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   version of this certificate in the future</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> simply run certbot</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   again</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain"> To non</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">interactively renew </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">all</span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> of your certificates</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> run</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   </span><span class="token string" style=color:#a6e22e>"certbot renew"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain"> If you like Certbot</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> please consider supporting our work by</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   Donating to ISRG </span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain"> Let's Encrypt</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain">   https</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token operator" style=color:#66d9ef>/</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">donate</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">   Donating to EFF</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token plain">                    https</span><span class="token punctuation" style=color:#f8f8f2>:</span><span class="token operator" style=color:#66d9ef>/</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">eff</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">donate</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">le</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>By default, the certificate will be installed in <code>/etc/letsencrypt/</code>, with the certificate and private key files respectively being:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">etc</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">live</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">fullchain</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">pem</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">etc</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">letsencrypt</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">live</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">goframe</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">org</span><span class="token operator" style=color:#66d9ef>/</span><span class="token plain">privkey</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">pem</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=use-the-certificate>Use the Certificate<a href=#use-the-certificate class=hash-link aria-label="Direct link to Use the Certificate" title="Direct link to Use the Certificate">​</a></h3>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token keyword" style=color:#66d9ef>package</span><span class="token plain"> main</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>import</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token string" style=color:#a6e22e>"github.com/gogf/gf/v2/net/ghttp"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token keyword" style=color:#66d9ef>func</span><span class="token plain"> </span><span class="token function" style=color:#e6db74>main</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"> </span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s </span><span class="token operator" style=color:#66d9ef>:=</span><span class="token plain"> ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>GetServer</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>BindHandler</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token keyword" style=color:#66d9ef>func</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token plain">r </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain">ghttp</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Request</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token punctuation" style=color:#f8f8f2>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">        r</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token plain">Response</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Writeln</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"Hello world from HTTPS!"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    </span><span class="token punctuation" style=color:#f8f8f2>}</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>EnableHTTPS</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token string" style=color:#a6e22e>"/etc/letsencrypt/live/goframe.org/fullchain.pem"</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> </span><span class="token string" style=color:#a6e22e>"/etc/letsencrypt/live/goframe.org/privkey.pem"</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain">    s</span><span class="token punctuation" style=color:#f8f8f2>.</span><span class="token function" style=color:#e6db74>Run</span><span class="token punctuation" style=color:#f8f8f2>(</span><span class="token punctuation" style=color:#f8f8f2>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token punctuation" style=color:#f8f8f2>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=certificate-renewal>Certificate Renewal<a href=#certificate-renewal class=hash-link aria-label="Direct link to Certificate Renewal" title="Direct link to Certificate Renewal">​</a></h3>
<p>The certificate is valid for <code>3 months</code> by default, and it needs to be renewed manually after expiration, using the following command:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain">certbot renew</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Example 1, we can use the <code>crontab</code> scheduled task to achieve automatic renewal:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain"># Try to renew once a day</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> restart the WebServer running on </span><span class="token string" style=color:#a6e22e>`GoFrame`</span><span class="token plain"> framework successfully</span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token number" style=color:#ae81ff>0</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> certbot renew </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">quiet </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">renew</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">hook </span><span class="token string" style=color:#a6e22e>"kill -SIGUSR1 $(pidof process_name)"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Example 2, if we manage the certificate through <code>nginx</code>, we can set up a scheduled task like this:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain"># Try to renew once a day</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> certificate renewal requires closing the WebServer listening on port </span><span class="token number" style=color:#ae81ff>80</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token number" style=color:#ae81ff>0</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> service nginx stop </span><span class="token operator" style=color:#66d9ef>&&</span><span class="token plain"> certbot renew </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">quiet </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">renew</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">hook </span><span class="token string" style=color:#a6e22e>"service nginx start"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>To prevent potential failures of the <code>certbot renew</code> command leading to <code>nginx</code> not restarting, to ensure stability, you can do this:</p>
<div class="language-go codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#f8f8f2;--prism-background-color:#272822><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-go codeBlock_bY9V thin-scrollbar" style=color:#f8f8f2;background-color:#272822><code class=codeBlockLines_e6Vv><span class=token-line style=color:#f8f8f2><span class="token plain"># Try to renew once a day</span><span class="token punctuation" style=color:#f8f8f2>,</span><span class="token plain"> certificate renewal requires closing the WebServer listening on port </span><span class="token number" style=color:#ae81ff>80</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token number" style=color:#ae81ff>0</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> service nginx stop </span><span class="token operator" style=color:#66d9ef>&&</span><span class="token plain"> certbot renew </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">quiet </span><span class="token operator" style=color:#66d9ef>--</span><span class="token plain">renew</span><span class="token operator" style=color:#66d9ef>-</span><span class="token plain">hook </span><span class="token string" style=color:#a6e22e>"service nginx start"</span><span class="token plain"></span><br></span><span class=token-line style=color:#f8f8f2><span class="token plain"></span><span class="token number" style=color:#ae81ff>5</span><span class="token plain"> </span><span class="token number" style=color:#ae81ff>3</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> </span><span class="token operator" style=color:#66d9ef>*</span><span class="token plain"> service nginx start</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/gogf/gf-site/blob/main/docs/docs/WEB服务开发/高级特性/HTTPS & TLS.md" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2024-11-24T01:31:50.000Z itemprop=dateModified>Nov 24, 2024</time></b> by <b>John</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/docs/web/senior-logging><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Logging</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/docs/web/senior-hot-reload><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Graceful Restart</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#https-service class="table-of-contents__link toc-highlight">HTTPS Service</a><ul><li><a href=#preparation class="table-of-contents__link toc-highlight">Preparation</a><li><a href=#example-code class="table-of-contents__link toc-highlight">Example Code</a></ul><li><a href=#support-for-https-and-http class="table-of-contents__link toc-highlight">Support for <code>HTTPS</code> and <code>HTTP</code></a><li><a href=#using-lets-encrypt-free-certificates class="table-of-contents__link toc-highlight">Using <code>Let’s Encrypt</code> Free Certificates</a><ul><li><a href=#install-certbot class="table-of-contents__link toc-highlight">Install <code>Certbot</code></a><li><a href=#apply-for-a-certificate class="table-of-contents__link toc-highlight">Apply for a Certificate</a><li><a href=#use-the-certificate class="table-of-contents__link toc-highlight">Use the Certificate</a><li><a href=#certificate-renewal class="table-of-contents__link toc-highlight">Certificate Renewal</a></ul></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Follow Us On WeChat</div><ul class="footer__items clean-list"><li class=footer__item><img src=/img/wechat.jpg width=110></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright ©2024 GoFrame OpenSource Team</div></div></div></footer></div>