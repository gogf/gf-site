<!doctype html><html lang=en-US dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docs/WEB服务开发/Session/Session" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Session | GoFrame - A powerful framework for faster, easier, and more efficient project development</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://goframe.org/en/docs/web/session><meta data-rh=true property=og:locale content=en_US><meta data-rh=true property=og:locale:alternate content=zh_Hans><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Session | GoFrame - A powerful framework for faster, easier, and more efficient project development"><meta data-rh=true name=description content="The Session management features in the GoFrame framework, including the basic concepts of Session, the implementation of the gsession module, and its applications in different scenarios. The document discusses in detail the methods of SessionId transmission, initialization, destruction, and provides four common Session storage implementations and their characteristics, offering a rich set of tools for developers in Session management in HTTP and other service environments."><meta data-rh=true property=og:description content="The Session management features in the GoFrame framework, including the basic concepts of Session, the implementation of the gsession module, and its applications in different scenarios. The document discusses in detail the methods of SessionId transmission, initialization, destruction, and provides four common Session storage implementations and their characteristics, offering a rich set of tools for developers in Session management in HTTP and other service environments."><meta data-rh=true name=keywords content="GoFrame,GoFrame framework,Session management,gsession,HTTP service,SessionId,Concurrency safety,ghttp.Request,gsession module,Session storage"><link data-rh=true rel=icon href=/en/img/favicon.ico><link data-rh=true rel=canonical href=https://goframe.org/en/docs/web/session><link data-rh=true rel=alternate href=https://goframe.org/docs/web/session hreflang=zh-Hans><link data-rh=true rel=alternate href=https://goframe.org/en/docs/web/session hreflang=en-US><link data-rh=true rel=alternate href=https://goframe.org/docs/web/session hreflang=x-default><link data-rh=true rel=preconnect href=https://ZQUL8VI47R-dsn.algolia.net crossorigin><link rel=search type=application/opensearchdescription+xml title="GoFrame - A powerful framework for faster, easier, and more efficient project development" href=/en/opensearch.xml><script src=https://hm.baidu.com/hm.js?38f38a0626fd7805722db06243cd0fa7 async></script><link rel=stylesheet href=/en/assets/css/styles.b09a3e0d.css><script src=/en/assets/js/main.9d91b445.js defer></script><script src=/en/assets/js/runtime~main.ae76532e.js defer></script><body class=navigation-with-keyboard><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/en/><div class=navbar__logo><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/en/img/logo2.png alt="GoFrame Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" sidebarid=quickSidebar href=/en/quick/install>Quick Start</a><a class="navbar__item navbar__link" sidebarid=mainSidebar href=/en/docs/core>Documentation</a><div class="navbar__item dropdown dropdown--hoverable"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button sidebarid=courseSidebar href=/en/course>Courses</a><ul class=dropdown__menu><li><a class=dropdown__link sidebarid=courseSidebar href=/en/course/bilibili-video>Video Tutorial(Chinese)</a><li><a class=dropdown__link sidebarid=courseStarBookSidebar href=/en/course/starbook>Practical Tutorial - Star English Book</a><li><a class=dropdown__link sidebarid=courseProximaBookSidebar href=/en/course/proxima-book>Microservice Tutorial - Proxima Book</a></ul></div><a class="navbar__item navbar__link" href=/en/examples/grpc>Examples</a><a class="navbar__item navbar__link" href=/en/showcase>Show Case</a><a class="navbar__item navbar__link" href=/en/release/note>Releases</a><a class="navbar__item navbar__link" sidebarid=communitySidebar href=/en/share/group>Community</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class=navbar__link aria-haspopup=true aria-expanded=false role=button href=/en/docs/web/session>2.8.x(Latest)</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/en/docs/web/session>2.8.x(Latest)</a><li><a class=dropdown__link href=/en/2.7.x/docs/web/session>2.7.x</a><li><a class=dropdown__link href=/en/2.6.x/项目开发>2.6.x</a><li><a class=dropdown__link href=/en/2.5.x/项目开发>2.5.x</a><li><a class=dropdown__link href=/en/2.4.x/开发工具>2.4.x</a><li><a class=dropdown__link href=/en/2.3.x/开发工具>2.3.x</a><li><a class=dropdown__link href=/en/2.2.x/开发工具>2.2.x</a><li><a class=dropdown__link href=/en/2.1.x/开发工具>2.1.x</a><li><a class=dropdown__link href=/en/2.0.x/开发工具>2.0.x</a><li><a class=dropdown__link href=/en/1.16.x/开发工具>1.16.x</a></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href=# aria-haspopup=true aria-expanded=false role=button class=navbar__link><svg viewBox="0 0 24 24" width=20 height=20 aria-hidden=true class=iconLanguage_nlXk><path fill=currentColor d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"/></svg>English</a><ul class=dropdown__menu><li><a href=/docs/web/session rel="noopener noreferrer" class=dropdown__link lang=zh-Hans>简体中文</a><li><a href=/en/docs/web/session rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang=en-US>English</a></ul></div><a href=https://github.com/gogf/gf target=_blank rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class=navbarSearchContainer_Bca1><button type=button class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class=DocSearch-Button-Container><svg width=20 height=20 class=DocSearch-Search-Icon viewBox="0 0 20 20" aria-hidden=true><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke=currentColor fill=none fill-rule=evenodd stroke-linecap=round stroke-linejoin=round /></svg><span class=DocSearch-Button-Placeholder>Search</span></span><span class=DocSearch-Button-Keys></span></button></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/cli>CLI Tool</a><button aria-label="Expand sidebar category 'CLI Tool'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/core>Core Components 🔥</a><button aria-label="Expand sidebar category 'Core Components 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/components>Components Category</a><button aria-label="Expand sidebar category 'Components Category'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/en/docs/web>WEB Service Development</a><button aria-label="Collapse sidebar category 'WEB Service Development'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/start>Getting Started</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/router>Router 🔥</a><button aria-label="Expand sidebar category 'Router 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/api-document>API Document</a><button aria-label="Expand sidebar category 'API Document'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/request>Request 🔥</a><button aria-label="Expand sidebar category 'Request 🔥'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/response>Response</a><button aria-label="Expand sidebar category 'Response'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/server-config>Configuration</a><button aria-label="Expand sidebar category 'Configuration'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/cookie>Cookie</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current=page tabindex=0 href=/en/docs/web/session>Session</a><button aria-label="Collapse sidebar category 'Session'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/session-file>Session - File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/session-memory>Session - Memory</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/session-redis-key-value>Session - Redis-KeyValue</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/session-redis-hash-table>Session - Redis-HashTable</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/session-storage>Session - Storage Interface</a></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/panic-handling>Exception Handling</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/http-client>HTTPClient</a><button aria-label="Expand sidebar category 'HTTPClient'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/paging>Pagination</a><button aria-label="Expand sidebar category 'Pagination'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/en/docs/web/senior>Advanced Features</a><button aria-label="Expand sidebar category 'Advanced Features'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/performance>Performance</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/en/docs/web/faq>FAQ</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/micro-service>Microservice Development</a><button aria-label="Expand sidebar category 'Microservice Development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/obs>Service Observability</a><button aria-label="Expand sidebar category 'Service Observability'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/faq>Frequently Asked Questions (FAQ)</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/deploy>Project Deployment</a><button aria-label="Expand sidebar category 'Project Deployment'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/design>Framework Design</a><button aria-label="Expand sidebar category 'Framework Design'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/en/docs/other>Other Documents</a><button aria-label="Expand sidebar category 'Other Documents'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/en/docs/changelog>Docs Changelog</a></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/en/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/en/docs/web><span itemprop=name>WEB Service Development</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Session</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 2.8.x(Latest)</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>The <code>GoFrame</code> framework provides comprehensive <code>Session</code> management capabilities, implemented by the <code>gsession</code> component. Since the <code>Session</code> mechanism is most commonly used in <code>HTTP</code> services, the subsequent chapters will focus on the use of <code>Session</code> in the context of <code>HTTP</code> services.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=introduction>Introduction<a href=#introduction class=hash-link aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>API Documentation: <a href=https://pkg.go.dev/github.com/gogf/gf/v2/os/gsession target=_blank rel="noopener noreferrer">https://pkg.go.dev/github.com/gogf/gf/v2/os/gsession</a></p>
<p>You can obtain a <code>Session</code> object at any time through <code>ghttp.Request</code> since both <code>Cookie</code> and <code>Session</code> are related to request sessions and thus are part of the <code>Request</code> member objects and are publicly accessible. The default expiration time for <code>Session</code> in the <code>GoFrame</code> framework is <code>24 hours</code>.</p>
<p>The <code>SessionId</code> is transmitted by default through <code>Cookie</code>, but it also supports transmission via <code>Header</code> from the client. The identification name of <code>SessionId</code> can be modified through the <code>SetSessionIdName</code> of <code>ghttp.Server</code>. The operations of <code>Session</code> are concurrency-safe, which is why the framework does not operate data directly in a <code>map</code> form in its <code>Session</code> design. During the <code>HTTP</code> request flow, we can obtain the <code>Session</code> object through the <code>ghttp.Request</code> object and perform the corresponding data operations.</p>
<p>In addition, the <code>SessionId</code> in <code>ghttp.Server</code> is generated using the client's <code>RemoteAddr + Header</code> request information via the <code>guid</code> module, ensuring randomness and uniqueness: <a href=https://github.com/gogf/gf/blob/master/net/ghttp/ghttp_request.go target=_blank rel="noopener noreferrer">https://github.com/gogf/gf/blob/master/net/ghttp/ghttp_request.go</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=gsession-module><code>gsession</code> Module<a href=#gsession-module class=hash-link aria-label="Direct link to gsession-module" title="Direct link to gsession-module">​</a></h2>
<p>The management functionality of <code>Session</code> is implemented by the independent <code>gsession</code> module and is perfectly integrated into <code>ghttp.Server</code>. Since this module is decoupled and independent, it can be applied to more different scenarios, such as <code>TCP</code> communication, <code>gRPC</code> API services, etc. The <code>gsession</code> module has three important objects/APIs:</p>
<ol>
<li><code>gsession.Manager</code>: Manages <code>Session</code> objects, <code>Storage</code> persistence storage objects, and expiration time control.</li>
<li><code>gsession.Session</code>: A single <code>Session</code> management object, used for CRUD operations on <code>Session</code> parameters and other data management operations.</li>
<li><code>gsession.Storage</code>: This is an API definition used for the persistent storage of <code>Session</code> objects, data writing/reading, and survival updates. Developers can implement customized persistent storage features based on this API. For the API definition, see: <a href=https://github.com/gogf/gf/blob/master/os/gsession/gsession_storage.go target=_blank rel="noopener noreferrer">https://github.com/gogf/gf/blob/master/os/gsession/gsession_storage.go</a></li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=storage-implementations>Storage Implementations<a href=#storage-implementations class=hash-link aria-label="Direct link to Storage Implementations" title="Direct link to Storage Implementations">​</a></h2>
<p><code>gsession</code> implements and provides developers with four common <code>Session</code> storage implementations:</p>
<table><thead><tr><th>Storage<th>Distributed Support<th>Persistence Support<th>Memory Usage<th>Execution Efficiency<th>Brief Introduction<tbody><tr><td><code>StorageFile</code><td>No<td>Yes<td>Medium<td>Medium<td>Based on file storage (default). A more efficient persistent storage method under single-node deployment: <a href=/en/docs/web/session-file>Session - File</a><tr><td><code>StorageMemory</code><td>No<td>No<td>High<td>High<td>Based on pure memory storage. Single-node deployment, highest performance, but cannot be persisted, and is lost on restart: <a href=/en/docs/web/session-memory>Session - Memory</a><tr><td><code>StorageRedis</code><td>Yes<td>Yes<td>Medium<td>Medium<td>Based on <code>Redis</code> storage (<code>Key-Value</code>). Remote <code>Redis</code> node stores <code>Session</code> data, supporting multi-node deployment: <a href=/en/docs/web/session-redis-key-value>Session - Redis-KeyValue</a><tr><td><code>StorageRedisHashTable</code><td>Yes<td>Yes<td>Low<td>Low<td>Based on <code>Redis</code> storage (<code>HashTable</code>). Remote <code>Redis</code> node stores <code>Session</code> data, supporting multi-node deployment: <a href=/en/docs/web/session-redis-hash-table>Session - Redis-HashTable</a></table>
<p>Each method has its advantages and disadvantages. For detailed introductions, please refer to the corresponding sections.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=initialization-of-session>Initialization of <code>Session</code><a href=#initialization-of-session class=hash-link aria-label="Direct link to initialization-of-session" title="Direct link to initialization-of-session">​</a></h2>
<p>Taking a common HTTP request as an example, the <code>Session</code> object in <code>ghttp.Request</code> adopts a "<strong>Lazy Initialization</strong>" design approach. By default, there is a <code>Session</code> property object in the <code>Request</code>, but it is not initialized (an empty object). The initialization is only executed when methods of the <code>Session</code> property object are used. This design ensures that the execution performance of requests not utilizing the <code>Session</code> feature is maintained, while also ensuring the ease of use of the component.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=destructionlogout-of-session>Destruction/Logout of <code>Session</code><a href=#destructionlogout-of-session class=hash-link aria-label="Direct link to destructionlogout-of-session" title="Direct link to destructionlogout-of-session">​</a></h2>
<p>When a user's <code>Session</code> is no longer needed, for instance, when a user logs out, the session needs to be hard-deleted from storage. This can be done by calling the <code>RemoveAll</code> method.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=documentation>Documentation<a href=#documentation class=hash-link aria-label="Direct link to Documentation" title="Direct link to Documentation">​</a></h2>
<!-- -->
<section class=row><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href=/en/docs/web/session-file><h2 class="text--truncate cardTitle_rnsV" title="Session - File">📄️<!-- --> <!-- -->Session - File</h2><p class="text--truncate cardDescription_PWke" title="Using the ghttp.Server of the GoFrame framework to implement file storage for sessions. By default, session storage uses a combination of memory and files through StorageFile for persistent management. Thanks to the gcache module, session data operations are efficient, especially suitable for scenarios with more reads and fewer writes. Meanwhile, the demonstration example shows how to set and get sessions in a GoFrame project.">Using the ghttp.Server of the GoFrame framework to implement file storage for sessions. By default, session storage uses a combination of memory and files through StorageFile for persistent management. Thanks to the gcache module, session data operations are efficient, especially suitable for scenarios with more reads and fewer writes. Meanwhile, the demonstration example shows how to set and get sessions in a GoFrame project.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href=/en/docs/web/session-memory><h2 class="text--truncate cardTitle_rnsV" title="Session - Memory">📄️<!-- --> <!-- -->Session - Memory</h2><p class="text--truncate cardDescription_PWke" title="Use memory storage to implement Session functionality in the GoFrame framework. Memory storage is simple and efficient, but does not support persistence, so Session data will be lost after the application restarts. Through example code, it is explained in detail how to set the expiration time of the Session and how to store and retrieve Session data.">Use memory storage to implement Session functionality in the GoFrame framework. Memory storage is simple and efficient, but does not support persistence, so Session data will be lost after the application restarts. Through example code, it is explained in detail how to set the expiration time of the Session and how to store and retrieve Session data.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href=/en/docs/web/session-redis-key-value><h2 class="text--truncate cardTitle_rnsV" title="Session - Redis-KeyValue">📄️<!-- --> <!-- -->Session - Redis-KeyValue</h2><p class="text--truncate cardDescription_PWke" title="Using Redis in the GoFrame framework for Session KeyValue storage to solve the issue of Session sharing across multiple nodes. By using the StorageRedis object to implement Redis storage, it improves execution efficiency, suitable for scenarios with small amounts of user Session data, and provides specific examples and explanations. In the example, the Session expiration time is set to 1 minute, demonstrating methods of setting, getting, deleting Sessions, and the recovery function of Session data in Redis.">Using Redis in the GoFrame framework for Session KeyValue storage to solve the issue of Session sharing across multiple nodes. By using the StorageRedis object to implement Redis storage, it improves execution efficiency, suitable for scenarios with small amounts of user Session data, and provides specific examples and explanations. In the example, the Session expiration time is set to 1 minute, demonstrating methods of setting, getting, deleting Sessions, and the recovery function of Session data in Redis.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href=/en/docs/web/session-redis-hash-table><h2 class="text--truncate cardTitle_rnsV" title="Session - Redis-HashTable">📄️<!-- --> <!-- -->Session - Redis-HashTable</h2><p class="text--truncate cardDescription_PWke" title="In the GoFrame framework, use RedisHashTableStorage for session management. Unlike RedisKeyValueStorage, this method operates directly through the Redis service without needing a full data fetch. The example code illustrates basic session setting, retrieval, and deletion operations, and how to integrate this feature in GoFrame.">In the GoFrame framework, use RedisHashTableStorage for session management. Unlike RedisKeyValueStorage, this method operates directly through the Redis service without needing a full data fetch. The example code illustrates basic session setting, retrieval, and deletion operations, and how to integrate this feature in GoFrame.</p></a></article><article class="col col--6 margin-bottom--lg"><a class="card padding--lg cardContainer_fWXF" href=/en/docs/web/session-storage><h2 class="text--truncate cardTitle_rnsV" title="Session - Storage Interface">📄️<!-- --> <!-- -->Session - Storage Interface</h2><p class="text--truncate cardDescription_PWke" title="Developing Session-Storage interfaces using the gsession component in the GoFrame framework. The built-in Storage implementation within the component can meet the needs of most business scenarios. Developers can also customize session storage according to specific cases. The article describes in detail the definition of the Storage interface and its invocation timing. To improve session performance, it is recommended to use the gmap container type. This guide will help developers better implement and optimize storage interfaces.">Developing Session-Storage interfaces using the gsession component in the GoFrame framework. The built-in Storage implementation within the component can meet the needs of most business scenarios. Developers can also customize session storage according to specific cases. The article describes in detail the definition of the Storage interface and its invocation timing. To improve session performance, it is recommended to use the gmap container type. This guide will help developers better implement and optimize storage interfaces.</p></a></article></section></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href=https://github.com/gogf/gf-site/blob/main/docs/docs/WEB服务开发/Session/Session.md target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class=theme-last-updated>Last updated<!-- --> on <b><time datetime=2024-11-27T14:16:10.000Z itemprop=dateModified>Nov 27, 2024</time></b> by <b>John</b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/en/docs/web/cookie><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Cookie</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/en/docs/web/session-file><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Session - File</div></a></nav><div class=docusaurus-mt-lg></div></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#introduction class="table-of-contents__link toc-highlight">Introduction</a><li><a href=#gsession-module class="table-of-contents__link toc-highlight"><code>gsession</code> Module</a><li><a href=#storage-implementations class="table-of-contents__link toc-highlight">Storage Implementations</a><li><a href=#initialization-of-session class="table-of-contents__link toc-highlight">Initialization of <code>Session</code></a><li><a href=#destructionlogout-of-session class="table-of-contents__link toc-highlight">Destruction/Logout of <code>Session</code></a><li><a href=#documentation class="table-of-contents__link toc-highlight">Documentation</a></ul></div></div></div></div></main></div></div></div><footer class=footer><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Follow Us On WeChat</div><ul class="footer__items clean-list"><li class=footer__item><img src=/img/wechat.jpg width=110></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright ©2024 GoFrame OpenSource Team</div></div></div></footer></div>